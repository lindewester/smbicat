%
\documentclass{amsart}
\input{decls}

\UseAllTwocells
\title{Constructing symmetric monoidal bicategories functorially}
\author{Michael A.\ Shulman}
\author{Linde Wester}
\thanks{This material is based on research sponsored by The United States Air Force Research Laboratory under agreement number FA9550-15-1-0053.  The U.S.~Government is authorized to reproduce and distribute reprints for Governmental purposes notwithstanding any copyright notation thereon.  The views and conclusions contained herein are those of the authors and should not be interpreted as necessarily representing the official policies or endorsements, either expressed or implied, of the United States Air Force Research Laboratory, the U.S.~Government, or Carnegie Mellon University.}
\mdef\cMod{\mathcal{M}\mathit{od}}
\mdef\cCat{\mathcal{C}\mathit{at}}
\mdef\cTwocat{2\text{-}\mathcal{C}\mathit{at}}
\mdef\cBicat{\mathcal{B}\mathit{icat}}
\mdef\lMod{\mathbb{M}\mathsf{od}}
\mdef\lnCob{n\mathbb{C}\mathsf{ob}}
\mdef\lProf{\mathbb{P}\mathsf{rof}}
\mdef\cDbl{\mathcal{D}\mathit{bl}}
\mdef\fchk{\check{f}}
\mdef\conj{\Yleft}
\mdef\Conj{\mathcal{C}\mathit{onj}}
\mdef\D{\mathbb{D}}
\mdef\E{\mathbb{E}}
\newcommand{\Alg}{\mathbb{A}\mathit{lg}}
\newcommand{\tens}{\boxtimes}
\newcommand{\ver}{\cdot}
\newcommand{\hor}{\circ}
\begin{document}

\maketitle

\begin{abstract}
  We present a method of constructing symmetric monoidal bicategories
  from symmetric monoidal double categories that satisfy a lifting
  condition. Such symmetric monoidal double categories frequently
  occur in nature, so the method is widely applicable, though not
  universally so. Our main example is the bicategory ${\cA}lg$ of algebras, bimodules and bimodule homomorphisms. The same method can be used to construct symmetric monoidal functors and symmetric monoidal transformations, and is functorial.   
\end{abstract}


\section{Introduction}
\label{sec:introduction}

Symmetric monoidal bicategories are important in many contexts.
However, the definition of even a monoidal bicategory
(see~\cite{gps:tricats,nick:tricats}), let alone a symmetric monoidal
one
(see~\cite{kv:2cat-zam,kv:bm2cat,bn:hda-i,ds:monbi-hopfagbd,crans:centers,mccrudden:bal-coalgb,gurski:brmonbicat}),
% TODO: update references
is quite imposing, and time-consuming to verify in any example.  In
this paper we describe a method for constructing symmetric monoidal
bicategories which is hardly more difficult than constructing a pair
of ordinary symmetric monoidal categories.  While not universally
applicable, this method applies in many cases of interest.  This idea
has often been implicitly used in particular cases, such as
bicategories of enriched profunctors, but to our knowledge the first
general statement was claimed in~\cite[Appendix B]{shulman:frbi}.  Our
purpose here is to work out the details, independently
of~\cite{shulman:frbi}.\footnote{These details have also been worked out
in~\cite[\S5]{gg:ldstr-tricat} from a different perspective, using
``locally-double bicategories''.  Our goal is to be more
comprehensive, considering also the case of symmetric monoidal
structure and the construction of monoidal functors and
transformations.}

The method relies on the fact that in many bicategories, the 1-cells
are not the most fundamental notion of `morphism' between the objects.
For instance, in the bicategory \cMod\ of rings, bimodules, and
bimodule maps, the more fundamental notion of morphism between objects
is a ring homomorphism. The addition of these extra morphisms promotes
a bicategory to a \emph{double category}, or a category internal to
\cCat.  The extra morphisms are usually stricter than the 1-cells in
the bicategory and easier to deal with for coherence questions; in
many cases it is quite easy to show that we have a \emph{symmetric
  monoidal double category}.  The central observation is that in most
cases (when the double category is `fibrant') we can then `lift' this
symmetric monoidal structure to the original bicategory.  That is, we
prove the following theorem:

\begin{thm}\label{thm:mondbl-monbi-intro}
  If \lD\ is a fibrant monoidal double category, then its underlying
  bicategory $\cH(\lD)$ is a monoidal bicategory.  If \lD\ is braided
  or symmetric, so is $\cH(\lD)$. Furthermore, the assignment $\cH$
  extends to a trifunctor, so we can use it to construct functors and
  transformations between monoidal bicategories as well.
\end{thm}

We expect similar theorems to be true in higher dimensions.  For
instance, Chris Douglas~\cite{douglas:tfttalk} has suggested that many
apparent tricategories are more naturally bicategories internal to
\cCat\ or categories internal to \cTwocat; and in most such cases
arising in practice, we can again `lift' the coherence to give a
tricategory after discarding the additional structure.

We propose the generic term \textbf{$(n\times k)$-category}
(pronounced ``$n$-by-$k$-category'') for an $n$-category internal to
$k$-categories, a structure which has $(n+1)(k+1)$ different types of
cells or morphisms arranged in an $(n+1)$ by $(k+1)$ grid.  Thus
double categories may be called \textbf{1x1-categories}, while in
place of tricategories we may consider 2x1-categories and
1x2-categories --- or even 1x1x1-categories, i.e.\ triple categories,
as in~\cite{gp:intercategories-i,gp:intercategories-ii}.  Any
$(n\times k)$-category which satisfies a suitable lifting property
should have an underlying $(n+k)$-category, but clearly as $n$ and $k$
grow an increasing amount of structure is discarded in this process.

% , such as duality and
% trace~\cite{ps:traces} or autonomous
% structure~\cite{ds:monbi-hopfagbd,street:funct-calc,dms:antipodes},

There is a good case to be made that often the extra morphisms should
\emph{not} be discarded; indeed this is the perspective of much work
on double categories.  However, even from this perspective, sometimes
it really is the underlying $(n+k)$-category that one cares about; for
instance, the Baez-Dolan cobordism hypothesis asserts a universal
property of the $(n+1)$-category of cobordisms which is not shared by
the $(n\times 1)$-category from which it is naturally constructed
(see~\cite{lurie:tft}).  Thus, regardless of one's philosophical bent,
results such as \autoref{thm:mondbl-monbi-intro} are of interest.

Proceeding to the contents of this paper, in
\S\ref{sec:symm-mono-double} we review the definition of symmetric
monoidal double categories, and in \S\ref{sec:comp-conj} we recall the
notions of `companion' and `conjoint' whose presence supplies the
necessary lifting property, which we call being \emph{fibrant}.  Then
in \S\ref{sec:1x1-to-bicat} we describe a functor from fibrant double
categories to bicategories, and in \S\ref{sec:constr-symm-mono} we
show that it preserves monoidal, braided, and symmetric structures. Finally, in \S\ref{sec:Alg} we illustrate our method by constructing the symmetric monoidal bicategory ${\cA}lg$ of algebras, bimodules and bimodule homomorphisms.

We would like to thank Peter May, Tom Fiore, Stephan Stolz, Chris
Douglas, Nick Gurski, and Jamie Vicary for helpful discussions and comments.


\section{Symmetric monoidal double categories}
\label{sec:symm-mono-double}

In this section, we recall basic notions of double categories, mainly to fix our terminology and notation.
Double categories go back originally to Ehresmann
in~\cite{ehresmann:cat-str}; a brief introduction can be found
in~\cite{ks:r2cats}.  Other references
include~\cite{multi_funct_i,gp:double-limits,gp:double-adjoints}.


\begin{defn}
  A \textbf{(pseudo) double category} \lD\ consists of a `category of
  objects' $\lD_0$ and a `category of arrows' $\lD_1$, with structure
  functors
  \begin{align*}
    U&\maps \lD_0\to \lD_1\\
    S,T&\maps \lD_1\rightrightarrows \lD_0\\
    \odot&\maps \lD_1\times_{\lD_0}\lD_1\to \lD_1
  \end{align*}
  (where the pullback is over
  $\lD_1\too[T]\lD_0\overset{S}{\longleftarrow} \lD_1$) such that
  \begin{alignat*}{2}
    S(U_A) &= A &\qquad
    S(M\odot N) &= SN\\
    T(U_A) &= A &\qquad
    T(M\odot N) &= TM
  \end{alignat*}
  naturally, and equipped with natural isomorphisms
  \begin{align*}
    \fa &: (M\odot N) \odot P \too[\iso] M \odot (N \odot P)\\
    \fl &: U_B \odot M \too[\iso] M\\
    \fr &: M \odot U_A \too[\iso] M
  \end{align*}
  such that $S(\fa)$, $T(\fa)$, $S(\fl)$, $T(\fl)$, $S(\fr)$, and
  $T(\fr)$ are all identities, and such that the standard coherence
  axioms for a monoidal category or bicategory (such as Mac Lane's
  pentagon; see~\cite{maclane}) are satisfied.
\end{defn}

Just as a bicategory can be thought of as a category weakly
\emph{enriched} over \cCat, a pseudo double category can be thought of
as a category weakly \emph{internal} to \cCat.  Since these are the
kind of double categories of most interest to us, we will usually drop
the adjective ``pseudo.''

We call the objects of $\lD_0$ \textbf{objects} or \textbf{0-cells},
and we call the morphisms of $\lD_0$ \textbf{(vertical) 1-morphisms}
and write them as $f\maps A\to B$.  We call the objects of $\lD_1$
\textbf{(horizontal) 1-cells}; if $M$ is a 1-cell with $S(M)=A$ and
$T(M)=B$, we write $M\maps A\hto B$.  We call a morphism $\alpha\maps
M\to N$ of $\lD_1$ with $S(\alpha)=f$ and $T(\alpha)=g$ a
\textbf{2-morphism} and draw it as follows:
\begin{equation}\label{eq:square}
  \xymatrix@-.5pc{
    A \ar[r]|{|}^{M}  \ar[d]_f \ar@{}[dr]|{\Downarrow\alpha}&
    B\ar[d]^g\\
    C \ar[r]|{|}_N & D
  }.
\end{equation}
Note that we distinguish between \emph{1-morphisms}, which we draw
vertically, and \emph{1-cells}, which we draw horizontally.  In
traditional double-category terminology these are both referred to
with the same word (be it ``cell'' or ``morphism'' or ``arrow''), the
distinction being made only by the adjectives ``vertical'' and
``horizontal.''  Our terminology is more concise, and allows for
flexibility in the drawing of pictures without a corresponding change
in names (some authors prefer to draw their double categories
transposed from ours).

We write the composition of vertical 1-morphisms $A\too[f] B\too[g] C$
and the vertical composition of 2-morphisms $M\too[\alpha]
N\too[\beta] P$ as $g\circ f$ and $\beta\circ\alpha$, or sometimes
just $gf$ and $\beta\alpha$.  We write the horizontal composition of
1-cells $A\xhto{M} B \xhto{N} C$ as $A\xhto{N\odot M} C$ and that of
2-morphisms
\[\vcenter{\xymatrix{ \ar[r]|-@{|}^-{} \ar[d] \ar@{}[dr]|{\Downarrow\alpha} &
     \ar[r]|-@{|}^-{} \ar[d] \ar@{}[dr]|{\Downarrow\beta} &\ar[d]\\
  \ar[r]|-@{|}_-{} & \ar[r]|-@{|}_-{} & }}\]
as
\[\vcenter{\xymatrix@C=4pc{ \ar[r]|-@{|}^-{} \ar[d] \ar@{}[dr]|{\Downarrow\;\be\odot\al} &  \ar[d]\\
  \ar[r]|-@{|}_-{} & }}\]
The two different compositions of 2-morphisms obey an interchange law,
by the functoriality of $\odot$:
\[(M_1\odot M_2) \circ (N_1\odot N_2) = (M_1\circ N_1)\odot (M_2\circ N_2).
\]
Every object $A$ has a vertical identity $1_A$ and a horizontal unit
$U_A$, every 1-cell $M$ has an identity 2-morphism $1_M$, every
vertical 1-morphism $f$ has a horizontal unit 2-morphism $U_f$, and we
have $1_{U_A} = U_{1_A}$ (by the functoriality of $U$).

Note that the vertical composition $\circ$ is strictly associative and
unital, while the horizontal one $\odot$ is only weakly so.  This is
the case in most of the examples we have in mind.  It is possible to
define double categories that are weak in both directions (see, for
instance,~\cite{verity:base-change}), but this introduces much more
complication and is usually unnecessary.

\begin{rmk}\label{rmk:monglob}
  In general, an $(n\times 1)$-category consists of 1-categories
  $\lD_i$ for $0\le i\le n$, together with source, target, unit, and
  composition functors and coherence isomorphisms.  We refer to the
  objects of $\lD_i$ as \textbf{$i$-cells} and to the morphisms of
  $\lD_i$ as \textbf{morphisms of $i$-cells} or \textbf{(vertical)
    $(i+1)$-morphisms}.  A formal definition can be found
  in~\cite{batanin:monglob} under the name \emph{monoidal $n$-globular
    category}.
\end{rmk}

% We call $\lD_0$ the \textbf{vertical category} of \lD.  We say that two
% objects are isomorphic if they are isomorphic in $\lD_0$, and that two
% horizontal 1-cells are isomorphic if they are isomorphic in $\lD_1$.
% We will never refer to a horizontal 1-cell as an isomorphism.

A 2-morphism~\eqref{eq:square} where $f$ and $g$ are identities (such
as the constraint isomorphisms $\fa,\fl,\fr$) is called
\textbf{globular}.  Every double category \lD\ has a
\textbf{horizontal bicategory} $\cH(\lD)$ consisting of the objects,
1-cells, and globular 2-morphisms.  Conversely, many naturally
occurring bicategories are actually the horizontal bicategory of some
naturally ocurring double category.  Here are just a few examples.

\begin{eg}
  The double category \lMod\ has as objects rings, as 1-morphisms ring
  homomorphisms, as 1-cells bimodules, and as 2-morphisms equivariant
  bimodule maps.  Its horizontal bicategory $\cMod = \cH(\lMod)$ is
  the usual bicategory of rings and bimodules. In Section ~\ref{sec:Alg} we prove that this bicategory is symmetric monoidal.
\end{eg}

\begin{eg}
  The double category \lnCob\ has as objects closed $n$-manifolds, as
  1-morphisms diffeomorphisms, as 1-cells cobordisms, and as
  2-morphisms diffeomorphisms between cobordisms.  Again $\cH(\lnCob)$
  is the usual bicategory of cobordisms.
\end{eg}

\begin{eg}
  The double category \lProf\ has as objects categories, as
  1-morphisms functors, as 1-cells \emph{profunctors} (a profunctor
  $A\hto B$ is a functor $B\op\times A\to \mathbf{Set}$), and as
  2-morphisms natural transformations.  Bicategories such as
  $\cH(\lProf)$ are commonly encountered in category theory,
  especially the enriched versions.
\end{eg}

% If $A$ and $B$ are objects of \lD, we write $\lD(A,B)$ for the
% \emph{set} of vertical arrows from $A$ to $B$ and $\calD(A,B)$ for the
% \emph{category} of horizontal 1-cells and globular 2-cells from $A$ to
% $B$.  It is standard in bicategory theory to say that something holds
% \textbf{locally} when it is true of all hom-categories $\calD(A,B)$, and
% we will extend this usage to double categories.

As opposed to bicategories, which naturally form a tricategory, double
categories naturally form a \emph{2-category}, a much simpler object.

\begin{defn}
  Let \lD\ and \lE\ be double categories.  A \textbf{(pseudo double)
    functor} $F\maps \lD\to \lE$ consists of the following.
  \begin{itemize}
  \item Functors $F_0\maps \lD_0 \to \lE_0$ and $F_1\maps \lD_1 \to
    \lE_1$ such that $S\circ F_1 = F_0\circ S$ and $T\circ F_1 =
    F_0\circ T$.
  \item Natural transformations $F_\odot\maps F_1M \odot F_1N \to
    F_1(M\odot N)$ and $F_U\maps U_{F_0 A} \to F_1(U_A)$, whose
    components are globular isomorphisms, and which satisfy the usual
    coherence axioms for a monoidal functor or pseudofunctor
    (see~\cite[\S{}XI.2]{maclane}).
  \end{itemize}
\end{defn}

\begin{defn}\label{thm:dbl-transf}
  A \textbf{(vertical) transformation} between two functors $\alpha:
  F\to G:\lD\to\lE$ consists of natural transformations $\alpha_0\maps
  F_0\to G_0$ and $\alpha_1\maps F_1\to G_1$ (both usually written as
  $\alpha$), such that $S(\alpha_{M}) = \alpha_{SM}$ and
  $T(\alpha_{M}) = \alpha_{TM}$, and such that
  \[\vcenter{\xymatrix@-.5pc{
      FA \ar@{=}[d] \ar[r]|{|}^{FM}
      \ar@{}[drr]|{\Downarrow F_\odot} &
      FB \ar[r]|{|}^{FN} &
      FC \ar@{=}[d]\\
      FA \ar[rr]|{F(N\odot M)} \ar[d]_{\alpha_A}
      \ar@{}[drr]|{\Downarrow \alpha_{N\odot M}} &&
      FC \ar[d]^{\alpha_C}\\
      GA \ar[rr]|{|}_{G(N\odot M)} && GC
    }} =
  \vcenter{\xymatrix@-.5pc{
      FA \ar[d]_{\alpha_A} \ar@{}[dr]|{\Downarrow \alpha_M} \ar[r]|{|}^{FM} &
      FB \ar[d]|{\alpha_B} \ar@{}[dr]|{\Downarrow \alpha_N} \ar[r]|{|}^{FN} &
      FC \ar[d]^{\alpha_C}\\
      GA \ar@{=}[d] \ar[r]|{|}_{GM} \ar@{}[drr]|{\Downarrow G_\odot} &
      GB \ar[r]|{|}_{GN} &
      GC \ar@{=}[d]\\
      GA \ar[rr]|{|}_{G(N\odot M)} && GC
    }}\]
  for all 1-cells $M\colon A\hto B$ and $N\colon B\hto C$, and
  \[\vcenter{\xymatrix@-.5pc{
      FA \ar[rr]|{|}^{U_{FA}} \ar@{=}[d]
      \ar@{}[drr]|{\Downarrow F_U} &&
      FA \ar@{=}[d]\\
      FA \ar[rr]|{F(U_A)} \ar[d]_{\alpha_A}
      \ar@{}[drr]|{\Downarrow \alpha_{U_A}} &&
      FA \ar[d]^{\alpha_A}\\
      GA \ar[rr]|{|}_{G(U_A)} && GA
    }} =
  \vcenter{\xymatrix@-.5pc{
      FA \ar[rr]|{|}^{U_{FA}} \ar[d]_{\alpha_A}
      \ar@{}[drr]|{\Downarrow U_{\alpha_A}} &&
      FA \ar[d]^{\alpha_A}\\
      GA \ar[rr]|{U_{GA}} \ar@{=}[d]
      \ar@{}[drr]|{\Downarrow G_U} &&
      GA \ar@{=}[d]\\
      GA \ar[rr]|{|}_{G(U_A)} && GA.
    }}\]
  for all objects $A$.
\end{defn}

We write \cDbl\ for the 2-category of double categories, functors, and
transformations, and $\mathbf{Dbl}$ for its underlying 1-category. As pseudofunctors compose strictly associatively, this is well-defined. Note that a 2-cell $\al$ in \cDbl\ is an isomorphism just when each
$\al_A$, \emph{and} each $\al_M$, is invertible.

The 2-category \cDbl\ gives us an easy way to define what we mean by a
\emph{symmetric monoidal double category}.  In any 2-category with
finite products there is a notion of a \emph{pseudomonoid}, which
generalizes the notion of monoidal category in \cCat.  Specializing
this to \cDbl, we obtain the following.

\begin{defn}\label{def:symmondoub}
  A \textbf{monoidal double category} is a double category equipped
  with functors $\ten\maps \lD\times\lD\to\lD$ and $I\maps * \to\lD$,
  and invertible transformations
  \begin{align*}
    \mathord{\otimes} \circ (\Id\times \mathord{\otimes})
    &\iso \mathord{\otimes} \circ (\mathord{\otimes} \times \Id)\\
    \mathord{\otimes} \circ (\Id\times I) &\iso \Id\\
    \mathord{\otimes} \circ (I\times \Id) &\iso \Id
  \end{align*}
  satisfying the usual axioms.  If it additionally has a braiding
  isomorphism
  \begin{align*}
    \mathord{\otimes} &\iso \mathord{\otimes} \circ \tau
  \end{align*}
  (where $\tau\maps \lD\times\lD\iso \lD\times\lD$ is the twist)
  satisfying the usual axioms, then it is \textbf{braided} or
  \textbf{symmetric}, according to whether or not the braiding is
  self-inverse.
\end{defn}

Unpacking this definition more explicitly, we see that a monoidal
double category is a double category together with the following
structure.
\begin{enumerate}
\item $\lD_0$ and $\lD_1$ are both monoidal categories.
\item If $I$ is the monoidal unit of $\lD_0$, then $U_I$ is the
  monoidal unit of $\lD_1$.\footnote{Actually, all the above
    definition requires is that $U_I$ is coherently \emph{isomorphic
      to} the monoidal unit of $\lD_1$, but we can always choose them
    to be equal without changing the rest of the structure.
    More precisely, we may choose the unit isomorphism
    $I_U : U_{I_{\lD_0}} \to I_{\lD_1}$ of the functor $I:* \to \lD$
    to be an identity.}
\item The functors $S$ and $T$ are strict monoidal, i.e.\ $S(M\ten N)
  = SM\ten SN$ and $T(M\ten N)=TM\ten TN$ and $S$ and $T$ also
  preserve the associativity and unit constraints.
\item \label{eq:mon1} We have globular isomorphisms derived from $\otimes_{\odot}$ and $\otimes_U$
  \[\fx\maps (M_1\ten N_1)\odot (M_2\ten N_2)\too[\iso] (M_1\odot M_2)\ten (N_1\odot N_2)\]
  and
  \[\fu\maps U_{A\ten B} \too[\iso] (U_A \ten U_B)\]
  such that the following diagrams commute, expressing that $\otimes$ is a monoidal function with respect to $\odot$:
\[
  \xymatrix{
    ((M_1\ten N_1)\odot (M_2\ten N_2)) \odot (M_3\ten N_3) \ar[r]\ar[d]
    & ((M_1\odot M_2)\ten (N_1\odot N_2)) \odot (M_3\ten N_3) \ar[d]\\
    (M_1\ten N_1)\odot ((M_2\ten N_2) \odot (M_3\ten N_3)) \ar[d] &
    ((M_1\odot M_2)\odot M_3) \ten ((N_1\odot N_2)\odot N_3) \ar[d]\\
    (M_1\ten N_1) \odot ((M_2\odot M_3) \ten (N_2\odot N_3))\ar[r] &
    (M_1\odot (M_2\odot M_3)) \ten (N_1\odot (N_2\odot N_3))}\]
  \[\xymatrix{(M\ten N) \odot U_{C\ten D} \ar[r]\ar[d] &
    (M\ten N)\odot (U_C\ten U_D) \ar[d]\\
    M\ten N\ar@{<-}[r] & (M\odot U_C) \ten (N\odot U_D)}\]
  \[\xymatrix{U_{A\ten B}\odot (M\ten N)  \ar[r]\ar[d] &
    (U_A\ten U_B)\odot (M\ten N) \ar[d]\\
    M\ten N\ar@{<-}[r] & (U_A \odot M) \ten (U_B\odot N)}\]
  (these arise from the constraint data for the pseudo double functor
  $\ten$).
\item \label{eq:mon2}The following diagrams commute, expressing that the
  associativity isomorphism for $\ten$ is a transformation of double
  categories.
  \[\xymatrix{
    ((M_1\ten N_1)\ten P_1) \odot ((M_2\ten N_2)\ten P_2) \ar[r]\ar[d] &
    (M_1\ten (N_1\ten P_1)) \odot (M_2\ten (N_2\ten P_2)) \ar[d]\\
    ((M_1\ten N_1) \odot (M_2\ten N_2)) \ten (P_1\odot P_2) \ar[d] &
    (M_1\odot M_2) \ten ((N_1\ten P_1)\odot (N_2\ten P_2))\ar[d] \\
    ((M_1\odot M_2) \ten(N_1\odot N_2)) \ten (P_1\odot P_2) \ar[r] &
    (M_1\odot M_2) \ten ((N_1\odot N_2)\ten (P_1\odot P_2))}\]
  \[\xymatrix{
    U_{(A\ten B)\ten C} \ar[r] \ar[d] & U_{A\ten (B\ten C)} \ar[d]\\
    U_{A\ten B} \ten U_C \ar[d] & U_A\ten U_{B\ten C}\ar[d]\\
    (U_A\ten U_B)\ten U_C \ar[r] & U_A\ten (U_B\ten U_C) }\]
\item \label{eq:mon3}The following diagrams commute, expressing that the unit
  isomorphisms for $\ten$ are transformations of double categories.
  \[\vcenter{\xymatrix{
      (M\ten U_I)\odot (N\ten U_I)\ar[r]\ar[d] &
      (M\odot N)\ten (U_I \odot U_I) \ar[d]\\
      M\odot N \ar@{<-}[r] &
      (M\odot N)\ten U_I }}\]
  \[\vcenter{\xymatrix{U_{A\ten I} \ar[r]\ar[dr] & U_A\ten U_I \ar[d]\\
       & U_A}}\]
  \[\vcenter{\xymatrix{
      (U_I\ten M)\odot (U_I\ten N)\ar[r]\ar[d] &
      (U_I \odot U_I) \ten (M\odot N) \ar[d]\\
      M\odot N \ar@{<-}[r] &
      U_I\ten (M\odot N) }}\]
  \[\vcenter{\xymatrix{U_{I\ten A} \ar[r]\ar[dr] & U_I\ten U_A \ar[d]\\
      & U_A}}\]
  \newcounter{mondbl}
  \setcounter{mondbl}{\value{enumi}}
\end{enumerate}
Similarly, a braided monoidal double category is a monoidal double
category with the following additional structure.
\begin{enumerate}\setcounter{enumi}{\value{mondbl}}
\item $\lD_0$ and $\lD_1$ are braided monoidal categories.
\item The functors $S$ and $T$ are strict braided monoidal (i.e.\ they
  preserve the braidings).
\item \label{eq:braid1} The following diagrams commute, expressing that the braiding is
  a transformation of double categories. 
  \[\xymatrix{(M_1\odot M_2)\ten (N_1\odot N_2) \ar[r]^\fs\ar[d]_\fx &
    (N_1\odot N_2)\ten (M_1 \odot M_2)\ar[d]^\fx\\
    (M_1\ten N_1)\odot (M_2\ten N_2) \ar[r]_{\fs\odot \fs} &
    (N_1\ten M_1) \odot (N_2 \ten M_2)}
  \]
  \[\xymatrix{U_A \ten U_B \ar[r]^(0.55)\fu \ar[d]_\fs &
    U_{A\ten B} \ar[d]^{U_\fs}\\
    U_B\ten U_A \ar[r]_(0.55)\fu &
    U_{B\ten A}}.
  \]
  \setcounter{mondbl}{\value{enumi}}
\end{enumerate}
Finally, a symmetric monoidal double category is a braided one such that
\begin{enumerate}\setcounter{enumi}{\value{mondbl}}
\item $\lD_0$ and $\lD_1$ are in fact symmetric monoidal.
\end{enumerate}
While there are a fair number of coherence diagrams to verify, most of
them are fairly small, and in any given case most or all of them are
fairly obvious.  Thus, verifying that a given double category is
(braided or symmetric) monoidal is not a great deal of work.

\begin{eg}
  The examples \lMod, \lnCob, and \lProf\ are all easily seen to be
  symmetric monoidal under the tensor product of rings, disjoint union
  of manifolds, and cartesian product of categories, respectively.
\end{eg}

\begin{rmk}
  In a 2-category with finite products there is additionally the
  notion of a \emph{cartesian object}: one such that the diagonal
  $D\to D\times D$ and projection $D\to 1$ have right adjoints.  Any
  cartesian object is a symmetric pseudomonoid in a canonical way,
  just as any category with finite products is a monoidal category
  with its cartesian product.  Many of the ``cartesian bicategories''
  considered in~\cite{cw:cart-bicats-i,ckww:cartbicats-ii} are in
  fact the horizontal bicategory of some cartesian object in \cDbl,
  and inherit their monoidal structure in this way.
\end{rmk}

Two further general methods for constructing symmetric monoidal double
categories can be found in~\cite{shulman:frbi}.

\begin{rmk}
  The general yoga of internalization says that an $X$ internal to
  $Y$s internal to $Z$s is equivalent to a $Y$ internal to $X$s
  internal to $Z$s, but this is only strictly true when the
  internalizations are all strict.  We have defined a symmetric
  monoidal double category to be a (pseudo) symmetric monoid internal
  to (pseudo) categories internal to categories, but one could also
  consider a (pseudo) category internal to (pseudo) symmetric monoids
  internal to categories, i.e.\ a pseudo internal category in the
  2-category
  $\mathcal{S}\mathit{ym}\mathcal{M}\mathit{on}\mathcal{C}\mathit{at}$
  of symmetric monoidal categories and strong symmetric monoidal
  functors.  This would give \emph{almost} the same definition, except
  that $S$ and $T$ would only be strong monoidal (preserving $\ten$ up
  to isomorphism) rather than strict monoidal.  We prefer our
  definition, since $S$ and $T$ are strict monoidal in almost all
  examples, and keeping track of their constraints would be tedious.
\end{rmk}

Just as every bicategory is equivalent to a strict 2-category, it is
proven in~\cite{gp:double-limits} that every pseudo double category is
equivalent to a strict double category (one in which the associativity
and unit constraints for $\odot$ are identities).  Thus, from now on
we will usually omit to write these constraint isomorphisms (or
equivalently, implicitly strictify our double categories).  We
\emph{will} continue to write the constraint isomorphisms for the
monoidal structure $\ten$, since these are where the whole question
lies.

We now move on to define functors and transformations of monoidal double categories.

\begin{defn}\label{def:monfunc}
  Let $\D$, $\E$ be (braided/symmetric) monoidal double categories.  A {\bf (braided/symmetric) lax monoidal double functor} $F: \D \rightarrow \E$ is a pseudo double functor $F$, together with a vertical transformation $\phi : \otimes \circ (F,F) \rightarrow F \circ \otimes$ and
 a vertical transformation $\phi_u:I_{\E}\rightarrow F \circ I_{\D}$. These functors and structure maps satisfy the usual axioms for (braided/symmetric) monoidal functors with respect to $\otimes$.
\end{defn}

Unfolding the definitions gives us:

\begin{enumerate}
\item $F_0$ and $F_1$ are (braided/symmetric) monoidal functors.
\item The equalities $F_0 \circ S_\D = S_\E \circ F_1$ and $F_0 \circ T_\D = T_\E \circ F_1$ are strict equalities of monoidal functors.
\item The following diagrams commute, expressing that $\phi$ is a transformation of double categories:

\begin{tikzpicture}[xscale=2, yscale=2]
\node (tl) at (0,2) {$(FN \otimes FL) \odot (FM \otimes FK)$};
\node (tr) at (4,2) {$F(N\otimes L) \odot F(M \otimes K)$};
\draw[->] (tl) to node[above] {$\phi \odot \phi$} (tr);
\node (ml) at (0,1) {$(FN \odot FM) \otimes (FL \odot FK)$};
\node (mr) at (4,1) {$F((N \otimes L) \odot (M \otimes K))$};
\node (bl) at (0,0) {$F(N \odot M) \otimes F(L \odot K)$};
\node (br) at (4,0) {$F((N \odot M)\otimes(L\odot K))$};
\draw[->] (tl) to node[left]{$\xi$} (ml);
\draw[->] (ml) to node[left]{$F_{\odot} \otimes F_{\odot}$} (bl);
\draw[->] (tr) to node[left]{$F_{\odot}$} (mr);
\draw[->] (mr) to node[left]{$F(\xi)$} (br);
\draw[->] (bl) to node[above] {$\phi$} (br);
\end{tikzpicture}

\begin{tikzpicture}[yscale=2]
\node (tl) at (0,2) {$U_{FA \otimes FB}$};
\node (tr) at (4,2) {$U_{F(A \otimes B)} $};
\draw[->] (tl) to node[above] {$U_{\phi}$} (tr);
\node (ml) at (0,1) {$U_{FA} \otimes U_{FB}$};
\node (mr) at (4,1) {$F(U_{A\otimes B}) $};
\node (bl) at (0,0) {$F(U_A) \otimes F(U_B)$};
\node (br) at (4,0) {$F(U_A \otimes U_B)$};
\draw[->] (tl) to node[left]{$u$} (ml);
\draw[->] (ml) to node[left]{$F_u \otimes F_u$} (bl);
\draw[->] (tr) to node[left]{$F_U$} (mr);
\draw[->] (mr) to node[left]{$F \circ u$} (br);
\draw[->] (bl) to node[above] {$\phi$} (br);
\end{tikzpicture}

\end{enumerate}

When the natural transformations are in the opposite direction, the functor is {\bf oplax monoidal}, and when they are isomorphisms, the functor is {\bf strong monoidal}.

% I don't understand what this sentence means:
%% We will refer to monoidal double functors as pairs $(F, \phi)$ of a functor and its corresponding natural transformations. 

\begin{defn}\label{Def:monverttrans}
  Let $\D$, $\E$ be monoidal double categories and let $(F, \phi) ,(G,\psi): \D \rightarrow \E$ be monoidal double functors. A monoidal vertical transformation $\alpha: F \rightarrow G$ is a vertical transformation such that $\alpha_0$ and $\alpha_1$ are monoidal natural transformations.
  Explicitly, this means that the following equalities hold:

\begin{equation}
\begin{aligned}
\begin{tikzpicture}
\node (tl) at (0,4) {$FA \otimes FB$};
\node (tr) at (4,4) {$FC \otimes FD$};
\node (ml) at (0,2) {$F(A\otimes B)$};
\node (mr) at (4,2) {$F(C \otimes D)$};
\node (bl) at (0,0) {$G(A \otimes B)$};
\node (br) at (4,0) {$G(C \otimes D)$};
\draw[style=tickarrow] (tl) to node [above] {$FM \otimes FN$} (tr);
\draw[style=tickarrow] (ml) to node [above] {$F(M\otimes N)$} (mr);
\draw[->] (tl) to node [left] {$\phi_{A,B}$} (ml);
\draw[->] (tr) to node [right] {$\phi_{C,D}$}(mr);
\draw[->] (ml) to node [left] {$\alpha_{A\otimes B}$} (bl);
\draw[->] (mr) to node [right] {$\alpha_{C \otimes D}$} (br);
\draw[style=tickarrow] (bl) to node [above] {$G(M \otimes N)$} (br);
\node at (2,3) {$\Downarrow \phi_{M,N}$};
\node at (2,1) {$\Downarrow \alpha_{M \otimes N}$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}
\node (tl) at (0,4) {$FA \otimes FB$};
\node (tr) at (4,4) {$FC \otimes FD$};
\node (ml) at (0,2) {$GA \otimes GB$};
\node (mr) at (4,2) {$GC \otimes GD$};
\node (bl) at (0,0) {$G(A \otimes B)$};
\node (br) at (4,0) {$G(C \otimes D)$};
\draw[style=tickarrow] (tl) to node [above] {$FM \otimes FN$} (tr);
\draw[style=tickarrow] (ml) to node [above] {$GM \otimes GN$} (mr);
\draw[->] (tl) to node [left] {$\alpha_A \otimes \alpha_B$} (ml);
\draw[->] (tr) to node [right] {$\alpha_C \otimes \alpha_D$} (mr);
\draw[->] (ml) to node [left] {$\psi_{A,B}$} (bl);
\draw[->] (mr) to node [right] {$\psi_{C,D}$} (br);
\draw[style=tickarrow] (bl) to node [above] {$G(M \otimes N)$} (br);
\node at (2,3) {$\Downarrow \alpha_M \otimes \alpha_N$};
\node at (2,1) {$\Downarrow \psi_{M,N}$};
\end{tikzpicture}
\end{aligned}
\end{equation}

\begin{equation}
\begin{aligned}
\begin{tikzpicture}
\node (tl) at (0,4) {$I_{\mathbb{E}}$};
\node (tr) at (4,4) {$I_{\mathbb{E}}$};
\node (ml) at (0,2) {$F(I_{\mathbb{D}})$};
\node (mr) at (4,2) {$F(I_{\mathbb{D}})$};
\node (bl) at (0,0) {$G(I_{\mathbb{D}})$};
\node (br) at (4,0) {$G(I_{\mathbb{D}})$};
\draw[style=tickarrow] (tl) to node [above] {$U_{I_{\mathbb{E}}}$} (tr);
\draw[style=tickarrow] (ml) to node [above] {$F(U_{I_{\mathbb{D}}})$} (mr);
\draw[->] (tl) to node [left] {$\phi_{u_0}$} (ml);
\draw[->] (tr) to node [right] {$\phi_{u_1}$}(mr);
\draw[->] (ml) to node [left] {$\alpha_{I_{\mathbb{D}}}$} (bl);
\draw[->] (mr) to node [right] {$\alpha_{I_{\mathbb{D}}}$} (br);
\draw[style=tickarrow] (bl) to node [below] {$G(U_{I_{\mathbb{D}}})$} (br);
\node at (2,3) {$\Downarrow \phi_{u_1}$};
\node at (2,1) {$\Downarrow \alpha_{U_{I_{\mathbb{D}}}}$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}
\node (tl) at (0,4) {$I_{\mathbb{E}}$};
\node (tr) at (4,4) {$I_{\mathbb{E}}$};
\node (ml) at (0,2) {$G(I_{\mathbb{D}})$};
\node (mr) at (4,2) {$G(I_{\mathbb{D}})$};
\draw[style=tickarrow] (tl) to node [above] {$U_{I_{\mathbb{E}}}$} (tr);
\draw[style=tickarrow] (ml) to node [below] {$G(U_{I_{\mathbb{D}}})$} (mr);
\draw[->] (tl) to node [left] {$\psi_{u}$} (ml);
\draw[->] (tr) to node [right] {$\psi_{u}$}(mr);
\node at (2,3) {$\Downarrow \psi_{u_1}$};
\end{tikzpicture}
\end{aligned}
\end{equation}


A {\bf braided/symmetric monoidal vertical transformation} is a monoidal vertical transformation between braided/symmetric monoidal functors.
\end{defn}


\section{Companions and conjoints}
\label{sec:comp-conj}

Suppose that \lD\ is a symmetric monoidal double category; when does
$\cH(\lD)$ become a symmetric monoidal bicategory?  It clearly has a
unit object $I$, and the pseudo double functor $\ten\maps
\lD\times\lD\to\lD$ clearly induces a functor $\ten\maps
\cH(\lD)\times\cH(\lD)\to\cH(\lD)$.  However, the problem is that the
constraint isomorphisms such as $A\ten (B\ten C)\iso (A\ten B)\ten C$
are \emph{vertical} 1-morphisms, which get discarded when we pass to
$\cH(\lD)$.  Thus, in order for $\cH(\lD)$ to inherit a symmetric
monoidal structure, we must have a way to make vertical 1-morphisms
into horizontal 1-cells.  Thus is the purpose of the following
definition.


\begin{defn}\label{def:companion}
  Let \lD\ be a double category and $f\maps A\to B$ a vertical
  1-morphism.  A \textbf{companion} of $f$ is a horizontal 1-cell
  $\fhat\maps A\hto B$ together with 2-morphisms
  \begin{equation*}
    \begin{array}{c}
      \xymatrix@-.5pc{
        \ar[r]|-@{|}^-{\fhat} \ar[d]_f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}} }
        & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{U_B} & }
    \end{array}\quad\text{and}\quad
    \begin{array}{c}
      \xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}}
        & \ar[d]^f\\
        \ar[r]|-@{|}_-{\fhat} & }
    \end{array}
  \end{equation*}
  such that the following equations hold.
  \begin{align}\label{eq:compeqn}
    \begin{array}{c}
      \xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}}
        & \ar[d]^f\\
        \ar[r]|-{\fhat} \ar[d]_f \ar@{}[dr]|
        {\Downarrow  \epsilon_{\hat{f}} }
        & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{U_B} & }
    \end{array} &= 
    \begin{array}{c}
      \xymatrix@-.5pc{ \ar[r]|-@{|}^-{U_A} \ar[d]_f
        \ar@{}[dr]|{\Downarrow U_f} &  \ar[d]^f\\
        \ar[r]|-@{|}_-{U_B} & }
    \end{array}
    &
    \begin{array}{c}
      \xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{ \Downarrow \eta_{\hat{f}}}&
        \ar[r]|-@{|}^{\fhat}\ar[d]|f \ar@{}[dr]|{\Downarrow  \epsilon_{\hat{f}} }
        & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{\fhat} &
        \ar[r]|-@{|}_-{U_B} &}
%       \xymatrix@-.5pc{
%         \ar[rr]|-@{|}^-{\fhat} \ar@{}[drr]|\iso \ar@{=}[d] &&
%         \ar@{=}[d] \\
%         \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|\Downarrow &
%         \ar[r]|-@{|}^-{\fhat} \ar[d]_f \ar@{}[dr]|\Downarrow
%         & \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{\fhat} &
%         \ar[r]|-@{|}_-{U_B} &\\
%         \ar[rr]|-@{|}_-{\fhat} \ar@{}[urr]|\iso \ar@{=}[u] &&
%         \ar@{=}[u]}
    \end{array} &=
    \begin{array}{c}
      \xymatrix@-.5pc{
        \ar[r]|-@{|}^-{\fhat} \ar@{=}[d] \ar@{}[dr]|{\Downarrow 1_{\fhat}}
        & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{\fhat} & }
    \end{array}
  \end{align}
  A \textbf{conjoint} of $f$, denoted $\fchk\maps B\hto A$, is a
  companion of $f$ in the double category $\lD^{h\cdot\mathrm{op}}$
  obtained by reversing the horizontal 1-cells, but not the vertical
  1-morphisms, of \lD.
\end{defn}

\begin{rmk}
  We momentarily suspend our convention of pretending that our double
  categories are strict to mention that the second
  equation in~\eqref{eq:compeqn} actually requires an insertion of unit
  isomorphisms to make sense.
\end{rmk}

The form of this definition is due
to~\cite{gp:double-adjoints,dpp:spans}, but the ideas date back
to~\cite{bs:dblgpd-xedmod}; see
also~\cite{bm:dbl-thin-conn,fiore:pscat}.  In the terminology of these
references, a \emph{connection} on a double category is equivalent to
a strictly functorial choice of a companion for each vertical arrow.

\begin{defn}
  We say that a double category is \textbf{fibrant} if every vertical
  1-morphism has both a companion and a conjoint. We will write $\mathcal{D}bl_{\bf F}$ for the tricategory of fibrant double categories, pseudo double functors, and vertical transformations.
\end{defn}



\begin{rmk}
  In~\cite{shulman:frbi} fibrant double categories were called
  \emph{framed bicategories}.  However, the present terminology seems
  to generalize better to $(n\times k)$-categories, as well as
  avoiding a conflict with the \emph{framed bordisms} in topological
  field theory.
\end{rmk}

% a horizontal 1-cell $\fchk\maps B\hto
%   A$ together with 2-morphisms
%   \[\begin{array}{c}
%     \xymatrix@-.5pc{
%       \ar[r]|-@{|}^-{\fchk} \ar@{=}[d] \ar@{}[dr]|\Downarrow
%       & \ar[d]^f\\
%       \ar[r]|-@{|}_-{U_B} & }
%   \end{array}\quad\text{and}\quad
%   \begin{array}{c}
%     \xymatrix@-.5pc{
%       \ar[r]|-@{|}^-{U_A} \ar[d]_f \ar@{}[dr]|\Downarrow
%       & \ar@{=}[d]\\
%       \ar[r]|-@{|}_-{\fchk} & }
%   \end{array}\]
%   such that the following equations hold.
%   \begin{align*}
%     \begin{array}{c}
%       \xymatrix@-.5pc{
%         \ar[r]|-@{|}^-{U_A} \ar[d]_f \ar@{}[dr]|\Downarrow
%         & \ar@{=}[d]\\
%         \ar[r]|-{\fchk} \ar@{=}[d] \ar@{}[dr]|\Downarrow
%         & \ar[d]^f\\
%         \ar[r]|-@{|}_-{U_B} & }
%     \end{array} &= 
%     \begin{array}{c}
%       \xymatrix@-.5pc{ \ar[r]|-@{|}^-{U_A} \ar[d]_f
%         \ar@{}[dr]|{\Downarrow U_f} &  \ar[d]^f\\
%         \ar[r]|-@{|}_-{U_B} & }
%     \end{array}
%     &
%     \begin{array}{c}
%       \xymatrix@-.5pc{
%         \ar[rr]|-@{|}^-{\fchk} \ar@{}[drr]|\iso \ar@{=}[d] &&
%         \ar@{=}[d] \\
%         \ar[r]|-@{|}^-{\fchk} \ar@{=}[d] \ar@{}[dr]|\Downarrow &
%         \ar[r]|-@{|}^-{U_A} \ar[d]_f \ar@{}[dr]|\Downarrow
%         & \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{U_B} &
%         \ar[r]|-@{|}_-{\fchk} &\\
%         \ar[rr]|-@{|}_-{\fchk} \ar@{}[urr]|\iso \ar@{=}[u] &&
%         \ar@{=}[u]}
%     \end{array} &=
%     \begin{array}{c}
%       \xymatrix@-.5pc{
%         \ar[r]|-@{|}^-{\fchk} \ar@{=}[d]
%         & \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{\fchk} & }
%     \end{array}
%   \end{align*}

\begin{egs}
  \lMod, \lnCob, and \lProf\ are all fibrant.  In \lMod, the companion
  of a ring homomorphism $f\maps A\to B$ is $B$ regarded as an
  $A$-$B$-bimodule via $f$ on the left, and dually for its conjoint.
  In \lnCob, companions and conjoints are obtained by regarding a
  diffeomorphism as a cobordism.  And in \lProf, companions and
  conjoints are obtained by regarding a functor $f\maps A\to B$ as a
  `representable' profunctor $B(f-,-)$ or $B(-,f-)$.
\end{egs}

\begin{rmk}
  For an $(n\times 1)$-category (recall \autoref{rmk:monglob}), the
  lifting condition we should require is simply that each double
  category $\lD_{i+1} \toto \lD_i$, for $0\le i < n$, is fibrant.
\end{rmk}

The existence of companions and conjoints gives us a way to `lift'
vertical 1-morphisms to horizontal 1-cells.  What is even more crucial
for our applications, however, is that these liftings are unique up to
isomorphism, and that these isomorphisms are canonical and coherent.
This is the content of the following lemmas.  We state most of them
only for companions, but all have dual versions for conjoints. Later we will use them to prove the existence of structure isomorphisms and the commutativity of diagrams needed for $\cH$ to preserve monoidal structures.

\begin{lem}\label{thm:theta}
  Let $\fhat\maps A\hto B$ and $\fhat'\maps A\hto B$ be companions of
  $f$ (that is, each comes \emph{equipped with} 2-morphisms as in
  \autoref{def:companion}).  Then there is a unique globular isomorphism
  $\theta_{\fhat,\fhat'}\maps \fhat\too[\iso]\fhat'$ such that
  \begin{equation}\label{eq:comp-iso}
    \vcenter{\xymatrix@R=1.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}} &  \ar[d]^f\\
        \ar[r]|-{\fhat} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \theta_{\fhat,\fhat'}} &  \ar@{=}[d]\\
        \ar[r]|-{\fhat'} \ar[d]_f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}'}} & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{U_B} & }} \quad = \quad
    \vcenter{\xymatrix@-.5pc{ \ar[r]|-@{|}^-{U_A} \ar[d]_f
        \ar@{}[dr]|{\Downarrow U_f} &  \ar[d]^f\\
        \ar[r]|-@{|}_-{U_B} & .}}
  \end{equation}
\end{lem}
\begin{proof}
  Composing~\eqref{eq:comp-iso} on the left with
  $\vcenter{\xymatrix@-.5pc{ \ar[r]|-@{|}^-{U_A} \ar@{=}[d]
      \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}} & \ar[d]^f\\ \ar[r]|-@{|}_-{\fhat'} & }}$
  and on the right with $\vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{\fhat} \ar[d]_f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}&
      \ar@{=}[d]\\ \ar[r]|-@{|}_-{U_B} & }}$, and using the second
  equation~\eqref{eq:compeqn}, we see that if~\eqref{eq:comp-iso} is
  satisfied then $\theta_{\fhat,\fhat'}$ must be the composite
  \begin{equation}
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}'}}&
        \ar[r]|-@{|}^-{\fhat} \ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}
        & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{\fhat'} &
        \ar[r]|-@{|}_-{U_B} &}}\label{eq:theta}
%     \vcenter{\xymatrix@-.5pc{
%         \ar[rr]|-@{|}^-{\fhat} \ar@{}[drr]|\iso \ar@{=}[d] &&
%         \ar@{=}[d] \\
%         \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|\Downarrow &
%         \ar[r]|-@{|}^-{\fhat} \ar[d]_f \ar@{}[dr]|\Downarrow
%         & \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{\fhat'} &
%         \ar[r]|-@{|}_-{U_B} &\\
%         \ar[rr]|-@{|}_-{\fhat'} \ar@{}[urr]|\iso \ar@{=}[u] &&
%         \ar@{=}[u]}}\label{eq:theta}
  \end{equation}
  Two applications of the first equation~\eqref{eq:compeqn} shows that
  this indeed satisfies~\eqref{eq:comp-iso}.  As for its being an
  isomorphism, we have the dual composite $\theta_{\fhat',\fhat}$:
  \[\vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}} &
      \ar[r]|-@{|}^{\fhat'}\ar[d]|f \ar@{}[dr]|
{\Downarrow \epsilon_{\hat{f}'}}
      & \ar@{=}[d]\\
      \ar[r]|-@{|}_-{\fhat} &
      \ar[r]|-@{|}_-{U_B} &}}\]
  which we verify is an inverse using~\eqref{eq:compeqn}:
  \[\vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^{U_A}\ar@{=}[d] \ar@{}[dr]|{=} &
      \ar[r]|-@{|}^{U_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}'}} &
      \ar[r]|-@{|}^{\fhat}\ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}} &
      \ar@{=}[d]\\
      \ar[r]|{U_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}} &
      \ar[r]|{\fhat'}\ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}'}} &
      \ar[r]|{U_B}\ar@{=}[d] \ar@{}[dr]|{=} &
      \ar@{=}[d]\\
      \ar[r]|-@{|}_{\fhat} &
      \ar[r]|-@{|}_{U_B} &
      \ar[r]|-@{|}_{U_B} &
    }} \;=\;
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow  \eta_{\hat{f}}}&
      \ar[r]|-@{|}^{\fhat}\ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}
      & \ar@{=}[d]\\
      \ar[r]|-@{|}_-{\fhat} &
      \ar[r]|-@{|}_-{U_B} &}} \;=\;
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{\fhat} \ar@{=}[d] \ar@{}[dr]|{\Downarrow 1_{\fhat}}
      & \ar@{=}[d]\\
      \ar[r]|-@{|}_-{\fhat} & }}\]
  (and dually).
\end{proof}

\begin{lem}\label{thm:theta-id}
  For any companion \fhat\ of $f$ we have $\theta_{\fhat,\fhat}=1_{\fhat}$.
\end{lem}
\begin{proof}
  This is the second equation~\eqref{eq:compeqn}.
\end{proof}

\begin{lem}\label{thm:theta-compose-vert}
  Suppose that $f$ has three companions $\fhat$, $\fhat'$, and
  $\fhat''$.  Then $\theta_{\fhat,\fhat''} = \theta_{\fhat',\fhat''}
  \circ\theta_{\fhat,\fhat'}$.
\end{lem}
\begin{proof}
  By definition, we have
  \[\theta_{\fhat',\fhat''} \circ\theta_{\fhat,\fhat'} =\;
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^{U_A}\ar@{=}[d] \ar@{}[dr]|{=} &
      \ar[r]|-@{|}^{U_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}'}} &
      \ar[r]|-@{|}^{\fhat}\ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}} &
      \ar@{=}[d]\\
      \ar[r]|{U_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}''}} &
      \ar[r]|{\fhat'}\ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}'}} &
      \ar[r]|{U_B}\ar@{=}[d] \ar@{}[dr]|{=} &
      \ar@{=}[d]\\
      \ar[r]|-@{|}_{\fhat''} &
      \ar[r]|-@{|}_{U_B} &
      \ar[r]|-@{|}_{U_B} &
    }} \;=\;
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}''}}&
      \ar[r]|-@{|}^{\fhat}\ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}
      & \ar@{=}[d]\\
      \ar[r]|-@{|}_-{\fhat''} &
      \ar[r]|-@{|}_-{U_B} &}} \;=
  \theta_{\fhat,\fhat''}\]
  as desired.
\end{proof}

\begin{lem}\label{thm:comp-unit}
  $U_A\maps A\hto A$ is always a companion of $1_A\maps A\to A$ in a
  canonical way.
\end{lem}
\begin{proof}
  We take both defining 2-morphisms to be
  $1_{U_A}$; the truth of~\eqref{eq:compeqn} is evident.
\end{proof}

\begin{lem}\label{thm:comp-compose}
  Suppose that $f\maps A\to B$ has a companion \fhat\ and $g\maps B\to
  C$ has a companion \ghat.  Then $\ghat\odot\fhat$ is a companion of
  $gf$.
\end{lem}
\begin{proof}
  We take the defining 2-morphisms to be the composites
  \[\vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{\fhat} \ar[d]_f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}&
      \ar[r]|-@{|}^-{\ghat} \ar@{=}[d] \ar@{}[dr]|{1_{\ghat}} &
      \ar@{=}[d]\\
      \ar[r]|-{U_B} \ar[d]_g \ar@{}[dr]|{U_g} &
      \ar[r]|-{\ghat} \ar[d]|g \ar@{}[dr]|{\Downarrow \epsilon_{\hat{g}}}&
      \ar@{=}[d]\\
      \ar[r]|-@{|}_-{U_C} &
      \ar[r]|-@{|}_-{U_C} &
    }}\quad\text{and}\quad
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}} &
      \ar[r]|-@{|}^-{U_A} \ar[d]|f \ar@{}[dr]|{U_f} &
      \ar[d]^f\\
      \ar[r]|-{\fhat} \ar@{=}[d] \ar@{}[dr]|{1_{\fhat}} &
      \ar[r]|-{U_B} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{g}}}&
      \ar[d]^g\\
      \ar[r]|-@{|}_-{\fhat} &
      \ar[r]|-@{|}_-{\ghat} &
    }}
  \]
  It is easy to verify that these satisfy~\eqref{eq:compeqn}, using
  the interchange law for $\odot$ and $\circ$ in a double category.
\end{proof}

\begin{lem}\label{thm:theta-compose-horiz}
  Suppose that $f\maps A\to B$ has companions $\fhat$ and $\fhat'$,
  and that $g\maps B\to C$ has companions $\ghat$ and $\ghat'$.  Then
  $\theta_{\ghat,\ghat'}\odot \theta_{\fhat,\fhat'}  =
    \theta_{\ghat\odot\fhat, \ghat'\odot\fhat'}$.
\end{lem}
\begin{proof}
  Using the interchange law for $\odot$ and $\circ$, we have:
  \begin{align}
    \theta_{\ghat\odot\fhat, \ghat'\odot\fhat'} &=\;
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}'}}&
        \ar[r]|-@{|}^-{U_A} \ar[d]|f \ar@{}[dr]|{U_f} &
        \ar[r]|-@{|}^-{\fhat} \ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}&
        \ar[r]|-@{|}^-{\ghat} \ar@{=}[d] \ar@{}[dr]|{1_{\fhat}} &
        \ar@{=}[d]\\
        \ar[r]|-{\fhat'} \ar@{=}[d] \ar@{}[dr]|{1_{\ghat}} &
        \ar[r]|-{U_B} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{g}'}} &
        \ar[r]|-{U_B} \ar[d]|g \ar@{}[dr]|{U_g} &
        \ar[r]|-{\ghat} \ar[d]|g \ar@{}[dr]|{\Downarrow \epsilon_{\hat{g}}} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}_-{\fhat'} &
        \ar[r]|-@{|}_-{\ghat'} &
        \ar[r]|-@{|}_-{U_C} &
        \ar[r]|-@{|}_-{U_C} &
      }}
    \;=\;
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}'}}&
        \ar[r]|-@{|}^-{\fhat} \ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}&
        \ar[r]|-@{|}^-{\ghat} \ar@{=}[d] \ar@{}[dr]|{1_{\fhat}} &
        \ar@{=}[d]\\
        \ar[r]|-{\fhat'} \ar@{=}[d] \ar@{}[dr]|{1_{\ghat}} &
        \ar[r]|-{U_B} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{g}'}} &
        \ar[r]|-{\ghat} \ar[d]|g \ar@{}[dr]|{\Downarrow \epsilon_{\hat{g}}} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}_-{\fhat'} &
        \ar[r]|-@{|}_-{\ghat'} &
        \ar[r]|-@{|}_-{U_C} &
      }}\\
    &=\;
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}'}}&
        \ar[r]|-@{|}^-{\fhat} \ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}&
        \ar[r]|-@{|}^-{U_B} \ar@{=}[d] \ar@{}[dr]|{1_{U_B}} &
        \ar[r]|-@{|}^-{\ghat} \ar@{=}[d] \ar@{}[dr]|{1_{\fhat}} &
        \ar@{=}[d]\\
        \ar[r]|-{\fhat'} \ar@{=}[d] \ar@{}[dr]|{1_{\ghat}} &
        \ar[r]|-{U_B} \ar@{=}[d] \ar@{}[dr]|{1_{U_B}} &
        \ar[r]|-{U_B} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{g}'}} &
        \ar[r]|-{\ghat} \ar[d]|g \ar@{}[dr]|{\Downarrow \epsilon_{\hat{g}}} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}_-{\fhat'} &
        \ar[r]|-@{|}_-{U_B} &
        \ar[r]|-@{|}_-{\ghat'} &
        \ar[r]|-@{|}_-{U_C} &
      }}\;=\;
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}'}}&
        \ar[r]|-@{|}^-{\fhat} \ar[d]|f \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}}&
        \ar[r]|-@{|}^-{U_B} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{g}'}}&
        \ar[r]|-@{|}^-{\ghat} \ar[d]|g \ar@{}[dr]|{\Downarrow \epsilon_{\hat{g}}}& \ar@{=}[d]\\
        \ar[r]|-@{|}_-{\fhat'} &
        \ar[r]|-@{|}_-{U_B} &
        \ar[r]|-@{|}_-{\ghat'} &
        \ar[r]|-@{|}_-{U_C} &
      }}\\
    &=\;
    \theta_{\ghat,\ghat'}\odot \theta_{\fhat,\fhat'} 
  \end{align}
  as desired.
\end{proof}

\begin{lem}\label{thm:theta-unit}
  If $f\maps A\to B$ has a companion \fhat, then
  $\theta_{\fhat,\fhat\odot U_A}$ and $\theta_{\fhat,U_B\odot \fhat}$
  are equal to the unit constraints $\fhat \iso \fhat\odot U_A$ and
  $\fhat\iso U_B\odot \fhat$.
\end{lem}
\begin{proof}
  By definition, we have
  \[\theta_{\fhat,\fhat\odot U_A} =\;
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow 1_{U_A}} &
      \ar[r]|-@{|}^-{U_A} \ar@{=}[d] \ar@{}[dr]|{1_{U_A}} &
      \ar@{=}[d] \ar[rr]|-@{|}^-{\fhat} \ar@{}[ddrr]|{\Downarrow \epsilon_{\hat{f}}}&& \ar@{=}[dd]\\
      \ar[r]|-{U_A} \ar@{=}[d] \ar@{}[dr]|{1_{U_A}} &
      \ar[r]|-{U_A} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}}&
      \ar[d]^f\\
      \ar[r]|-@{|}_-{U_A} &
      \ar[r]|-@{|}_-{\fhat} & \ar[rr]|-@{|}^-{U_B} &&
    }}\;=\;
  \vcenter{\xymatrix{ \ar[r]|-@{|}^-{U_A} \ar@{=}[d]
      \ar@{}[dr]|{\Downarrow 1_{U_A}} &  \ar@{=}[d]\\
      \ar[r]|-@{|}_-{U_A} & }}
  \]
  which, bearing in mind our suppression of unit and associativity
  constraints, means that in actuality it is the unit constraint
  $\fhat \iso \fhat\odot U_A$.  The other case is dual.
\end{proof}

\begin{lem}\label{thm:comp-func}
  Let $F\maps \lD\to\lE$ be a functor between double categories and
  let $f\maps A\to B$ have a companion \fhat\ in \lD.  Then $F(\fhat)$
  is a companion of $F(f)$ in \lE.
\end{lem}
\begin{proof}
  We take the defining 2-morphisms to be
  \[\vcenter{\xymatrix@R=1.5pc@C=3pc{
      \ar[r]|-@{|}^-{F(\fhat)} \ar[d]_{F(f)}
      \ar@{}[dr]|{F(\Downarrow \epsilon_{\hat{f}})} &  \ar@{=}[d]\\
      \ar[r]|-{F(U_B)} \ar@{=}[d] \ar@{}[dr]|\iso &  \ar@{=}[d]\\
      \ar[r]|-@{|}_-{U_{F(B)}} & }}
  \quad\text{and}\quad
  \vcenter{\xymatrix@R=1.5pc@C=3pc{
      \ar[r]|-@{|}^-{U_{FA}} \ar@{=}[d] \ar@{}[dr]|\iso & \ar@{=}[d]\\
      \ar[r]|-{F(U_{A})} \ar@{=}[d] \ar@{}[dr]|{F(\Downarrow \eta_{\hat{f}})} & 
      \ar[d]^{F(f)}\\
      \ar[r]|-@{|}_-{F(\fhat)} & .}}\]
  The axioms~\eqref{eq:compeqn} follow directly from those for \fhat.
\end{proof}

\begin{lem}\label{thm:comp-ten}
  Suppose that \lD\ is a monoidal double category and that $f\maps
  A\to B$ and $g\maps C\to D$ have companions \fhat\ and \ghat\
  respectively.  Then $\fhat\ten\ghat$ is a companion of $f\ten g$.
\end{lem}
\begin{proof}
  This follows from \autoref{thm:comp-func}, since $\ten\maps
  \lD\times\lD\to\lD$ is a functor, and a companion in $\lD\times\lD$
  is simply a pair of companions in \lD.
%   We take the defining 2-morphisms to be
%   \[\vcenter{\xymatrix@R=1.5pc@C=3pc{
%       \ar[r]|-@{|}^-{\fhat\ten\ghat} \ar[d]_{f\ten g}
%       \ar@{}[dr]|{\Downarrow\ten\Downarrow} &  \ar@{=}[d]\\
%       \ar[r]|-{U_B\ten U_D} \ar@{=}[d] \ar@{}[dr]|\iso &  \ar@{=}[d]\\
%       \ar[r]|-@{|}_-{U_{B\ten D}} & }}
%   \quad\text{and}\quad
%   \vcenter{\xymatrix@R=1.5pc@C=3pc{
%       \ar[r]|-@{|}^-{U_{A\ten C}} \ar@{=}[d] \ar@{}[dr]|\iso & \ar@{=}[d]\\
%       \ar[r]|-{U_{A}\ten U_C} \ar@{=}[d] \ar@{}[dr]|{\Downarrow\ten\Downarrow} & 
%       \ar[d]^{f\ten g}\\
%       \ar[r]|-@{|}_-{\fhat\ten\ghat} & .}}\]
\end{proof}

\begin{lem}\label{thm:theta-func}
  Suppose that $F\maps \lD\to\lE$ is a functor and that $f\maps A\to
  B$ has companions \fhat\ and $\fhat'$ in \lD.  Then
  $\theta_{F(\fhat),F(\fhat')} = F(\theta_{\fhat,\fhat'})$.
\end{lem}
\begin{proof}
  Using the axioms of a pseudo double functor and the definition of
  the 2-morphisms in \autoref{thm:comp-func}, we have
  \begin{equation}
    F(\theta_{\fhat,\fhat'})
    =\;
    \vcenter{\xymatrix@C=3pc{
        \ar[r]|-@{|}^-{F(\fhat)}
        \ar[d] \ar@{}[dr]|{\Downarrow F(\eta_{\hat{f}'} \odot\epsilon_{\hat{f}})} &  \ar[d]\\
        \ar[r]|-@{|}_-{F(\fhat')} &}}
    \;=\;
    \vcenter{\xymatrix@C=3pc{
        \ar[rr]|-@{|}^-{F(\fhat)}
        \ar@{=}[d] \ar@{}[drr]|\iso &&  \ar@{=}[d]\\
        \ar[r]|-@{|}^-{F(U_{A})} \ar@{=}[d]
        \ar@{}[dr]|{\Downarrow F(\eta_{\hat{f}'})} &
        \ar[r]|-@{|}^-{F(\fhat)} \ar[d]|{F(f)}
        \ar@{}[dr]|{\Downarrow F(\epsilon_{\hat{f}})}
        & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{F(\fhat')} \ar@{}[drr]|\iso\ar@{=}[d] &
        \ar[r]|-@{|}_-{U_{F(B)}} & \ar@{=}[d]\\
        \ar[rr]|-@{|}_-{F(\fhat')} && }}
    \;=\;
    \vcenter{\xymatrix@R=1.5pc@C=3pc{
        \ar[r]|-@{|}^-{U_{F(A)}} \ar@{=}[d] \ar@{}[dr]|\iso &
        \ar[r]|-@{|}^-{F(\fhat)} \ar@{=}[d] \ar@{}[dr]|=
        & \ar@{=}[d]\\
        \ar[r]|-{F(U_{A})} \ar@{=}[d] \ar@{}[dr]|{\Downarrow F(\eta_{\hat{f}'})} &
        \ar[r]|-{F(\fhat)} \ar[d]|{F(f)} \ar@{}[dr]|{\Downarrow F(\epsilon_{\hat{f}})}
        & \ar@{=}[d]\\
        \ar[r]|-{F(\fhat')}  \ar@{=}[d] \ar@{}[dr]|= &
        \ar[r]|-{F(U_{B})} \ar@{}[dr]|\iso  \ar@{=}[d] & \ar@{=}[d]\\
        \ar[r]|-@{|}_-{F(\fhat')} &
        \ar[r]|-@{|}_-{U_{F(B)}} &}}
    \;=
    \theta_{F(\fhat),\,F(\fhat')}
  \end{equation}
  as desired.
\end{proof}

\begin{lem}\label{thm:theta-ten}
  Suppose that \lD\ is a monoidal double category, that $f\maps A\to
  B$ has companions \fhat\ and $\fhat'$, and that $g\maps C\to D$ has
  companions \ghat\ and $\ghat'$.  Then $\theta_{\fhat,\fhat'} \ten
  \theta_{\ghat,\ghat'} = \theta_{\fhat\ten \ghat, \fhat'\ten\ghat'}.$
\end{lem}
\begin{proof}
  This follows from \autoref{thm:theta-func} in the same way that
  \autoref{thm:comp-ten} follows from \autoref{thm:comp-func}.
%   Using the naturality and functoriality axioms spelled out in
%   \S\ref{sec:symm-mono-double}, we have
%   \begin{equation}
%     \theta_{\fhat,\fhat'} \ten \theta_{\ghat,\ghat'}
%     =\;
%     \vcenter{\xymatrix@C=4.5pc{
%         \ar[r]|-@{|}^-{\fhat\ten\ghat} \ar@{=}[d] \ar@{}[dr]|\iso &  \ar@{=}[d]\\
%         \ar[r]|-@{|}^-{(U_A\odot \fhat)\ten(U_C\odot \ghat)}
%         \ar[d] \ar@{}[dr]|{(\Downarrow\odot\Downarrow)\ten(\Downarrow\odot\Downarrow)} &  \ar[d]\\
%         \ar[r]|-@{|}_-{(\fhat'\odot U_C) \ten (\ghat'\odot U_D)} \ar@{=}[d] \ar@{}[dr]|\iso &  \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{\fhat'\ten\ghat'} & }}
%     \;=\;
%     \vcenter{\xymatrix@C=2pc{
%         \ar[rr]|-@{|}^-{\fhat\ten\ghat} \ar@{=}[d] \ar@{}[drr]|\iso &&  \ar@{=}[d]\\
%         \ar[rr]|-@{|}^-{(U_A\odot \fhat)\ten(U_C\odot \ghat)}
%         \ar@{=}[d] \ar@{}[drr]|\iso &&  \ar@{=}[d]\\
%         \ar[r]|-@{|}^-{U_{A}\ten U_C} \ar@{=}[d]
%         \ar@{}[dr]|{\Downarrow\ten \Downarrow} &
%         \ar[r]|-@{|}^-{\fhat\ten\ghat} \ar[d]|{f\ten g}
%         \ar@{}[dr]|{\Downarrow\ten\Downarrow}
%         & \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{\fhat'\ten\ghat'} \ar@{}[drr]|\iso\ar@{=}[d] &
%         \ar[r]|-@{|}_-{U_{B\ten D}} & \ar@{=}[d]\\
%         \ar[rr]|-@{|}_-{(\fhat'\odot U_C) \ten (\ghat'\odot U_D)}
%         \ar@{=}[d] \ar@{}[drr]|\iso &&  \ar@{=}[d]\\
%         \ar[rr]|-@{|}_-{\fhat'\ten\ghat'} && }}
%     \;=\;
%     \vcenter{\xymatrix@R=1.5pc@C=2.5pc{
%         \ar[rr]|-@{|}^-{\fhat\ten\ghat} \ar@{}[drr]|\iso \ar@{=}[d] &&
%         \ar@{=}[d] \\
%         \ar[r]|-@{|}^-{U_{A\ten C}} \ar@{=}[d] \ar@{}[dr]|\iso &
%         \ar[r]|-@{|}^-{\fhat\ten\ghat} \ar@{=}[d] \ar@{}[dr]|=
%         & \ar@{=}[d]\\
%         \ar[r]|-@{|}^-{U_{A}\ten U_C} \ar@{=}[d] \ar@{}[dr]|{\Downarrow\ten\Downarrow} &
%         \ar[r]|-@{|}^-{\fhat\ten\ghat} \ar[d]|{f\ten g} \ar@{}[dr]|{\Downarrow\ten\Downarrow}
%         & \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{\fhat'\ten\ghat'}  \ar@{=}[d] \ar@{}[dr]|= &
%         \ar[r]|-@{|}_-{U_{B}\ten U_D} \ar@{}[dr]|\iso  \ar@{=}[d] & \ar@{=}[d]\\
%         \ar[r]|-@{|}_-{\fhat'\ten\ghat'} &
%         \ar[r]|-@{|}_-{U_{B\ten D}} &\\
%         \ar[rr]|-@{|}_-{\fhat'\ten\ghat'} \ar@{}[urr]|\iso \ar@{=}[u] &&
%         \ar@{=}[u]}}
%     \;=
%     \theta_{\fhat\ten\ghat}
%   \end{equation}
%   as desired.
\end{proof}


\begin{lem}\label{thm:comp-iso}
  If $f\maps A\to B$ is a vertical isomorphism with a companion \fhat,
  then \fhat\ is a conjoint of its inverse $f\inv$.
\end{lem}
\begin{proof}
  The composites
  \[\vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^{\fhat}\ar[d]_f \ar@{}[dr]|{\Downarrow} &
      \ar@{=}[d]\\
      \ar[r]|{U_B}\ar[d]_{f\inv} \ar@{}[dr]|{\Downarrow U_{f\inv}} &
      \ar[d]^{f\inv}\\
      \ar[r]|-@{|}_{U_A} &
    }}\quad\text{and}\quad
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^{U_B}\ar[d]_{f\inv} \ar@{}[dr]|{\Downarrow U_{f\inv}} &
      \ar[d]^{f\inv}\\
      \ar[r]|{U_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow} &
      \ar[d]^f\\
      \ar[r]|-@{|}_{\fhat} &
    }}
  \]
  exhibit \fhat\ as a conjoint of $f\inv$.
\end{proof}

\begin{lem}\label{thm:compconj-adj}
  If $f\maps A\to B$ has both a companion \fhat\ and a conjoint \fchk,
  then we have an adjunction $\fhat\adj\fchk$ in $\cH\lD$.  If $f$ is
  an isomorphism, then this is an adjoint equivalence.
\end{lem}
\begin{proof}
  The unit and counit of the adjunction $\fhat\adj\fchk$ are the
  composites
  \[\vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^{U_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{f}}} &
      \ar[r]|-@{|}^{U_A}\ar[d]|{f} \ar@{}[dr]|{\Downarrow \eta_{\check{f}}} &
      \ar@{=}[d]\\
      \ar[r]|-@{|}_{\fhat} &
      \ar[r]|-@{|}_{\fchk} &
    }}\quad\text{and}\quad
  \vcenter{\xymatrix@-.5pc{
      \ar[r]|-@{|}^{\fchk}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \epsilon_{\check{f}}} &
      \ar[r]|-@{|}^{\fhat}\ar[d]|{f} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{f}}} &
      \ar@{=}[d]\\
      \ar[r]|-@{|}_{U_B} &
      \ar[r]|-@{|}_{U_B} &
    }}
  \]
%   \[\vcenter{\xymatrix@-.5pc{
%       \ar[rr]|-@{|}^{U_A}\ar@{=}[d] \ar@{}[drr]|{\iso} &&
%       \ar@{=}[d]\\
%       \ar[r]|-@{|}^{U_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow} &
%       \ar[r]|-@{|}^{U_A}\ar[d]|{f} \ar@{}[dr]|{\Downarrow} &
%       \ar@{=}[d]\\
%       \ar[r]|-@{|}_{\fhat} &
%       \ar[r]|-@{|}_{\fchk} &
%     }}\quad\text{and}\quad
%   \vcenter{\xymatrix@-.5pc{
%       \ar[r]|-@{|}^{\fchk}\ar@{=}[d] \ar@{}[dr]|{\Downarrow} &
%       \ar[r]|-@{|}^{\fhat}\ar[d]|{f} \ar@{}[dr]|{\Downarrow} &
%       \ar@{=}[d]\\
%       \ar[r]|-@{|}_{U_B}\ar@{=}[d] \ar@{}[drr]|{\iso} &
%       \ar[r]|-@{|}_{U_B} &
%       \ar@{=}[d]\\
%       \ar[rr]|-@{|}_{U_B} &&.
%     }}
%   \]
  The triangle identities follow from~\eqref{eq:compeqn}.  If $f$ is
  an isomorphism, then by the dual of \autoref{thm:comp-iso}, \fchk\
  is a companion of $f\inv$.  But then by \autoref{thm:comp-compose}
  $\fchk\odot \fhat$ is a companion of $1_A=f\inv \circ f$ and
  $\fhat\odot\fchk$ is a companion of $1_B = f\circ f\inv$, and hence
  \fhat\ and \fchk\ are equivalences.  We can then check that in this
  case the above unit and counit actually are the isomorphisms
  $\theta$, or appeal to the general fact that any adjunction
  involving an equivalence is an adjoint equivalence.
\end{proof}

To conclude this section, we combine some of the Lemma's above to derive a more general statement which will play a central role in section ~\ref{sec:constr-symm-mono}.

\begin{lem}\label{lem:equal}
Any two compositions of $\theta$-isomorphisms that have the same source and target horizontal 1-cells are equal.
\end{lem}

\begin{proof}
By Lemma's ~\ref{thm:theta-compose-vert} and ~\ref{thm:theta-compose-horiz}, $\theta$-isomorphisms are closed under composition. By uniqueness of $\theta$-isomorphisms, any two compositions of $\theta$-isomorphisms that have the same source and target horizontal 1-cells must be equal.
\end{proof}

\begin{rmk}
  In the following section we actually only require our double
  categories to have companions and conjoints for vertical
  \emph{isomorphisms}; we may call a double category with this
  property \textbf{isofibrant}.  Note that by \autoref{thm:comp-iso},
  having companions for all isomorphisms implies having conjoints for
  all isomorphisms.  However, most examples we are interested in have
  all companions and conjoints. We will need these to lift monoidal structures in section ~\ref{sec:constr-symm-mono}. Besides that, these are useful for other
  purposes as well; see~\cite{shulman:frbi}.  Moreover, if we are
  given a double category in which only vertical isomorphisms have
  companions, we can still apply our theorems to it as written, simply
  by first discarding all noninvertible vertical 1-morphisms.
\end{rmk}

\section{From double categories to bicategories}
\label{sec:1x1-to-bicat}

We are now equipped to lift structures on fibrant double categories to
their horizontal bicategories.  In this section we show that passage
from fibrant double categories to bicategories is functorial; in the
next section we show that it preserves monoidal structure.

As a point of notation, we write $\odot$ for the composition of
1-cells in a bicategory, since our bicategories are generally of the
form $\cH(\lD)$.  As advocated by Max Kelly, we say \textbf{functor}
to mean a morphism between bicategories that preserves composition up
to isomorphism; equivalent terms include \emph{weak 2-functor},
\emph{pseudofunctor}, and \emph{homomorphism}.

Recall that the assignment $\cH$ sends each double category $\lC$ to the horizontal bicategory  $\cH(\lD)$ of objects, 1-cells, and globural 2-morphisms of $\lD$.

\begin{thm}\label{thm:1-func}
  If \lD\ is a double category, then $\cH(\lD)$ is a bicategory, and
  any functor $F\maps \lD\to\lE$ induces a functor $\cH(F)\maps
  \cH(\lD)\to\cH(\lE)$.  In this way $\cH$ defines a functor of
  1-categories $\mathbf{Dbl}\to \mathbf{Bicat}$.
\end{thm}
\begin{proof}
  The constraints of $F$ are all globular, hence give constraints for
  $\cH(F)$.  Functoriality is evident.
\end{proof}

The action of \cH\ on transformations, however, is less obvious. It
requires the presence of companions or conjoints, to lift the part of the data given by vertical morphisms to horizontal 1-cells. Before we discuss how this works, we briefly recall some definitions regarding transformations of bifunctors. 

If $F,G\maps \cA\to\cB$ are functors between bicategories, then an
\textbf{oplax transformation} $\al\maps F\to G$ consists of 1-cells
$\al_A\maps FA\to GA$ and 2-cells
\[\vcenter{\xymatrix{ \ar[r]^{Ff}\ar[d]_{\al_A} \drtwocell\omit{\al_f} &  \ar[d]^{\al_B}\\
  \ar[r]_{Gf} & }}\]
such that for any 2-cell $\xymatrix{A \rtwocell^f_g{x} & B}$ in \cA,
\begin{equation}
  \label{eq:laxtransf-nat}
  \vcenter{\xymatrix@R=1pc@C=3pc{
      \rtwocell^{Ff}_{Fg}{Fx}\ar[dd]_{\al_A} 
      &  \ar[dd]^{\al_B}\\
      \drtwocell\omit{\al_g} & \\
      \ar[r]_{Gg} & }}\;=\;
  \vcenter{\xymatrix@R=1pc@C=3pc{
      \ar[r]^{Ff}\ar[dd]_{\al_A} \drtwocell\omit{\al_f} &
      \ar[dd]^{\al_B}\\ & \\
      \rtwocell^{Gf}_{Gg}{Gx} & }}
\end{equation}
and moreover for any $A$ and any $f,g$ in \cA,
\begin{equation}
  \vcenter{\xymatrix@R=5pc{
      \rtwocell^{1_{FA}}_{F(1_A)}{\iso} \ar[d]_{\al_A} \drtwocell\omit{\al_{1_A}} &  \ar[d]^{\al_A}\\
      \rtwocell^{G(1_A)}_{1_{GA}}{\iso} & }} \;=\;
  \vcenter{\xymatrix{ \ar[r]^{1_{FA}}\ar[d]_{\al_A} \drtwocell\omit{\iso}&  \ar[d]^{\al_A}\\
      \ar[r]_{1_{GA}} &
    }}
  \quad\text{and}\quad
  \vcenter{\xymatrix{
      \ar[r]|{Ff}\ar[d]_{\al_A} \drtwocell\omit{\al_f}
      \rruppertwocell^{F(gf)}{\iso}
      &
      \ar[r]|{Fg}\ar[d]|{\al_B} \drtwocell\omit{\al_g} &
      \ar[d]^{\al_C}\\
      \ar[r]|{Gf} \rrlowertwocell_{G(gf)}{\iso} & \ar[r]|{Gg} & }}
  \;=\;
  \vcenter{\xymatrix{ \ar[r]^{F(gf)}\ar[d]_{\al_A} \drtwocell\omit{\al_{gf}} &  \ar[d]^{\al_C}\\
      \ar[r]_{G(gf)} & }}\label{eq:laxtransf-ax}
\end{equation}
It is a \textbf{lax transformation} if the 2-cells $\al_f$ go the
other direction, and a \textbf{pseudo transformation} if they are
isomorphisms.

It was argued by Nick Gurski in ~\cite{nick:tricats}, that often one would like to have a stronger notion of equivalence tranformations, than simply pseudo transformations. For practical purposes, it is useful to have a notion that provides canonical pseudoinverses for all of the appropriate structure constraints, as well as the necessary modifications to exhibit this pseudoinvertibility explicitly. It turns out that pseudo natural adjoint equivalences, which we discuss below, do the job.

By doctrinal adjunction~\cite{kelly:doc-adjn}, given collections of
1-cells $\al_A\maps FA\to GA$ and $\be_A\maps GA\to FA$ and
adjunctions $\al_A\adj \be_A$ in \cB, there is a bijection between
\begin{inparaenum}
\item collections of 2-cells $\al_f$ making $\al$ an oplax
  transformation and
\item collections of 2-cells $\be_f$ making $\be$ a lax
  transformation.
\end{inparaenum}
Two such transformations correspond under this bijection if and only if
\begin{equation}
  \vcenter{\xymatrix@-.5pc{F(f) \ar[r]^-{\eta \odot \mbox{\tiny id}_{F(f)}}
      \ar[d]_{\mbox{\tiny id}_{F(f)}\odot \eta} &
      \be_B\odot \al_B \odot F(f) \ar[d]^{\mbox{\tiny id}_{\be_B} \odot \al_f}\\
      F(f) \odot \be_A\odot \al_A\ar[r]_-{\be_f \odot \mbox{\tiny id}_{\al_A}} &
      \be_B\odot G(f) \odot \al_A}}
  \quad\text{and}\quad
  \vcenter{\xymatrix@-.5pc{\al_B\odot F(f)\odot \be_A
      \ar[r]^-{\mbox{\tiny id}_{\al_B}\odot \be_f}\ar[d]_{\al_f \odot \mbox{\tiny id}_{\be_A}}&
      \al_B \odot \be_B \odot G(f)\ar[d]^{\ep \odot \mbox{\tiny id}_{G(f)}}\\
      G(f)\odot \al_A\odot \be_A \ar[r]_-{\mbox{\tiny id}_{G(f)} \odot \ep} & G(f)}}\label{eq:conjtrans}
\end{equation}
commute.  If we have a pointwise adjunction between an oplax and a lax
transformation, whose 2-cell structures correspond under this
bijection, we call it a \textbf{conjunctional transformation}
$(\al\conj \be)\maps F\to G$.  (These are the conjoint pairs in a
double category whose horizontal arrows are lax transformations and
whose vertical arrows are oplax transformations.)

Of particular importance is the case when both $\al$ and \be\ are
pseudo natural and each adjunction $\al_A\adj \be_A$ is an adjoint
equivalence.  In this case we call $\al\conj \be$ a \textbf{pseudo
  natural adjoint equivalence}.  A pseudo natural adjoint equivalence
can equivalently be defined as an internal equivalence in the
bicategory $\cBicat(\cA,\cB)$ of functors, pseudo natural
transformations, and modifications $\cA\to\cB$. 

Recall also that if $\al,\al'\maps F\to G$ are oplax transformations,
a \textbf{modification} $\mu\maps \al\to\al'$ consists of 2-cells
$\mu_A\maps \al_A\to\al'_A$ such that
\begin{equation}
  \vcenter{\xymatrix@C=1pc@R=2.5pc{ \ar[rr]^{Ff}\dtwocell_{\al'_A}^{\al_A}{\mu_A}  &
      \drtwocell\omit{\al_f} &  \ar[d]^{\al_B}\\
      \ar[rr]_{Gf} && }} \quad=\quad
  \vcenter{\xymatrix@C=1pc@R=2.5pc{ \ar[rr]^{Ff}\ar[d]_{\al'_A} \drtwocell\omit{\al'_f} && 
      \dtwocell^{\al_B}_{\al'_B}{\mu_B}\\
      \ar[rr]_{Gf} && }}\label{eq:modif-ax}
\end{equation}
There is an evident notion of modification between lax transformations
as well.  Finally, given conjunctional transformations $\al\conj\be$
and $\al'\conj \be'$, there is a bijection between modifications
$\al\to\al'$ and $\be'\to\be$, where $\mu\maps \al\to\al'$ corresponds
to $\bar{\mu}\maps \be'\to\be$ with components $\bar{\mu}_A$ defined
by:
\[\vcenter{\xymatrix@-.5pc{
    && FA \ar@{=}[drr] \ddtwocell<5>^{\al_A}_{\al'_A}{\mu_A}\\
    GA \ar[urr]^{\be'_A} \ar@{=}[drr] & \Swarrow_\ep && \Swarrow_\eta & FA\\
    &&GA\ar[urr]_{\be_A}
  }}\]
The modifications $\bar{\mu}$ and \mu\ are called \textbf{mates}, and
are compatible with composition (see \cite{ks:r2cats}).  Thus, given
$\cA,\cB$ we can define a bicategory $\Conj(\cA,\cB)$, whose objects
are functors $\cA\to\cB$, whose 1-cells are conjunctional
transformations considered as pointing in the direction of their left
adjoints, and whose 2-cells are mate-pairs of modifications.

\begin{thm}\label{thm:h-locfr}
  If \lD\ is a double category and \lE\ is a fibrant double category
  with chosen companions and conjoints, we have a functor
  \begin{align}
    \cDbl(\lD,\lE) &\too \Conj(\cH(\lD),\cH(\lE))\\
    F &\mapsto \cH(F)\\
    \al &\mapsto (\alhat\conj\alchk).
  \end{align}
  Moreover, if \al\ is an isomorphism, then $\alhat\conj\alchk$ is a
  pseudo natural adjoint equivalence.
\end{thm}

Note that we are here regarding the 1-category $\cDbl(\lD,\lE)$ as a
bicategory with only identity 2-cells.

\begin{proof}
  We denote the chosen companion and conjoint of $f$ in \lE\ by \fhat\
  and \fchk, as usual.  We define $\alhat$ as follows: its 1-cell
  components are $\alhat_A = \widehat{\al_A}$, and its 2-cell
  component $\alhat_f$ is the composite
  \begin{equation}
    \vcenter{\xymatrix@R=1.5pc@C=2.5pc{
        \ar[r]|-@{|}^{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A}} &
        \ar[r]^{Ff}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow \al_f} &
        \ar[r]|-@{|}^{\alhat_B}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{\alpha}_B}} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}_{\alhat_A} &
        \ar[r]_{Gf} &
        \ar[r]|-@{|}_{U_{GB}} & 
      }}\label{eq:oplax-2cell}
%     \vcenter{\xymatrix@R=1.5pc@C=2.5pc{
%         \ar[r]|-@{|}^{Ff}\ar@{=}[d] \ar@{}[drrr]|{\iso} &
%         \ar[rr]|-@{|}^{\alhat_B} &&
%         \ar@{=}[d]\\
%         \ar[r]|-@{|}^{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow} &
%         \ar[r]|{Ff}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow \al_f} &
%         \ar[r]|-@{|}^{\alhat_B}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow} &
%         \ar@{=}[d]\\
%         \ar[r]|-@{|}_{\alhat_A} \ar@{=}[d] \ar@{}[drrr]|\iso &
%         \ar[r]|{Gf} &
%         \ar[r]|-@{|}_{U_{GB}} & \ar@{=}[d]\\
%         \ar[r]|-@{|}_{\alhat_A} & \ar[rr]|-@{|}_{Gf} &&
%       }}\label{eq:oplax-2cell}
  \end{equation}
  Equations~\eqref{eq:laxtransf-nat} and~\eqref{eq:laxtransf-ax}
  follow directly from \autoref{thm:dbl-transf}.  The construction of
  $\alchk$ is dual, using conjoints, and \autoref{thm:compconj-adj}
  shows that $\alhat_A\adj \alchk_A$.  For the first equation
  in~\eqref{eq:conjtrans}, we have
  \begin{equation}
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{=} &
        \ar[r]|-@{|}^{Ff}\ar@{=}[d] \ar@{}[dr]|{=} &
        \ar[r]|-@{|}^{U_{FB}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_B}} &
        \ar[r]|-@{|}^{U_{FB}}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow \eta_{\check{\alpha}_B}} &
        \ar@{=}[d]\\
        \ar[r]|{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A}} &
        \ar[r]|{Ff}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow\al_f} &
        \ar[r]|{\alhat_B}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{\alpha}_B}} &
        \ar[r]|{\alchk_B}\ar@{=}[d] \ar@{}[dr]|{=} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}_{\alhat_A} &
        \ar[r]|-@{|}_{Gf} &
        \ar[r]|-@{|}_{U_{GB}} &
        \ar[r]|-@{|}_{\alchk_B} &
      }}\;=\;
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A}} &
        \ar[r]|-@{|}^{Ff}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow \al_f} &
        \ar[r]|-@{|}^{U_{FB}}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow \eta_{\check{\alpha}_B}} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}_{\alhat_A} &
        \ar[r]|-@{|}_{Gf} &
        \ar[r]|-@{|}_{\alchk_B} &
      }}\;=\;
    \vcenter{\xymatrix@-.5pc{
        \ar[r]|-@{|}^{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A}} &
        \ar[r]|-@{|}^{U_{FA}}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow \eta_{\check{\alpha}_A}} &
        \ar[r]|-@{|}^{Ff}\ar@{=}[d] \ar@{}[dr]|{=} &
        \ar[r]|-@{|}^{U_{FB}}\ar@{=}[d] \ar@{}[dr]|{=} &
        \ar@{=}[d]\\
        \ar[r]|{\alhat_A}\ar@{=}[d] \ar@{}[dr]|{=} &
        \ar[r]|{\alchk_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \epsilon_{\check{\alpha}_A}} &
        \ar[r]|{Ff}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow\al_f} &
        \ar[r]|{U_{FB}}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow \eta_{\check{\alpha}_B}} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}_{\alhat_A} &
        \ar[r]|-@{|}_{U_{GA}} &
        \ar[r]|-@{|}_{Gf} &
        \ar[r]|-@{|}_{\alchk_B} &
        }},
  \end{equation}
  and the second is dual.  Thus $(\alhat\conj\alchk)$ is a
  conjunctional transformation.

  It is left to check the axioms for functors of bicategories. Suppose we are given $\al\maps F\to G$ and $\be\maps G\to H$.  Then by
  \autoref{thm:comp-compose}, $\behat_A\odot\alhat_A$ is a companion
  of $\be_A\circ \al_A$, so we have a canonical isomorphism
  \[\theta_{\widehat{\be\al}_A, \,\behat_A\odot\alhat_A}\maps
  \widehat{\be\al}_A \too[\iso] \behat_A\odot\alhat_A.
  \]
  Of course, we also have $\theta_{\widehat{1_A},U_A}\maps
  \widehat{1_A} \too[\iso] U_A$ by \autoref{thm:comp-unit}.  These
  constraints are automatically natural, since $\cDbl(\lD,\lE)$ has no
  nonidentity 2-cells.  The axiom for the composition constraint says
  that two constructed isomorphisms of the form
  \[\widehat{\gm\be\al}_A \too[\iso] (\gmhat_A \odot \behat_A)\odot \alhat_A\]
  are equal.  However, both $\widehat{\gm\be\al}_A$ and $(\gmhat_A
  \odot \behat_A)\odot \alhat_A$ are companions of $\gm_A\be_A\al_A$,
  and both of these isomorphisms are constructed from composites of $\theta$s; hence by
  Lemma \ref{lem:equal}, they are both equal to
  \[\theta_{\widehat{\gm\be\al}_A,\, (\gmhat_A \odot \behat_A)\odot
    \alhat_A}\] and thus equal to each other.  The same argument
  applies to the axioms for the unit constraint; thus we have a functor of bicategories.

  Finally, if $\al$ is an isomorphism, then in particular each $\al_A$
  is an isomorphism, so by \autoref{thm:compconj-adj} each
  $\alhat_A\adj \alchk_A$ is an adjoint equivalence.  But \al\ being
  an isomorphism also implies that each 2-cell
  \[\vcenter{\xymatrix@-.5pc{ \ar[r]|-@{|}^-{Ff} \ar[d]_{\al_A} \ar@{}[dr]|{\Downarrow\al_f} &  \ar[d]^{\al_B}\\
      \ar[r]|-@{|}_-{Gf} & }}\]
  is an isomorphism.  From its inverse we form the composite
  \[\vcenter{\xymatrix@R=1.5pc@C=3pc{
      \ar[r]|-@{|}^{\alhat_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A^{-1}}} &
      \ar[r]^{Gf}\ar[d]|{\al_A\inv} \ar@{}[dr]|{\Downarrow\al_f\inv} &
      \ar[r]|-@{|}^{U_{GB}}\ar[d]|{\al_B\inv} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{\alpha}_B^{-1}}} &
      \ar@{=}[d]\\
      \ar[r]|-@{|}_{U_{FA}}&
      \ar[r]_{Ff} &
      \ar[r]|-@{|}_{\alhat_B} &
    }}\]
%   \[\vcenter{\xymatrix@R=1.5pc@C=3pc{
%       \ar[r]|-@{|}^{\alhat_A}\ar@{=}[d] \ar@{}[drrr]|{\iso} &
%       \ar[rr]|-@{|}^{Gf} &&
%       \ar@{=}[d]\\
%       \ar[r]|-@{|}^{\alhat_A}\ar@{=}[d] \ar@{}[dr]|{\Downarrow} &
%       \ar[r]|{Gf}\ar[d]|{\al_A\inv} \ar@{}[dr]|{\Downarrow\al_f\inv} &
%       \ar[r]|-@{|}^{U_{GB}}\ar[d]|{\al_B\inv} \ar@{}[dr]|{\Downarrow} &
%       \ar@{=}[d]\\
%       \ar[r]|-@{|}_{U_{FA}} \ar@{=}[d] \ar@{}[drrr]|\iso &
%       \ar[r]|{Ff} &
%       \ar[r]|-@{|}_{\alchk_A} & \ar@{=}[d]\\
%       \ar[r]|-@{|}_{Ff} &
%       \ar[rr]|-@{|}_{\alchk_A} &&
%     }}\]
  which we can then verify to be an inverse of~\eqref{eq:oplax-2cell}.
  Thus $\alhat$, and dually $\alchk$, is pseudo natural, and hence
  $\alhat\conj\alchk$ is a pseudo natural adjoint equivalence.
\end{proof}

We can also promote \autoref{thm:theta} to a functorial uniqueness.

\begin{lem}\label{thm:h-locfr-uniq}
  Let \lD\ be a double category and \lE\ a fibrant double category
  with two different sets of choices $\fhat,\fchk$ and $\fhat',\fchk'$
  of companions and conjoints for each vertical 1-morphism $f$, giving
  rise to two different functors
  \[\cH,\cH'\maps \cDbl(\lD,\lE)\too \Conj(\cH(\lD),\cH(\lE)).\]
  Then the isomorphisms $\theta$ from \autoref{thm:theta} fit together
  into a pseudo natural adjoint equivalence $\cH\eqv \cH'$ which is the
  identity on objects.
\end{lem}
\begin{proof}
  We must first show that for a given transformation $\al\maps F\to
  G\maps \lD\to\lE$ in \cDbl, the isomorphisms \th\ correspond to 2-cells $\alhat \iso \alhat'$ of $\Conj(\cH(\lD),\cH(\lE))$; that is, they form invertible
  modifications.
  Substituting~\eqref{eq:oplax-2cell} and the definition of \th\
  into~\eqref{eq:modif-ax}, this becomes the assertion that
  \begin{equation}
    \vcenter{\xymatrix@R=1.5pc@C=2pc{
        &
        \ar[r]|-@{|}^{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A}} &
        \ar[r]^{Ff}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow \al_f} &
        \ar[r]|-@{|}^{\alhat_B}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{\alpha}_B}} &
        \ar@{=}[d]\\
        \ar[r]|-@{|}^{U_{FA}} \ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A'}} &
        \ar[r]|{\alhat_A} \ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{\alpha}_A}}&
        \ar[r]_{Gf}  \ar@{=}[d] &
        \ar[r]|-@{|}_{U_{GB}} & \\
        \ar[r]|-@{|}_{\alhat_A'} & \ar[r]|-@{|}_{U_{GB}}&&
      }} \;=\;
    \vcenter{\xymatrix@R=1.5pc@C=2pc{
        && \ar@{=}[d] \ar[r]|-@{|}^{U_{FA}} \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_B'}} &
        \ar[d]|{\al_B} \ar[r]|-@{|}^{\alhat_B} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{\alpha}_B}}
        &
        \ar@{=}[d] &\\
        \ar[r]|-@{|}^{U_{FA}}\ar@{=}[d] \ar@{}[dr]|{\Downarrow \eta_{\hat{\alpha}_A'}} &
        \ar[r]^{Ff}\ar[d]|{\al_A} \ar@{}[dr]|{\Downarrow \al_f} &
        \ar[r]|{\alhat_B'}\ar[d]|{\al_B} \ar@{}[dr]|{\Downarrow \epsilon_{\hat{\alpha}_B'}} &
        \ar@{=}[d] \ar[r]|-@{|}_{U_{GB}}&\\
        \ar[r]|-@{|}_{\alhat_A'} &
        \ar[r]_{Gf} &
        \ar[r]|-@{|}_{U_{GB}} & .
      }}
  \end{equation}
  This follows from two applications of~\eqref{eq:compeqn}, one for
  $\alhat_A$ and one for $\alhat_B'$.  (The mate of \th\ is, of
  course, uniquely determined.)  Now, to show that these form a pseudo
  natural adjoint equivalence, it remains only to check that they do,
  in fact, form a pseudo natural transformation which is the identity
  on objects, i.e.\ that~\eqref{eq:laxtransf-nat}
  and~\eqref{eq:laxtransf-ax} are satisfied.
  But~\eqref{eq:laxtransf-nat} is vacuous since $\cDbl(\lD,\lE)$ has
  no nonidentity 2-cells, and~\eqref{eq:laxtransf-ax} follows from uniqueness of $\theta$s,
  Lemma \ref{lem:equal}, since all the constraints involved are
  also instances of \th.
\end{proof}

It seems that we should have a functor from fibrant double categories
to a tricategory of bicategories, functors, conjunctional
transformations, and modifications, but there is no tricategory
containing conjunctional transformations since the interchange law
only holds laxly.  However, we can say the following.  Let $\cDbl_{\bf F}$
denote the sub-2-category of \cDbl\ containing the fibrant double
categories, all functors between them, and only the transformations
that are isomorphisms, and let \cBicat\ denote the tricategory of
bicategories, functors, pseudo natural transformations, and
modifications.

\begin{thm}\label{thm:h-functor}
  There is a functor of tricategories $\cH\maps \cDbl_{\bf F}\to \cBicat$.
\end{thm}
\begin{proof}
  The definition of functors between tricategories can be found
  in~\cite{gps:tricats} or~\cite{nick:tricats}.  In addition to
  \autoref{thm:h-locfr}, we require pseudo natural (adjoint)
  equivalences $\chi$ and $\iota$ relating composition and units in
  $\cDbl_{\bf F}$ and \cBicat, and modifications relating composites of
  these, which satisfy various axioms.  %However, since composition of
  %1-cells in $\cDbl_{\bf F}$ and \cBicat\ is strictly associative and
  %unital, \cH\ strictly preserves this composition, and $\cDbl_{\bf F}$
  %has no nonidentity 3-cells, this merely amounts to the following.

For $\chi$ this means that for every pair of transformations
  \[\vcenter{\xymatrix{\lC \rtwocell^F_G{\al} & \lD \rtwocell^H_K{\be}
      & \lE}}\]
  between fibrant double categories, we require an invertible
  modification
\begin{equation}
\begin{tikzpicture}[xscale=0.75, yscale=1.3]
\node (tl) at (0,2) {${\cH}(H) \circ {\cH}(F)$};
\node (bl) at (0,1) {${\cH}(H \circ F)$};
\node (tr) at (4,2) {${\cH}(K) \circ {\cH}(G)$};
\node (br) at (4,1) {${\cH}(K \circ G)$};
\draw[->] (tl) to node [above] {$\hat{\beta} * \hat{\alpha}$} (tr);
\draw[->] (tr) to node [right] {$\chi_{K,G}$} (br);
\draw[->] (tl) to node [right] {$\chi_{H,F}$} (bl);
\draw[->] (bl) to node [below] {$\widehat{\be*\al}$} (br);
\node at (2,1.5) {$\Arrow{5} \chi_{\alpha,\beta} $};
\end{tikzpicture}
\end{equation}
satisfying the naturality and composition constraints ~\ref{eq:laxtransf-ax} and ~\ref{thm:1-func}.

However, since composition of
  1-cells in $\cDbl_{\bf F}$ and \cBicat\ is strictly associative and
  unital, and \cH\ strictly preserves this composition (Theorem \ref{thm:1-func}),
  the 1-cell components are identities. Consequently, it is merely  a modificaton $\chi\maps \behat * \alhat \iso \widehat{\be*\al}$, such that 
 
 \begin{equation}
        \vcenter{\xymatrix@-.5pc{
        1_{{\cH}H \circ {\cH}F} \ar[r]\ar[d]_{=} &
        \hat{1}_{K}*\hat{1}_{H}\ar[d]^{\chi}\\
        1_{{\cH}(H \circ F)}\ar[r] &
        \widehat{1_{K} *1_{H}}}} \quad\text{and}\quad       
    \vcenter{\xymatrix@-.5pc{
        \widehat{\gm\al}*\widehat{\de\be} \ar[r]\ar[d]_\chi &
        (\gmhat*\dehat)\odot(\alhat*\behat)\ar[d]^{\chi \odot \chi}\\
        \widehat{\gm\al*\de\be}\ar[r] &
        (\widehat{\gm*\de})\odot(\widehat{\al*\be})}}
  \end{equation}
commute. (Here we are writing $*$ for the `Godement product' of 2-cells in $\cDbl$ and $\cBicat$.)    
Note that condition ~\ref{eq:laxtransf-nat} is satisfied because $\cDbl_{\bf F}$ has no nonidentity 3-cells.
  
  Now by Lemmas \ref{thm:comp-compose} and
  \ref{thm:comp-func}, $(\behat *\alhat)_A = \behat_{GA} \circ
  H(\alhat_A)$ is a companion of $(\be*\al)_A = \be_{GA} \circ
  H(\al_A)$.  Therefore, we take the component $\chi_A$ to be
  \[\theta_{\behat_{GA} \circ H(\alhat_A),\, \widehat{\be*\al}_A}.\]
  The equations above are satisfied by uniqueness of $\theta$-isomorphisms.
   Equation~\eqref{eq:modif-ax}, saying that these form a modification,
  becomes the equality of two large composites of 2-cells in \lD,
  which as usual follows from~\eqref{eq:compeqn}. The equations above are satisfied by uniqueness of $\theta$-isomorphisms, Lemma ~\ref{lem:equal}.

  For $\iota$, we require for every $F\maps \lD\to\lE$ an isomorphism  $\iota\maps \widehat{1_F} \iso 1_{\cH(F)}$ satisfying a couple of
  axioms which simply require it to be equal to the unit constraint of
  the local functor \cH\ from \autoref{thm:h-locfr}; these are the
  2-cell components of the unit constraint.  Finally, the required
  modifications merely amount to the \emph{assertions} that
  \[\vcenter{\xymatrix@-.5pc{\gmhat*\behat*\alhat \ar[r]^\chi\ar[d]_\chi &
      \widehat{\gm*\be}*\alhat \ar[d]^\chi\\
      \gmhat*\widehat{\be*\al}\ar[r]_\chi & \widehat{\gm*\be*\al}}},\qquad
  \vcenter{\xymatrix@-.5pc{ \alhat \ar[r]^-\iota \ar@{=}[dr] &
      \widehat{1_F}*\alhat \ar[d]^\chi \\ & \alhat }}, \;\text{and}\qquad
  \vcenter{\xymatrix@-.5pc{ \alhat \ar[r]^-\iota \ar@{=}[dr] &
      \alhat*\widehat{1_F} \ar[d]^\chi \\ & \alhat }}\]
  commute; again this follows from \autoref{thm:theta-compose-vert}.
\end{proof}

We end this section with two final lemma's.

\begin{lem}\label{thm:theta-nat}
  Suppose $F,G\maps \lD\to\lE$ are functors of double categories, $\al\maps F\to G$ is a
  transformation, and that $f\maps A\to B$ has a companion \fhat\ in
  \lD.  Then the oplax comparison 2-cell for \alhat:
  \[\vcenter{\xymatrix{
      \ar[r]^{F(\fhat)}\ar[d]_{\alhat_A} \drtwocell\omit{\;\alhat_{\fhat}}&  \ar[d]^{\alhat_B}\\
      \ar[r]_{G(\fhat)} & }}\]
  is equal to $\theta_{\alhat_B\odot F(\fhat),\, G(\fhat) \odot
    \alhat_A}$ (and in particular is an isomorphism).
\end{lem}
\begin{proof}
  By definition $\alhat_A$ and $\alhat_B$ are companions of $\al_A$
  and $\al_B$, respectively, and by \autoref{thm:comp-func} $F(\fhat)$
  and $G(\fhat)$ are companions of $F(f)$ and $G(f)$, respectively.
  Thus, by \autoref{thm:comp-compose} the domain and codomain of
  $\alhat_{\fhat}$ are both companions of $G(f) \circ \al_A = \al_B
  \circ F(f)$, so at least the asserted $\theta$ isomorphism exists.
  Now, by taking the definition~\eqref{eq:oplax-2cell} of
  $\alhat_{\fhat}$ and substituting it for $\theta$
  in~\eqref{eq:comp-iso}, using the axioms for companions and the
  naturality of $\al$ on 2-morphisms, we see that $\alhat_{\fhat}$
  satisfies~\eqref{eq:comp-iso} and hence must be equal to $\theta$.
\end{proof}

\begin{lem}\label{lem:FUtheta}
Suppose $F:\lD \rightarrow \lE$ is a functor of double categories. The lifted oplax 2-cell $\hat{F}_U$ is equal to $\theta_{id_{FA}, Fid_A}$
\end{lem}

\begin{proof}
We show that equation ~\ref{eq:comp-iso} holds when we substitute $\theta_{id_{FA}, Fid_A}$ by $\hat{F}_U$.  Unfolding the definitions of $\eta_{U_{FA}}$, $\epsilon_{FU_A}$, and $\hat{F}_U$, and applying functoriality of $F$, we obtain an expression that can be rewritten to $U_{id_{FA}}$. It follows that $F_U$ is a $\theta$-isomorphism, by the uniqueness of $\theta s$ in this expression.
\end{proof}




\section{Symmetric Monoidal Bicategories}
\label{sec:constr-symm-mono}
In this section we will discuss how the functor $\mathcal{H}$ from the previous section extends to a functor from the tricategories of monoidal double categories, braided monoidal double categories, and symmetric monoidal double categories, which we will denote with $\mathcal{D}bl_{\bf F}^{\bf M}$, $\mathcal{D}bl_{\bf F}^{\bf B}$, and $\mathcal{D}bl_{\bf F}^{\bf S}$, respectively. Their images are the tricategories  of monoidal bicategories, braided monoidal bicategories, and symmetric monoidal bicategories, $\mathcal{B}icat^{\bf M}$, $\mathcal{B}icat^{\bf B}$, and $\mathcal{B}icat^{\bf S}$, respectively.

Note that there are several related notions of each of these tricategories, depending on whether we want the functors within these tricategories to be lax monoidal, oplax monoidal, or strong monoidal. No matter what choice we make, $\mathcal{H}$ preserves the monoidal structure. However, as we have observed before, there are no tricategories containing conjuntional transformations. Hence, $\mathcal{H}$ can only be a trifunctor of monoidal double categories, if we restrict to transformations that are horizontally strong; which means that they lift to pseudo transformations. Under this condition, we will prove the main theorem of this section, stated below. We leave a further generalization to future work.
%[{\it is there a better definition? or examples where this works/ some justification}]     

\begin{thm}\label{thm:trifunctor2}
The functor $\mathcal{H}: \mathcal{D}bl_{\bf F} \rightarrow \mathcal{B}icat$ extends to functors $\mathcal{H}^{\bf M}: \mathcal{D}bl_{\bf F}^{\bf M} \rightarrow \mathcal{B}icat^{\bf M}$, $\mathcal{H}^{\bf B}: \mathcal{D}bl_{\bf F}^{\bf B} \rightarrow \mathcal{B}icat^{\bf B}$, and $\mathcal{H}^{\bf S}: \mathcal{D}bl_{\bf F}^{\bf S} \rightarrow \mathcal{B}icat^{\bf S}$ 
\end{thm}

\subsection{Strategy}
We need to show that $\mathcal{H}$ preserves all of the relevant (braided/symmetric) monoidal structure.
This lifting of monoidal structure is done in three steps:
\begin{enumerate}
\item Structural vertical isomorphisms are mapped by $\cH$ to structural pseudo natural adjoint equivalences, as discussed in Theorem ~\ref{thm:h-locfr}.
\item The characteristic commuting diagrams between structural vertical isomorphisms induce canonical $\theta$-isomorphism between their companions. These give us the required structure modifications for bicategories.
\item The characteristic equalities between compositions of structure modifications are satisfied due to the fact that $\theta$-isomorphisms are unique and closed under composition (Lemma ~\ref{lem:equal}).
\end{enumerate}

To make step 2 precise, we will prove the following Lemma.

\begin{lem}\label{lem:modification}
Let $\D$ be a double category, and let $M,N$ be objects in the category $\D_1$ of morphisms of $\D$. Any two composites of morphisms $s_1 \circ ... \circ s_n:A \rightarrow B$ and $t_1 \circ ... \circ t_m: A \rightarrow B$ in $\D_1$, that form a commuting polygon, induce a canonical modification $\theta_{\hat{s},\hat{t}} : \hat{s} = \hat{s1} \odot ... \odot \hat{s_n} \rightarrow \hat{t} = \hat{t_1} \odot ... \odot \hat{t_m}$. 
\end{lem}

\begin{proof}
Repeatedly applying Lemma ~\ref{thm:comp-compose} tells us that $\hat{s}_1 \odot ... \odot \hat{s}_n$ and $\hat{t}_1 \odot ... \odot \hat{t}_m$ are two companions of $s$ and $t$, respectively. As $s$ and $t$ form a commuting diagram, they are in fact the same morphism. It follows from Lemma ~\ref{thm:theta} that there exists a canonical globular isomorphism $\theta_{\hat{s},\hat{t}}: \hat{s} \rightarrow \hat{t}$. This isomorphism is a modification by Lemma ~\ref{thm:h-locfr-uniq}.
\end{proof}
  

\subsection{Lifting Symmetric Monoidal Structures}
We are now ready to lift monoidal structures from double categories to
bicategories.  If we had a theory of symmetric monoidal tricategories,
we could do this by improving \autoref{thm:h-functor} to say that
$\cH$ is a symmetric monoidal functor, and then conclude that it
preserves pseudomonoids.  However, in the absence of such a theory, we
give a direct proof.

\begin{rmk}\label{rmk:sym}
  For monoidal bicategories, there is a notion in between braided and
  symmetric, called \emph{sylleptic}, in which the the braiding is
  self-inverse up to an isomorphism (the \emph{syllepsis}) but this
  isomorphism is not maximally coherent.  Since in our approach the
  syllepsis will be an isomorphism of the form
  $\theta_{\fhat,\fhat'}$, it is \emph{always} maximally coherent;
  thus our method cannot produce sylleptic monoidal bicategories that
  are not symmetric.
\end{rmk}

\begin{lem}\label{thm:mon11-monbi}
  If \lD\ is a {\bf fibrant monoidal double category}, then $\cH(\lD)$ is a
  monoidal bicategory.  
\end{lem}


\begin{proof}[Proof of \autoref{thm:mon11-monbi}]
  A monoidal bicategory is defined to be a tricategory with one
  object.  We use the definition of tricategory
  from~\cite{nick:tricats}, which is the same as that
  of~\cite{gps:tricats} except that the associativity and unit
  constraints are pseudo natural adjoint equivalences, rather than
  merely pseudo transformations whose components are equivalences.

  The functor \cH\ evidently preserves products, so $\ten\maps
  \lD\times\lD\to\lD$ induces a functor $\ten\maps
  \cH(\lD)\times\cH(\lD)\to \cH(\lD)$, and of course $I$ is still the
  unit.  The associativity constraint of \lD\ is a natural isomorphism
  \[\vcenter{\xymatrix@C=5pc{\lD\times\lD\times\lD \rtwocell^{\ten
        (\Id\times\ten)}_{\ten(\ten\times\Id)}{\fa\iso} &\lD }}\]
  so by \autoref{thm:h-locfr} it gives rise to a pseudo natural
  adjoint equivalence
  \[\vcenter{\xymatrix@C=6pc{\cH(\lD)\times\cH(\lD)\times\cH(\lD) \rtwocell^{\ten
        (\Id\times\ten)}_{\ten(\ten\times\Id)}{\fahat\eqv} &\cH(\lD) }}\]
  Likewise, the unit constraints of \lD\ induce pseudo natural adjoint
  equivalences.

  The final four pieces of data for a monoidal bicategory are
  invertible modifications relating various composites of the
  associativity and unit transformations.  The first is a
  ``pentagonator'' which relates the two ways to go around the Mac
  Lane pentagon:
  \[\xy
  (-10,0)*{((A\ten B)\ten C)\ten D}="A";
  (20,10)*{(A\ten (B\ten C))\ten D}="B";
  (50,0)*{A\ten ((B\ten C)\ten D)}="C";
  (0,-15)*{(A\ten B)\ten (C\ten D)}="D";
  (40,-15)*{A\ten (B\ten (C\ten D))}="E";
  (20,-5)*{\scriptstyle\pi\Downarrow\iso};
  \ar "B";"A";^{\fahat\ten U_D}
  \ar "C";"B";^{\fahat}
  \ar "D";"A";_{\fahat}
  \ar "E";"D";_{\fahat}
  \ar "E";"C";^{U_A\ten \fahat}
  \endxy
  \]
By Lemma's ~\ref{thm:comp-unit},  ~\ref{thm:comp-compose}, and ~\ref{thm:comp-ten}, the outside of this diagram commutes.  
 As a result, we can construct $\pi$ by Lemma \ref{lem:modification}. The other invertible modifications $\mu, \lambda$, and $\rho$ are constructed in the same way.

  Finally, we must show that three equations between pasting
  composites of 2-cells hold, relating composites of
  $\pi,\mu,\lambda,\rho$.  However, in each of these equations, both
  the domain and the codomain of the 2-cells involved are companions
  of the same isomorphism in $\lD_0$.  For the 5-associahedron, this
  isomorphism is the unique constraint
  \[(((A\ten B)\ten C)\ten D)\ten E \too[\iso] A\ten (B\ten (C\ten
  (D\ten E)));
  \]
  for the other two it is simply the associator $(A\ten B)\ten C
  \too[\iso] A\ten (B\ten C)$.  By Lemma \ref{lem:modification},
  every 2-cell in these diagrams is a $\theta$-isomorphism relating
  two companions of the same vertical isomorphism.  Therefore, Lemma ~\ref{lem:equal} implies that the three equations hold.
\end{proof}


  Now suppose that \lD\ is braided; to show that $\cH(\lD)$ is braided
  we seemingly must first have a definition of braided monoidal
  bicategory.  The interested reader may follow the tortuous path of
  the definition of braided monoidal 2-categories and bicategories
  through the literature, starting from~\cite{kv:2cat-zam,kv:bm2cat}
  and continuing, with occasional corrections,
  through~\cite{bn:hda-i,ds:monbi-hopfagbd,crans:centers,mccrudden:bal-coalgb},
  and~\cite{gurski:brmonbicat}.  However, the details of the
  definition are essentially unimportant for us; since our constraints
  and coherence are produced in a universal way, any reasonable data
  can be produced and any reasonable axioms will be satisfied.  For
  concreteness, we use the definition of~\cite{mccrudden:bal-coalgb}.

\begin{lem}\label{thm:br11-brbi}
  If \lD\ is a {\bf fibrant braided monoidal double category}, then $\cH(\lD)$ is a
 braided monoidal bicategory.  
\end{lem}

\begin{proof}
  The first piece of data we require to make $\cH(\lD)$ braided is a
  pseudo natural adjoint equivalence $\mathord{\otimes} \too[\eqv]
  \mathord{\otimes}\circ \tau$, where $\tau$ is the switch
  isomorphism.  This arises by \autoref{thm:h-locfr} from the braiding $\sigma$
  of \lD.  We also require two invertible modifications filling the
  usual hexagons for a braiding:
  \begin{equation}
  \begin{aligned}
\begin{tikzpicture}[xscale=0.9]
\node (t) at (2,3) {$(A \otimes B) \otimes C$};
\node (tl) at (0,2) {$(B \otimes A) \otimes C)$};
\node (bl) at (0,1) {$B \otimes  (A \otimes C)$};
\node (b) at (2,0) {$B \otimes (C \otimes A)$};
\node (tr) at (4,2) {$A \otimes (B \otimes C)$};
\node (br) at (4,1) {$(B \otimes C) \otimes A$};
\draw[->] (t) to node [above,xshift=10pt, yshift=-2] {$\hat{\alpha}$} (tr);
\draw[->] (tr) to node [right] {$\hat{\sigma}$} (br);
\draw[->] (br) to node [below,xshift=10pt, yshift=2pt] {$\hat{\alpha}$} (b);
\draw[->] (t) to node [above,xshift=-10pt, yshift=-2pt] {$\hat{\sigma} \otimes \mbox{id}$} (tl);
\draw[->] (tl) to node [left] {$\hat{\alpha}$} (bl);
\draw[->] (bl) to node [below,xshift=-10pt,yshift=2pt] {$\mathid \otimes \hat{\sigma}$} (b);
\node at (2,1.5) {$\Leftarrow_{\zeta \iso}$};
\end{tikzpicture}
  \end{aligned}
\hspace{5pt}\mbox{and} \hspace{5pt}
\begin{aligned}
\begin{tikzpicture}[xscale=0.9]
\node (t) at (2,3) {$A \otimes (B \otimes C)$};
\node (tl) at (0,2) {$A \otimes (C \otimes B)$};
\node (bl) at (0,1) {$(A \otimes  C) \otimes B$};
\node (b) at (2,0) {$(C \otimes A) \otimes B$};
\node (tr) at (4,2) {$(A \otimes B) \otimes C$};
\node (br) at (4,1) {$C \otimes (A \otimes B)$};
\draw[->] (tr) to node [above,xshift=10pt, yshift=-2] {$\hat{\alpha}$} (t);
\draw[->] (tr) to node [right] {$\hat{\sigma} $} (br);
\draw[->] (b) to node [below,xshift=10pt, yshift=2pt] {$\hat{\alpha}$} (br);
\draw[->] (t) to node [above,xshift=-10pt, yshift=-2pt] {$\mbox{id} \otimes \hat{\sigma}$} (tl);
\draw[->] (tl) to node [left] {$\hat{\alpha}^{-1}$} (bl);
\draw[->] (bl) to node [below,xshift=-10pt,yshift=2pt] {$\hat{\sigma} \otimes \mathid$} (b);
\node at (2,1.5) {$\Leftarrow_{\xi \iso}$};
\end{tikzpicture}
\end{aligned}
\end{equation}

  As before, since the corresponding hexagons commute in $\lD_0$, by Lemma ~\ref{lem:modification} we have $\theta$-isomorphisms that we can take as $\ze$
  and $\xi$.  Finally, we must verify that the four 2-cell diagrams
  in~\cite[p136--139]{mccrudden:bal-coalgb} involving \ze\ and \xi\
  commute.  As with the axioms for a monoidal bicategory, both sides
  of these equalities are made up of $\theta$s relating companions of
  a single morphism in $\lD_0$, and thus by uniqueness they must be
  equal.

%   for a Gray monoid these can be
%   found in~\cite[p216--217]{bn:hda-i}
%   and~\cite[p191--193]{crans:centers}

%   According to~\cite{crans:centers}, there is also a missing unit
%   axiom in the definition of braided Gray monoid
%   in~\cite{bn:hda-i,ds:monbi-hopfagbd}.  In a braided monoidal
%   bicategory, this axiom should become an isomorphism
%   \[\vcenter{\xymatrix{A\ten I \ar[rr] \ar[dr] &
%       \ar@{}[d]|-{\Downarrow\iso}& 
%       I\ten A \ar@{<-}[dl]\\ & A}}\]
%   We produce this, and its coherence, in the same way.
\end{proof}

\begin{lem}\label{thm:sym11-symbi}
  If \lD\ is a {\bf fibrant symmetric monoidal double category}, then $\cH(\lD)$ is a
 symmetric monoidal bicategory.  
\end{lem}

\begin{proof}
Suppose that \lD\ is symmetric.  To make $\cH(\lD)$ symmetric,
  we require first a \emph{syllepsis}, i.e.\ an invertible
  modification
  \[
 \begin{tikzpicture}
 \node (tl) at (-2,1) {$A \otimes B$};
 \node (tr) at (2,1) {$A \otimes B$};
 \node (b) at (0,-.25) {$B \otimes A$};
 \draw[double] (tl)  -- (tr);
 \draw[->] (tl) to node[left, yshift=-5pt]{$\hat{\sigma}$} (b);
 \draw[->] (b) to node[right, yshift=-5pt] {$\hat{\sigma}$}(tr);
 \node at (0,0.5) {\footnotesize $\Downarrow \nu\iso$}; 
 \end{tikzpicture}
 \]
  Since the braiding in $\lD_0$ is self-inverse, the top and bottom of
  this triangle are both companions of $1_{A\ten B}$; thus we have a
  $\theta$-isomorphism between them which we take as $\nu$.  For
  $\cH(\lD)$ to be sylleptic, the syllepsis must satisfy the two
  axioms on~\cite[p144--145]{mccrudden:bal-coalgb}.  As before, these
  diagrams of 2-cells are made up entirely of $\theta$s relating
  companions of a single morphism in $\lD_0$, so they commute by
  uniqueness of $\theta$.

% ; the first two relate
%   companions of associativities and the last two of units.

% .  For a sylleptic Gray monoid, these
%   axioms can be found in~\cite[p128]{ds:monbi-hopfagbd}
%   and~\cite[p207]{crans:centers}; for a sylleptic monoidal bicategory
%   they are in

  Finally, for $\cH(\lD)$ to be symmetric, the syllepsis must satisfy
  one additional axiom, given on~\cite[p91]{mccrudden:bal-coalgb}.
  This follows automatically for the same reasons as before.
%  in~\cite[p131]{ds:monbi-hopfagbd}
%   and~\cite[p208]{crans:centers}.
\end{proof}




\begin{rmk}
  Essentially the same proof as that of \autoref{thm:mon11-monbi}
  shows that any fibrant 2x1-category has an underlying tricategory.
  Note that unlike the construction of bicategories from
  1x1-categories (i.e.\ double categories), this case requires
  fibrancy even in the absence of monoidal structure, since the
  associativity and unit constraints of a 2x1-category are not 1-cells
  but rather morphisms of 0-cells.  There are many naturally occurring
  fibrant symmetric monoidal 2x1-categories, such as $\lD_0=$
  commutative rings, $\lD_1=$ algebras, and $\lD_2=$ modules, or the
  symmetric monoidal 2x1-category of \emph{conformal nets} defined
  in~\cite{bdh:confnets-i}.  All of these have underlying
  tricategories, which will be symmetric monoidal for any reasonable
  definition of symmetric monoidal tricategory.  More generally, as
  stated in \S\ref{sec:introduction}, we expect any fibrant $(n\times
  k)$-category to have an underlying $(n+k)$-category.
\end{rmk}

Now we will show that the functor $\cH$ lifts monoidal double functors to monoidal pseudo functors. We use definition 3.3.1 of ~\cite{nick:tricats} of a trifunctor, between tricategories with one object. From now on we will assume that all double categories are fibrant.

\begin{lem}\label{lem:monfun}
If $F$ is a {\bf strong monoidal double functor}, $\cH(F)$ is a monoidal pseudo functor, if $F$ is {\bf lax monoidal double functor}, $\cH(F)$ is a lax monoidal pseudo functor, and if $F$ is an {\bf oplax monoidal double functor}, $\cH(F)$ is an oplax monoidal pseudo functor. 
\end{lem}

\begin{proof}
Let $\D, \E$ be monoidal double categories, and let $F:\D \rightarrow \E$ be a strong monoidal double functor. 
By Theorem ~\ref{thm:h-locfr}, the vertical transformations $\phi: \otimes \circ (F,F) \rightarrow F \circ \otimes $ and $\phi_u: I_{\E} \rightarrow F(I_{\D})$, are mapped by $\cH$ to the pseudo natural adjoint equivalences $\hat{\phi}$ and $\hat{\phi_u}$.

We need to show that there exist invertible modifications relating  different compositions of $F$, $\hat{\phi}$, $\hat{\phi_u}$, the associator, and the unitors. 
The components of the first one of these modifications are given below.

\begin{equation}
\begin{tikzpicture}[scale=1.5]
\node (t) at (2,3) {$(FA \otimes FB) \otimes FC$};
\node (tl) at (0,2) {$FA \otimes (FB \otimes FC)$};
\node (bl) at (0,1) {$FA \otimes  F(B \otimes C)$};
\node (b) at (2,0) {$F((A \otimes (B \otimes C))$};
\node (tr) at (4,2) {$F(A \otimes B) \otimes FC$};
\node (br) at (4,1) {$F((A \otimes B) \otimes C)$};
\draw[->] (t) to node [above,xshift=20pt] {$\hat{\phi}_{A,B} \otimes U_{FC}$} (tr);
\draw[->] (tr) to node [right] {$\hat{\phi}_{A \otimes B,C} $} (br);
\draw[->] (br) to node [below,xshift=20pt] {$F\hat{\alpha}_{A,B,C}$} (b);
\draw[->] (t) to node [above,xshift=-10pt] {$\hat{\alpha}_{FA, FB, FC}$} (tl);
\draw[->] (tl) to node [right] {$U_{FA} \otimes \hat{\phi}_{B,C} $} (bl);
\draw[->] (bl) to node [below,xshift=-10pt] {$\hat{\phi}_{A, B \otimes C}$} (b);
\node at (2,1.5) {$\Downarrow \omega_{A,B,C}$};
\end{tikzpicture}
\end{equation} 

By Lemmas ~\ref{thm:comp-unit}
and ~\ref{thm:comp-ten}, the morphisms above are companions first coherence diagram for monoidal functors. As a result, the existence of $\omega$ follows from Lemma \ref{lem:modification}. The other modifications, $\delta$ and $\gamma$, are constructed in the same way.

Finally, we need to show that the equalities between compositions of structure modifications hold, as described in definition 3.3.1 of ~\cite{nick:tricats}. The source and target of these composites are $F(((A \otimes B) \otimes C) \otimes D) \rightarrow FA \otimes ( FB \otimes (FC \otimes FD)))$, and $F(A \otimes B) \rightarrow F(A \otimes (I \otimes B))$, respectively.  Each individual composed 2-cell is a $\theta$-isomorphism, either by definition, or by Lemma \ref{thm:theta-nat}. As a result, the equality follows from uniqueness of compositions of $\theta$-isomorphisms.

By the same argument, one can show that oplax/lax monoidal double functors are lifted by $\mathcal{H}$ to lax/oplax monoidal pseudofunctors. In the latter case, the arrows corresponding to all instances of $\phi$ are reversed. 
\end{proof}


\begin{lem}\label{lem:brfun}
Let $(F, \phi) :\D \rightarrow \E$ be a {\bf braided monoidal double functor}, then $\cH(F):\cH(\D) \rightarrow \cH(\E)$ is a braided monoidal pseudofunctor. 
\end{lem}

\begin{proof}
We follow the definition of a braided monoidal pseudo functor given in ~\cite{mccrudden:bal-coalgb}.
We need to show that there exists an invertible modification with the following components:

\begin{tikzpicture}[xscale=4,yscale=2]
\node (tl) at (0,1) {$FA \otimes FB$};
\node (tr) at (1,1) {$FB \otimes FA$};
\node (bl) at (0,0) {$F(A \otimes B)$};
\node (br) at (1,0) {$F(B \otimes A)$};
\node at (0.5,0.5){$\Downarrow \mu_{a,B}$};
\draw[->] (tl) to node [above]{$\hat{\sigma}_{FA,FB}$} (tr);
\draw[->] (bl) to node [above]{$F\hat{\sigma}_{A,B}$} (br);
\draw[->](tl) to node [left]{$\hat{\phi}_{A,B}$} (bl);
\draw[->] (tr) to node [right]{$\hat{\phi}_{B,A}$} (br);
\end{tikzpicture}
 
As before, this modification is induced by the characteristic diagram for braided monoidal functors, by Lemma ~\ref{lem:modification}.
It remains to show that the two diagrams of 2-cells given  in ~\cite{mccrudden:bal-coalgb} commute. The domain and codomain of these compositions are of the form $(FA \otimes FB) \otimes FC  \rightarrow F(B \otimes (C \otimes A))$  and $(FA \otimes FB) \otimes FC) \rightarrow F((C \otimes A) \otimes B)$ in $\E_0$.
Each individual composed 2-cell is a $\theta$-isomorphism, either by definition, or by Lemma ~\ref{thm:theta-nat}. As a result, the equality follows from uniqueness of $\theta$-isomorphisms. 
\end{proof}

\begin{lem}\label{lem:symfun}
Let $F:(\D, \phi) \rightarrow (\E, \phi)$ be a {\bf symmetric monoidal double functor}, then $\cH(F): \cH(\D) \rightarrow \cH(\E)$ is a symmetric monoidal pseudofunctor. 
\end{lem}

Recall that by remark ~\ref{rmk:sym}, any syllepsis obtained by our construction is a $\theta$-isomorphism, which makes it a symmetry. This means that it is sufficient to show that symmetric monoidal double functors are mapped by $\cH$ to sylleptic monoidal pseudo functors. 

Recall that a sylleptic bicategory is a braided bicategory with an additional invertible modification $\nu: \id \rightarrow \hat{\sigma} \odot \hat{\sigma}$. 

Following the definition given in \cite{mccrudden:bal-coalgb}, 
we need to show that the equality between the compositions of 2-cells below holds. 

\begin{equation}
\begin{aligned}
\begin{tikzpicture}[xscale=1.2, yscale=1.8]
\node (t) at (2,3) {$FB \otimes FA$};
\node (tl) at (0,2) {$FA \otimes FB$};
\node (bl) at (0,1) {$F(A\otimes B)$};
\node (tr) at (4,2) {$FA \otimes FB$};
\node (br) at (4,1) {$F(A\otimes B)$};
\draw[->] (t) to node [above] {$\hat{\sigma}$} (tr);
\draw[->] (tr) to node [right] {$\hat{\phi}_{A,B}$} (br);
\draw[->] (tl) to node [above] {$\hat{\sigma}$} (t);
\draw[->] (tl) to node [right] {$\hat{\phi}_{A,B}$} (bl);
\draw[->] (tl) to node [above] {$U_{FA \otimes FB}$} (tr);
\draw[->] (bl) to[in=-135, out=-45] node [below] {$FU_{A\otimes B}$} (br);
\draw[->] (bl) to node [below] {$U_{F(A \otimes B)}$} (br);
\node at (2,2.6) {$\nu \Uparrow$};
\node at (2,1.5) {$U_{\hat{\phi}_{A,B}} \Downarrow$};
\node at (2, 0.4) {$\hat{F}_U \Downarrow$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[xscale=1.2, yscale=1.5]
\node (t) at (2,3) {$FB \otimes FA$};
\node (tl) at (0,2) {$FA \otimes FB$};
\node (bl) at (0,1) {$F(A\otimes B)$};
\node (m) at (2,2) {$F(B\otimes A)$};
\node (tr) at (4,2) {$FA \otimes FB$};
\node (br) at (4,1) {$F(A\otimes B)$};
\draw[->] (t) to node [above] {$\hat{\sigma}$} (tr);
\draw[->] (t) to node [right] {$\hat{\phi}_{B,A}$} (m);
\draw[->] (tr) to node [right] {$\hat{\phi}_{A,B}$} (br);
\draw[->] (tl) to node [above] {$\hat{\sigma}$} (t);
\draw[->] (tl) to node [right] {$\hat{\phi}_{A,B}$} (bl);
\draw[->] (bl) to node [left,yshift=10pt, xshift=14pt] {$F\hat{\sigma}_{A,B}$} (m);
\draw[->] (m) to node [right,xshift=-7,yshift=6] {$F{\hat{\sigma}}_{B,A}$} (br);
\draw[->] (bl) to[in=-135, out=-45] node [below] {$FU_{A\otimes B}$} (br);
\draw[->] (bl) to node [below] {$F({\hat{\sigma}}_{B,A} \odot {\hat{\sigma}}_{A, B})$} (br);
\node at (1.1,2.2) {$\mu \Downarrow$};
\node at (2.9,2.2) {$\mu \Downarrow$};
\node at (2,1.3) {$ \hat{F}_{\odot} \Downarrow$};
\node at (2, 0.3) {$F\nu \Uparrow$};
\end{tikzpicture}
\end{aligned}
\end{equation} 

Each individual 2-cell is a $\theta$-isomorphism. For $U_{\hat{\phi}}$ and $\hat{F}_{\odot}$, 
this follows from Lemma ~\ref{thm:theta-nat}, for $\hat{F}_{U}$ this follows from Lemma ~\ref{lem:FUtheta}, and for $F \nu$ this follows from Lemma ~\ref{thm:theta-func}. The other 2-cells are $\theta$-isomorphisms by definition.
As a result, we can apply Lemma \ref{lem:equal} to obtain the equality.  

\begin{lem}\label{lem:montran}
Let $\beta: (F, \phi) \rightarrow (G,\psi)$ be a {\bf monoidal vertical transformation}. The image of $\beta$ under $\mathcal{H}$, $\hat{\beta}: (F, \phi) \rightarrow (G,\psi)$, is a monoidal pseudonatural adjoint equivalence.
\end{lem}

\begin{proof}
Following Definition 3 of ~\cite{gg:ldstr-tricat} of a pseudo icon, applied to tricategories with one object, we need to show that there exist invertible modifications $\kappa$ and $\lambda$ of the form:

\begin{tikzpicture}[xscale=4, yscale=2]
\node (tl) at (0,1) {$FA \otimes FB$};
\node (bl) at (0,0) {$F(A \otimes B)$};
\node (tr) at (1,1) {$GA \otimes GB$};
\node (br) at (1,0) {$G(A \otimes B)$};
\draw[->] (tl) to node [above] {$\hat{\beta}_A \otimes \hat{\beta}_B$} (tr);
\draw[->] (bl) to node [below] {$\hat{\beta}_{A \otimes B}$} (br);
\draw[->] (tl) to node [left] {$\hat{\phi}_{A,B}$} (bl);
\draw[->] (tr) to node [right] {$\hat{\psi}_{A,B}$} (br);
\node at (0.5,0.5) {$\Downarrow \kappa$};
\end{tikzpicture}
\hspace{1cm}
\begin{tikzpicture}[xscale=4,yscale=2]
\node (t) at (0.5,1) {$I_{\E}$};
\node (bl) at (0,0) {$FI_{\D}$};
\node (br) at (1,0) {$GI_{\D}$};
\draw[->] (t) to node [left] {$\hat{\phi}_U$} (bl);
\draw[->] (t) to node [right] {$\hat{\psi}_U$} (br);
\draw[->] (bl) to node [below] {$\hat{\beta}_{I}$} (br);
\node at (0.5,0.4) {$\Downarrow \iota$};
\end{tikzpicture}

This follows from Lemma \ref{lem:modification}. 
It is left to check that the three coherence axioms in definition 3 of ~\cite{gg:ldstr-tricat} hold. These correspond to equalities of compositions of modifications, whose domain and codomain correspond are the isomorphisms $I_{\D} \otimes FA \rightarrow GA$, $FA \otimes I_{\D} \rightarrow GA$, and $(FA \otimes FB) \otimes FC \rightarrow G(A \otimes (B \otimes C))$.
The first of the three equalities is given by the diagrams below.

\begin{equation}
\begin{aligned}
\begin{tikzpicture}[scale=1.7]
\node (llb) at (0,1) {$I \otimes GA$};
\node (llt) at (0,2) {$I \otimes FA$};
\node (bbl) at (1,0) {$GA$};
\node (bml)at (1,1) {$FA$};
\node (tl) at (0.8,3) {$FI \otimes FA$};
\node (bbr) at (2,0) {$GA$};
\node (bmr) at (2,1) {$FA$};
\node (tr) at (2.2,3) {$F(I \otimes A)$};
\node (brr) at (3,1) {$GA$};
\node (trr) at (3,2) {$FA$};
\draw[->] (llb) to node [below]{$\hat{l}$} (bbl);
\draw[->] (llt) to node [left]{$\id \otimes \hat{\beta}_A$} (llb);
\draw[->] (llt) to node [above,xshift=-12,yshift=-2]{${\hat{F}_U} \otimes \id$} (tl);
\draw[->] (llt) to node [above]{$\hat{l}$} (bml);
\draw[->] (tl) to node [above]{$\hat{\phi}_{I,A}$} (tr);
\draw[double] (bml) to (bmr);
\draw[double] (bbl) to (bbr);
\draw[double] (bbr) to (brr);
\draw[->] (tr) to node [above,xshift=2]{$F\hat{l}$} (trr);
\draw[double] (bmr) to (trr);
\draw[->] (trr) to node [right]{$\hat{\beta}_A$} (brr);
\draw[->] (bml) to node [right]{$\hat{\beta}_A$} (bbl);
\draw[->] (bmr) to node [right]{$\hat{\beta}_A$} (bbr);
\node at (1.5, 2) {$\Downarrow \gamma$};
\node at (0.5, 1) {$\hat{l}_{\hat{\beta}}$};
\node at (1.5, 0.5) {$=$};
\node at (2.5, 1) {$=$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[scale=1.7]
\node (llb) at (0,1) {$I \otimes GA$};
\node (llt) at (0,2) {$I \otimes FA$};
\node (bbl) at (1,0) {$GA$};
\node (bml) at (0.8,2) {$GI \otimes GA$};
\node (tl) at (0.8,3) {$FI \otimes FA$};
\node (bbr) at (2,0) {$GA$};
\node (bmr) at (2.2,2) {$G(I \otimes A)$};
\node (tr) at (2.2,3) {$F(I \otimes A)$};
\node (brr) at (3,1) {$GA$};
\node (trr) at (3,2) {$FA$};
\draw[->] (llb) to node [below]{$\hat{l}$} (bbl);
\draw[->] (llt) to node [left]{$\id \otimes \hat{\beta}_A$} (llb);
\draw[->] (llt) to node [above,xshift=-16pt,yshift=-6pt]{${\hat{F}_U} \otimes \id$} (tl);
\draw[->] (llb) to node [below, xshift=16,yshift=6]{$ \hat{G}_U \otimes \id$} (bml);
\draw[->] (tl) to node [above]{$\hat{\phi}_{I,A}$} (tr);
\draw[->] (bml) to node [below] {$\psi_{I,A}$} (bmr);
\draw[double] (bbl) to (bbr);
\draw[double] (bbr) to (brr);
\draw[->] (tr) to node [above,xshift=4, yshift=-2]{$F\hat{l}$} (trr);
\draw[->] (bmr) to node [below,xshift=-10,yshift=8] {$G \hat{l}$} (brr);
\draw[->] (trr) to node [right]{$\hat{\beta}_A$} (brr);
\draw[->] (tl) to node [right,xshift=-2,yshift=-2]{$\hat{\beta}_I \otimes \hat{\beta}_A$} (bml);
\draw[->] (tr) to node [left,xshift=2,yshift=-2]{$\hat{\beta}_{I \otimes A}$} (bmr);
\node at (1.5, 2.7) {$\Downarrow \kappa$};
\node at (0.3, 1.6) {$\Downarrow$};
\node at (0.3, 1.8) {$\iota \otimes \id$};
\node at (2.7,1.8) {$\Downarrow \hat{\beta}_{\hat{l}}$};
\node at (1.5, 1) {$\Downarrow \gamma$};
\end{tikzpicture}
\end{aligned}
\end{equation}

All individual 2-cells are $\theta$-isomorphisms, by Lemmas ~\ref{thm:comp-ten} and ~\ref{thm:theta-nat}. The equality follows by uniqueness of $\theta$-isomorphisms.
\end{proof}

\begin{lem}\label{lem:brtran}
Let $\beta: (F, \phi) \rightarrow (G,\psi)$ be a {\bf braided monoidal vertical transformation}. The image of $\beta$ under $\mathcal{H}$, $\hat{\beta}: (F, \phi) \rightarrow (G,\psi)$ is a braided monoidal pseudonatural adjoint equivalence.
\end{lem}

\begin{proof}
We need to verify that axiom (BTA1) of ~\cite{mccrudden:bal-coalgb} holds, which is given below.

\begin{equation}
\begin{aligned}
\begin{tikzpicture}[scale=1.3]
\node (tl) at (1,4) {$FB \otimes FA$};
\node (tr) at (3,4) {$F(B \otimes A)$};
\node (ml) at (0,2) {$FA \otimes FB$};
\node (mm) at (2,2) {$F(A \otimes B)$};
\node (mr) at (4,2) {$G(B \otimes A)$};
\node (bl) at (1,0) {$GA \otimes GB$};
\node (br) at (3,0) {$G(A \otimes B)$};
\draw[->] (tl) to node [above] {$\hat{\phi}_{B,A}$} (tr);
\draw[->] (ml) to node [left] {$\hat{\rho}_{FA,FB}$} (tl);
\draw[->] (ml) to node [above] {$\hat{\phi}_{A,B}$} (mm);
\draw[->] (mm) to node [left] {$F\hat{\rho}_{A,B}$} (tr);
\draw[->] (tr) to node [right] {$\hat{\beta}_{B\otimes A}$} (mr);
\draw[->] (mm) to node [left] {$\hat{\beta}_{A\otimes B}$} (br);
\draw[->] (br) to node [right] {$G\hat{\rho}_{A,B}$} (mr);
\draw[->] (bl) to node [below] {$\hat{\phi}_{A,B}$} (br);
\draw[->] (ml) to node [left] {$\hat{\beta}_A \otimes \hat{\beta}_B$} (bl);
\node at (1.2,3) {$\Rightarrow \mu$};
\node at (1.2,1) {$\Rightarrow \kappa$};
\node at (3,2.5) {$\hat{\beta}_{\hat{\beta}_{A,B}}\Uparrow$};
\end{tikzpicture}
\end{aligned}
\hspace{0.25cm}
=
\hspace{0.25cm}
\begin{aligned}
\begin{tikzpicture}[scale=1.3]
\node (tl) at (1,4) {$FB \otimes FA$};
\node (tr) at (3,4) {$F(B \otimes A)$};
\node (ml) at (0,2) {$FA \otimes FB$};
\node (mm) at (2,2) {$GB \otimes GA$};
\node (mr) at (4,2) {$G(B \otimes A)$};
\node (bl) at (1,0) {$GA \otimes GB$};
\node (br) at (3,0) {$G(A \otimes B)$};
\draw[->] (tl) to node [above] {$\hat{\phi}_{B,A}$} (tr);
\draw[->] (ml) to node [left] {$\hat{\rho}_{FA,FB}$} (tl);
\draw[->] (tl) to node [right] {$\hat{\beta}_B \otimes \hat{\beta}_A$} (mm);
\draw[->] (mm) to node [above] {$\hat{\phi}_{A,B}$} (mr);
\draw[->] (tr) to node [right] {$\hat{\beta}_{B\otimes A}$} (mr);
\draw[->] (bl) to node [right] {$\hat{\rho}_{GA,GB}$} (mm);
\draw[->] (br) to node [right] {$G\hat{\rho}_{A,B}$} (mr);
\draw[->] (bl) to node [below] {$\hat{\phi}_{A,B}$} (br);
\draw[->] (ml) to node [left] {$\hat{\beta}_A \otimes \hat{\beta}_B$} (bl);
\node at (1,2.5) {$\hat{\rho}_{\hat{\beta}_A,\hat{\beta}_B} \Uparrow $};
\node at (2.5,3.2) {$\Rightarrow \kappa$};
\node at (2.5,1.2) {$\Rightarrow \mu$};
\end{tikzpicture}
\end{aligned}
\end{equation} 

All individual 2-cells are $\theta$-isomorphisms, either by Lemma \ref{thm:theta-nat} or by definition. The equality follows from Lemma \ref{lem:equal}.
\end{proof}

\begin{cor}\label{cor:symtran}
Let $\beta: (F, \phi) \rightarrow (G,\psi)$ be a {\bf symmetric monoidal vertical transformation}. The image of $\beta$ under $\mathcal{H}$, $\hat{\beta}: (F, \phi) \rightarrow (G,\psi)$, is a symmetric monoidal pseudonatural adjoint equivalence.
\end{cor}

\begin{proof}
Symmetric monoidal adjoint equivalences are simply braided adjoint equivalences between symmetric monoidal pseudofunctors. 
\end{proof}

This brings us to the proof of our theorem.

\begin{proof}[Proof of Theorem \ref{thm:trifunctor2}]
Combining Lemma's \ref{lem:monfun}, \ref{lem:brfun},  \ref{lem:symfun}, \ref{lem:montran}, \ref{lem:brtran} and Corrolary \ref{cor:symtran} gives the required result.
\end{proof}

\section{An example}\label{sec:Alg} 
As a demonstration of our method, we apply Theorem \ref{thm:trifunctor2} to prove that the bicategory of algebras, bimodules and bimodule homomorphisms in a bicategory ${\cat B}$ is monoidal and symmetric or braided, whenever this is true for ${\cat B}$. When ${\cat B}$ has only one object, more symmetry is preserved.
 As a result, the equivariant completion of a bicategory introduced in ~\cite{carquevillerunkel} preserves any symmetric, braided and monoidal structure, and the bicategory $CP({\bf C})$ of mixed quantum states introduced in ~\cite{heunenvicarywester} is symmetric monoidal.

\subsection{Overview}
Frobenius algebras and modules play an important role in quantum theory. Recently the bicategory of Frobenius algebras, bimodules and bimodule homomorphisms has been defined independently in ~\cite{carquevillerunkel} and ~\cite{heunenvicarywester}, in different contexts. In ~\cite{carquevillerunkel} it is introduced as the equivariant completion of a bicategory, which is a tool for generating interesting topological quantum field theories. In ~\cite{heunenvicarywester} it has been introduced as the bicategory $2(CP({\bf C}))$ of mixed quantum states, which serves as the mathematical foundation for a diagrammatic language of quantum protocols. 

An essential question in either perspective is the existence of braided monoidal structures of these categories. We will explore this in generality for bicategory $\mathcal{A}lg({\cat B})$, defined below.

\begin{defn}
Let ${\bf B}$ be a bicategory. We can define a new bicategory $\mathcal{A}lg({\cat B})$ consisting of the elements listed below.

\begin{itemize}
\item 0-cells are pairs $(a,A)$ with $a \in {\cat B}$ and $A \in {\cat B}(a,a)$ an algebra
\item 1-cells $(a,A) \rightarrow (b,B)$ are $X \in {\cat B}(a,b)$ with the structure of an $A-B-$bimodule
\item 2-cells are 2-morphisms in ${\cat B}$ that are bimodule homomorphisms
\end{itemize}
Structural data regarding this construction, such as horizontal composition, is described in ~\cite{carquevillerunkel}. 
\end{defn}

In \ref{sec:Dalg} we define the double category $\mathbb{A}lg({\cat B})$, whose horizontal bicategory corresponds to $\mathcal{A}lg({\cat B})$.  In \ref{sec:brmonDalg} and \ref{sec:fibDalg} we show that $\mathbb{A}lg({\cat B})$ is fibrant and that is is monoidal and braided or symmetric whenever this is true for ${\cat B}$. 
We will often refer to these categories as $\mathbb{A}lg$ and $\mathcal{A}lg$, when the choice of the original bicateory ${\bf B}$ is not important.

\subsection{Notation}
We use the language of string diagrams for braided monoidal categories, first introduced by M. Kelly and M.L. Laplaza in ~\cite{kellylaplaza}, and its extended graphical calculus for monoidal bicategories described in ~\cite{bms}. In this diagrammatic language, we depict 0-cells as coloured surfaces, with the convention to use white for the unit 0-cell. We draw 1-cells (and identity 2-cells) as lines, and 2-cells generally as boxes between the source 1-cell in the bottom and the target 1-cell on top. We write horizontal composition $(\hor)$ and vertical composition $(\ver)$ in the horizontal and vertical direction, respectively. We write the tensor product $(\tens)$ as juxtaposition in the third direction, which is pointing into the paper. In our pictures this will be expressed as overlapping surfaces, as illustrated below. The reader who is not familiar with this graphical calculus may ignore the coloured surfaces and view the lines and boxes as string diagrams. This corresponds to the situation where the monoidal bicategory has only one object, which makes it a braided monoidal category. 

\begin{align}
&\mbox{Horizontal composition} &\mbox{Vertical composition} \hspace{28pt}
 &\mbox{Tensor product} \\
&
\begin{tikzpicture}[scale=1.75]
\draw[fill=red, draw=black, opacity=0.5] (-1,0) -- (-1,-2) -- (-.4,-2) -- (-.4,0) -- (-1,0);  
\draw[fill=blue, draw=black, opacity=0.5] (-.4,0) -- (-.4,-2) -- (.4,-2) -- (.4,0) -- (-.4,0); 
\draw[fill=green, draw=black, opacity=0.5] (.4,0) -- (.4,-2) -- (1,-2) -- (1,0) -- (.4,0);     
      \node[morphism, minimum width=10mm] (l) at (-.4,-1) {$f$};
      \draw (-.4,0) to (l.north);
      \draw (l.south) to (-.4,-2) node[below] {};
            \node[morphism, minimum width=10mm] (r) at (.4,-1) {$h$};
      \draw (.4,0) to (r.north);
      \draw (r.south) to (.4,-2) node[below] {};
    \end{tikzpicture}
 \hspace{10pt}
&       \begin{tikzpicture}[scale=1.75]
\draw[fill=red, draw=black, opacity=0.5] (-1,0) -- (-1,-2) -- (0,-2) -- (0,0) -- (-1,0);  
\draw[fill=blue, draw=black, opacity=0.5] (0,0) -- (0,-2) -- (1,-2) -- (1,0) -- (0,0);      
      \node[morphism, minimum width=10mm] (g) at (0,-.6) {$g$};
       \node[morphism, minimum width=10mm] (f) at (0,-1.4) {$f$};
       \draw (0,0) to (g.north);
      \draw (f.north) to (g.south);
      \draw (f.south) to (0,-2) node[below] {};
    \end{tikzpicture}
    \hspace{10pt}
&        \begin{tikzpicture}[scale=1.5]
\draw[fill=red, draw=black, opacity=0.5] (-1,0) -- (-1,-2) -- (0,-2) -- (0,0) -- (-1,0);  
\draw[fill=blue, draw=black, opacity=0.5] (0,0) -- (0,-2) -- (1,-2) -- (1,0) -- (0,0);      
      \node[morphism, minimum width=10mm] (l) at (0,-.8) {$f$};
      \draw (0,0) to (l.north);
      \draw (l.south) to (0,-2) node[below] {};
      %%%%%%%%%%%%%%%%%%%%%%%
      \draw[fill=purple, draw=black, opacity=0.5] (-.75,-.3) -- (-.75,-2.3) -- (0.25,-2.3) -- (0.25,-.3) -- (-.75,-.3);  
\draw[fill=green, draw=black, opacity=0.5] (0.25,-.3) -- (0.25,-2.3) -- (1.25,-2.3) -- (1.25,-.3) -- (0.25,-.3);      
      \node[morphism, minimum width=10mm] (l) at (0.25,-1.1) {$k$};
      \draw (0.25,-.3) to (l.north);
      \draw (l.south) to (0.25,-2.3) node[below] {};
    \end{tikzpicture}
\end{align}

\subsection{The double category $\Alg$}\label{sec:Dalg}
We will consider the abstract notion of an {\bf algebra} $(A, \tinymult[white dot], \tinyunit[white dot])$ in a bicategory {\cat B}. This is a 0-cell $a$, together with a 1-cell $A \in {\cat B}(a,a)$ and a multiplication 2-cell $\tinymult[white dot]: A \hor \rightarrow A$, as well as a unit 2-cell, $\tinyunit[white dot]: I_a \rightarrow A$, satisfying the associativity and unit law below.

\begin{calign}
\label{eq:frobenius}
  \begin{pic}[yscale=0.85]
  \draw[fill=red, draw=black, opacity=.5] (-.9,-.5) -- (-.9,1) -- (1.4,1) -- (1.4,-.5) -- (-.9,-.5);
    \node[white dot] (l) at (0,0) {};
    \node[white dot] (r) at (.5,.5) {};
    \draw (l.center) to[out=90,in=180] (r.center);
    \draw (r.center) to (.5,1)node[above] {$A$};
    \draw (r.center) to[out=0,in=90] (1,-.5)node[below] {$A$};
    \draw (l.center) to[out=180,in=90] (-.5,-.5)node[below] {$A$};
    \draw (l.center) to[out=0,in=90] (.5,-.5)node [below] {$A$};
  \end{pic}
  \hspace{1pt}=\hspace{1pt}
  \begin{pic}[yscale=0.85]
\draw[fill=red, draw=black, opacity=.5] (-1.4,-.5) -- (-1.4,1) -- (.9,1) -- (.9,-.5) -- (-1.4,-.5);
    \node[white dot] (r) at (0,0) {};
    \node[white dot] (l) at (-.5,.5) {};
    \draw (r.center) to[in=0,out=90] (l);
    \draw (l.center) to (-.5,1)node[above] {$A$};
    \draw (l.center) to[in=90,out=180] (-1,-.5)node[below] {$A$};
    \draw (r.center) to[in=90,out=0] (.5,-.5)node[below] {$A$};
    \draw (r.center) to[in=90,out=180] (-.5,-.5)node[below] {$A$};
  \end{pic}
  \hspace{30pt}
  \begin{pic}[yscale=0.85]
  \draw[fill=red, draw=black, opacity=.5] (-.9,-.5) -- (-.9,1) -- (.9,1) -- (.9,-.5) -- (-.9,-.5);
    \node[white dot] (m) at (0,.5) {};
    \node[white dot] (u) at (-.5,0) {};
    \draw (m.center) to (0,1)node[above] {$A$};
    \draw (u.center) to[out=90,in=180] (m.center);
    \draw (m.center) to[out=0,in=90] (.5,-.5)node[below] {$A$};
  \end{pic}
  \hspace{1pt}=\hspace{1pt}
  \begin{pic}[yscale=0.85]
  \draw[fill=red, draw=black, opacity=.5] (-.9,-.5) -- (-.9,1) -- (.9,1) -- (.9,-.5) -- (-.9,-.5);
    \draw (0,-.5) node[below] {$A$} to (0,1) node[above]{$A$};
  \end{pic}
  \hspace{1pt}=\hspace{1pt}
  \begin{pic}[yscale=0.85]
    \draw[fill=red, draw=black, opacity=.5] (-.9,-.5) -- (-.9,1) -- (.9,1) -- (.9,-.5) -- (-.9,-.5);
    \node[white dot] (m) at (0,.5) {};
    \node[white dot] (u) at (.5,0) {};
    \draw (m.center) to (0,1)node[above] {$A$};
    \draw (u.center) to[out=90,in=0] (m.center);
    \draw (m.center) to[out=180,in=90] (-.5,-.5)node[below] {$A$};
  \end{pic}
\end{calign}

An {\bf algebra homomorphism} $f: (A, \tinymult[white dot], \tinyunit[white dot]) \rightarrow (B, \tinymult[gray dot], \tinyunit[gray dot])$ between two algebras from the same hom-category ${\cat B}(a,a)$ is a 2-cell $f:A \rightarrow B$ in ${\cat B}(a,a)$ that respects the multiplication, $f \ver \tinymult[white dot] = \tinymult[gray dot] \ver (f \tens f)$, and the unit, $\tinyunit[gray dot] = f \ver \tinyunit[white dot]$. If ${\bf B}$ is braided monoidal, then the category of algebras and algebra homomorphisms is also braided monoidal. The tensor product for algebras in inherited from the original 2-category. This is depicted below. The unit object is the trivial algebra on the unit for the original monoidal structure with multiplication given by $\lambda_I = \rho_I$. The original structure isomorphisms are all algebra homomorphisms. In principle this can be shown directly, but in the diagrammatic calculus this holds trivially.  
\tikzset{region/.style={draw=black, fill opacity=0.75}}
\tikzset{regionA/.style={region, fill=red!50}}
\tikzset{regionB/.style={region, fill=blue!50}}
\begin{calign}
  \begin{pic}[xscale=3, yscale=2.25]
    \draw[regionA] (-1,-.4) -- (.4,-.4) -- (.4,1) -- (-1,1) -- (-1,-.4);
    \draw (-.5,0.5) to (-.5,1)node[above] {};
    \draw (.2,-.4) node[below]{} to[out=90,in=-90] (-.3,0);
    \draw (-.3,0) node[below]{} to[out=90,in=0] (-.5,0.5);
    \draw (-.5,0.5) to[out=180,in=90] (-.75,.1)node[below] {};
    \draw (-.75,.1) to[out=-90,in=90] (-.8,-.4)node[below] {};
    \node [white dot, node on layer=main] (m) at (-.5,.5) {};
    %%%%
    \draw[regionB] (-.9,-.5) -- (-.9,.9) -- (.5,.9) -- (.5,-.5) -- (-.9,-.5);
    \node[white dot] (m) at (0,.5) {};
    \draw (m.center) to (0,.9);
    \draw (.3,-.5) node[below]{} to[out=90,in=-90, looseness=1] (.25,.2);
    \draw (.25,.1) node[below]{} to[out=90,in=0, looseness=1] (m.center);
    \draw (m.center) to[out=180,in=0, looseness=1] (-.4,-.2)node[below] {};
    \draw (-.4,-.2) to[out=180,in=90, looseness=1] (-.7,-.5)node[below] {};
  \end{pic}
\end{calign}



An A,B-{\bf bimodule} in {\bf B} is an object $M$ in the hom category ${\bf B}(a,b)$ together with a morphism ${\bf M}: A \hor M \hor  B \rightarrow M$ in ${\bf B}(a,b)$, satisfying the composition and unit law below.

\begin{equation}\label{eq:bimodule}
    \begin{pic}[yscale=0.85]
      \node[morphism, minimum width=10mm] (u) at (0,0) {$\mathbf{M}$};
      \node[morphism, minimum width=10mm] (l) at (0,-1.1) {$\mathbf{M}$};
      \draw (u.north) to (0,.6) node[right] {$M$};
      \draw (u.south) to (l.north);
      \draw (l.south) to (0,-2) node[right] {$M$};
      \draw (l.-45) to[out=-90,in=90] (.6,-2) node[right] {$B$};
      \draw (l.-135) to[out=-90,in=90] (-.6,-2) node[right] {$A$};
      \draw (u.-45) to[out=-90,in=90] (1.1,-1) to (1.1,-2) node[right] {$B$};
      \draw (u.-135) to[out=-90,in=90] (-1.1,-1) to (-1.1,-2) node[right] {$A$};
    \end{pic}
    =
    \begin{pic}[yscale=0.85]
      \node[morphism, minimum width=10mm] (m) at (0,0) {$\mathbf{M}$};
      \node[white dot] (l) at (-.85,-1) {};
      \node[black dot] (r) at (.85,-1) {};
      \draw (m.north) to (0,.6) node[right] {$M$};
      \draw (m.south) to (0,-2) node[right, xshift=-.2] {$M$};
      \draw (m.-45) to[out=-90,in=90] (r);
      \draw (m.-135) to[out=-90,in=90] (l);
      \draw (l) to[out=-150,in=90] (-1.1,-2) node[left] {$A$};
      \draw (l) to[out=-30,in=90] (-.6,-2) node[left] {$A$};
      \draw (r) to[out=-150,in=90] (.6,-2) node[right] {$B$};
      \draw (r) to[out=-30,in=90] (1.1,-2) node[right] {$B$};
    \end{pic}
    \qquad
    \begin{pic}[yscale=0.85]
      \draw (0,.6) node[right] {$M$} to (0,-2) node[right] {$M$};
    \end{pic}
    \!\!\!=\,\,\,
    \begin{pic}[yscale=0.85]
      \node[morphism, minimum width=10mm] (m) at (0,0) {$\mathbf{M}$};
      \draw (m.north) to (0,.6) node[right] {$M$};
      \draw (m.south) to (0,-2) node[right] {$M$};
      \draw (m.-135) to[out=-90,in=90] +(0,-0.75) node[white dot] {};
      \draw (m.-45) to[out=-90,in=90] +(0,-0.75) node[black dot] {};
    \end{pic}
  \end{equation}
For readability, we sometimes write A-B-bimodules ${\bf M}$ as $_A{\bf M}_B$ and we abbreviate the following compositions: ${}_{\tinydot[white dot]}{\bf M} := {\bf M} \ver (\tinyunit[white dot] \tens \mathid)$, ${\bf M}_{\tinydot[gray dot]}:= {\bf M} \ver (\mathid \tens \tinyunit[gray dot])$, and $_{\tinydot[white dot]}{\bf M}_{\tinydot[gray dot]}:= {\bf M} \ver (\tinyunit[white dot] \tens \tinyunit[gray dot])$. An {\bf extended bimodule homomorphism} ${\bf f}: {\bf M} \rightarrow {\bf N}$ is a triple of 2-cells $(A \xrightarrow{f_l} C, M \xrightarrow{f} N, B \xrightarrow{f_r} D)$ such that $f \ver {\bf M} = {\bf N} \ver (f_l \tens f \tens f_r)$. When $f_l$ and $f_r$ are both identities, this corresponds to the standard definition of a {\bf bimodule homomorphism}.
Bimodules and extended bimodule homomorphisms in a bicategory {\bf B} form a braided monoidal category, where the tensor product on objects is inherited from {\cat B}, see the picture below. On morphisms, it is defined as $(f_l, f, f_r):= \tens (g_l, g, g_r) = (f_l \tens g_l, f \tens g, f_r \tens g_r)$. The unit object corresponds to the bimodule given below on the unit object of {\cat B}. 

\begin{equation}
{\bf I}:= \quad
\smash{{\hspace{-5pt}\ensuremath{\begin{pic}[scale=1.5,string,yscale=-1.5]
\draw (-1,0) -- (1,0) -- (1,1) -- (-1,1) -- (-1,0);
      \node (0) at (0,0) {};
      \node[gray dot, inner sep=1.5pt] (1) at (0,0.55) {};
      \node (2) at (-0.5,1) {};
      \node (3) at (0.5,1) {};
      \draw (0.center)node[above]{$I$} to (1.center);
      \draw (1.center) to [out=left, in=down, out looseness=1.5] (2.center)node[below]{$I$};
      \draw (1.center) to [out=right, in=down, out looseness=1.5] (3.center)node[below]{$I$};
      \draw (1.center) to (0,1)node[below]{$I$};
      \end{pic}}\hspace{-3pt}}}
\hspace{30pt}
\tikzset{region/.style={draw=black, fill opacity=0.75}}
\tikzset{regionA/.style={region, fill=red!50}}
\tikzset{regionB/.style={region, fill=blue!50}}
\tikzset{regionC/.style={region, fill=purple!50}}
\tikzset{regionD/.style={region, fill=green!50}}
_A{\bf M}_B \tens {}_C{\bf N}_D :=
   \ensuremath{\begin{pic}[scale=1.5]
\draw[regionA] (-1,0) -- (-1,-2) -- (0,-2) -- (0,0) -- (-1,0);  
\draw[regionB] (0,0) -- (0,-2) -- (2,-2) -- (2,0) -- (0,0);      
      \node[morphism, minimum width=10mm] (l) at (0,-.8) {$\mathbf{M}$};
      \draw (0,0) to (l.north);
      \draw (l.south) to (0,-2) node[below] {};
      \draw (l.-45) to[out=-90,in=90] (1.5,-2) node[below] {};
      \draw (l.-135) to[out=-90,in=90] (-.6,-2) node[below] {};
      %%%%%%%%%%%%%%%%%%%%%%%
      \draw[regionC] (-.9,-.1) -- (-.9,-2.1) -- (1.1,-2.1) -- (1.1,-.1) -- (-.9,-.1);  
\draw[regionD] (1.1,-.1) -- (1.1,-2.1) -- (2.1,-2.1) -- (2.1,-.1) -- (1.1,-.1);      
      \node[morphism, minimum width=10mm] (l) at (1.1,-.8) {$\mathbf{N}$};
      \draw (1.1,-.1) to (l.north);
      \draw (l.south) to (1.1,-2.1) node[below] {};
      \draw (l.-45) to[out=-90,in=90] (1.7,-2.1) node[below] {};
      \draw (l.-135) to[out=-90,in=90] (-.4,-2.1) node[below] {};
    \end{pic}}
\end{equation}
By the notation for the unit object, we mean that we apply the multiplication map, $\tinymult[gray dot]$, on the unit $\id_I$ for horizontal composition twice. We draw it symmetrically because of the associativity condition. 
The associator, unitor, and swap natural isomorphisms are given by the maps with the following components, where $\alpha, \lambda$, and $\rho$ are the structure isomorphisms of the original category. 

\begin{align}
 {\bf \alpha}_{_A{\bf M}_B,_C{\bf N}_D,_E{\bf P}_F} &:= (\alpha_{A,C,E}, \alpha_{M,N,P}, \alpha_{B,D,F}) 
\\{\bf \lambda}_{_A{\bf M}_B}&:= (\lambda_A, \lambda_M, \lambda_B)
\\{\bf \rho}_{_A{\bf M}_B} &:= (\rho_A, \rho_M, \rho_B)
\\{\bf \sigma}_{\bf {}_AM_B,{}_CN_D}&: = (\sigma_{A,C}, \sigma_{M,N}, \sigma_{B,D})
\end{align}

For clarity we write algebras and algebra homomorphisms in normal font and we write bimodules and (extended) bimodule homomorphisms in bold. This will help distinguishing between the two categories, which together form a double category.

\begin{lem}\label{lem:algdouble}
Let ${\cat B}$ be a bicategory where all colimits exist, and where horizontal composition $\hor$ preserves all colimits. The category $\D_0$ of algebras and algebra homomorphisms of ${\bf B}$ and the category $\D_1$ of bimodules and bimodule homomorphisms of ${\bf B}$ form a double category, which we call $\Alg$
\end{lem}

\begin{proof}
The {\bf unit functor} $\lD_0 \xrightarrow{U} \lD_1$ is defined on objects as $U(A,\tinymult[gray dot],\tinyunit[gray dot]) := 
      \smash{{\hspace{-5pt}\ensuremath{\begin{pic}[scale=0.4,string,yscale=-1]
      \node (0) at (0,0) {};
      \node[gray dot, inner sep=1.5pt] (1) at (0,0.55) {};
      \node (2) at (-0.5,1) {};
      \node (3) at (0.5,1) {};
      \draw (0.center) to (1.center);
      \draw (1.center) to [out=left, in=down, out looseness=1.5] (2.center);
      \draw (1.center) to [out=right, in=down, out looseness=1.5] (3.center);
      \draw (1.center) to (0,1);
      \end{pic}}\hspace{-3pt}}}$; 
      and on morphisms as $U(f) := (f,f,f)$. The {\bf source and target functors} $S,T: \lD_1 \rightarrow \lD_0$ are defined on objects as $S({}_A {\bf M}_B) = A$, and  $T({}_A {\bf M}_B) = B$, and on morphisms as  $S(f_l,f,f_r)=f_l$, and $T(f_l, f, f_r) = f_r$.
The functor $\ominus: {\lD_1} \times_{\lD_0} {\lD_1} \rightarrow {\lD_1}$, maps objects $(_A{\bf M}_B$, $_B{\bf N}_C)$ to $_A{\bf M} \tinydot[gray dot] {\bf N}_C$, and morphisms $((f_l, f, h), (h, g, g_r))$ to $(f_l, f \tinydot[gray dot] g, g_r)$, where ${M} \tinydot[gray dot] {N}$ and $f \tinydot[gray dot] g$ are defined by the following coequalisers:

\begin{equation}\label{eq:coequaliser}
  \begin{pic}[xscale=4,yscale=1.66, thin]
    \node (tl) at (-.3,1) {$M \hor B \hor N$};
    \node (bl) at (-.3,0) {$M' \hor B' \hor N'$};
    \node (t) at (1,1) {$M \hor N$};
    \node (b) at (1,0) {$M' \hor N'$};
    \node (tr) at (1.7,1) {$M \tinydot[gray dot] N$};
    \node (br) at (1.7,0) {$M' \tinydot[gray dot] N'$};
    \draw[->] (tl) to node[left] {$(f \hor h \hor g)$} (bl);
    \draw[->] (t) to node[right] {$f \hor g$} (b);
    \draw[->, dashed] (tr) to node[right] {$f \tinydot[gray dot] g$} (br);
    \draw[->] (t) to node[above] {$c$} (tr);
    \draw[->] (b) to node[below] {$c'$} (br);
    \draw[->] ([yshift=1.5pt]tl.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{M} \hor \mathid_{N}$} ([yshift=1.5pt]t.west);
    \draw[->] ([yshift=-1.5pt]tl.east) to node[below] {$\mathid_{M} \hor \mathbf{N}_{\tinydot[black dot]}$} ([yshift=-1.5pt]t.west);
    \draw[->] ([yshift=1.5pt]bl.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{M'} \hor \mathid_{N'}$} ([yshift=1.5pt]b.west);
    \draw[->] ([yshift=-1.5pt]bl.east) to node[below] {$\mathid_{M'} \hor \mathbf{N'}_{\tinydot[black dot]}$} ([yshift=-1.5pt]b.west);
  \end{pic}
 \end{equation}

By commutativity of the left square, $c \ver (f \hor g)$ is another coequaliser of the upper two parallel maps, hence $f \tinydot[gray dot] g$ exists and is unique. 
  The module ${\bf M} \tinydot[gray dot] {\bf N}$ is given by the map that makes the diagram below commute. It exists and is unique by uniqueness of coequalisers, taking commutativity of the left square into account, and the fact that horizontal composition preserves coequalisers. 

\begin{equation}\label{eq:coequaliser2}
  \begin{pic}[xscale=4,yscale=1.66, thin]
    \node (tl) at (-.3,1) {$A \hor M \hor B \hor N \hor C$};
    \node (bl) at (-.3,0) {$M \hor B \hor N$};
    \node (t) at (1,1) {$A \hor M \hor N \hor C$};
    \node (b) at (1,0) {$M \hor N$};
    \node (tr) at (1.7,1) {$A \hor M \tinydot[gray dot] N \hor C$};
    \node (br) at (1.7,0) {$M \tinydot[gray dot] N$};
    \draw[->] (tl) to node[left] {${\bf M}_{\tinydot[gray dot]} \hor \mathid_B \hor {}_{\tinydot[gray dot]}{\bf N}$} (bl);
    \draw[->] (t) to node[right] {${\bf M}_{\tinydot[gray dot]} \hor  {}_{\tinydot[gray dot]}{\bf N}$} (b);
    \draw[->, dashed] (tr) to node[right] {${\bf M} \tinydot[gray dot] {\bf N}$} (br);
    \draw[->] (t) to node[above] {$\mathid_A \hor c \hor \mathid_C$} (tr);
    \draw[->] (b) to node[below] {$c$} (br);
    \draw[->] ([yshift=1.5pt]tl.east) to node[above] {$\mathid_A \hor {}_{\tinydot[white dot]}\mathbf{M} \hor \mathid_N \hor \mathid_C$} ([yshift=1.5pt]t.west);
    \draw[->] ([yshift=-1.5pt]tl.east) to node[below] {$\mathid_A \hor \mathid_M \hor \mathbf{N}_{\tinydot[black dot]} \hor \mathid_C$} ([yshift=-1.5pt]t.west);
    \draw[->] ([yshift=1.5pt]bl.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{M'} \hor \mathid_{N'}$} ([yshift=1.5pt]b.west);
    \draw[->] ([yshift=-1.5pt]bl.east) to node[below] {$\mathid_{M'} \hor \mathbf{N'}_{\tinydot[black dot]}$} ([yshift=-1.5pt]b.west);
  \end{pic}  
 \end{equation}

Note that ${\bf N}_{\tinydot[gray dot]} \hor {}_{\tinydot[gray dot]}{\bf N}$ is a module. It is easy to check that ${\bf M}_{\tinydot[gray dot]}{\bf N}$ satisfies the module axioms as well, using commutativity of the diagram above and the fact that $c$ is epic. Pasting the two diagrams together into a cube proves that $(f \hor g)$ is a bimodule homomorphism.
 
It is left to verify functoriality of $\ominus$. When we unfold the definitions we see that we only need to check that $(f\tinydot[gray dot]f') \ver ( g \tinydot[gray dot] g') = (f \ver f')\tinydot[gray dot] (g \ver g')$, and $\mathid_{\bf M} \tinydot[gray dot] \mathid_{\bf M'} = \mathid_{\bf M \tinydot[gray dot] M'}$. The two sides of the first equality are the unique maps making the two diagram below commute. If we forget the middle part of the left diagram, the diagrams are equal by the exchange law for $\hor$ and $\ver$. As a consequence, the dashed arrows must me equal too. A similar argument shows that $\mathid_{\bf M} \tinydot[gray dot] \mathid_{\bf M'} = \mathid_{\bf M \tinydot[gray dot] M'}$.
 
 \begin{equation}
  \begin{pic}[xscale=2.3, yscale=1.5, thin]
    \node (tl) at (-.3,1) {$M \hor B \hor N$};
    \node (bl) at (-.3,0) {$L \hor C \hor K$};
    \node (ld) at (-.3,-1) {$P \hor D \hor Q$};
    \node (t) at (1,1) {$M \hor N$};
    \node (b) at (1,0) {$L \hor K$};
    \node (md) at (1,-1) {$P \hor Q$};
    \node (tr) at (1.7,1) {${M}_{\tinydot[gray dot]} {N}$};
    \node (br) at (1.7,0) {${K}_{\tinydot[gray dot]} {L}$};
    \node (rd) at (1.7,-1) {${M}_{\tinydot[gray dot]} {N}$};
    \draw (tl) to  (-.3,.65);
    \node at (-.3, 0.5) {$f \hor i \hor g$};
    \draw[->] (-.3,.35) to  (bl);
    \draw[->] (t) to node[right] {$f \hor g$} (b);
    \draw[->, dashed] (tr) to node[right] {$f_{\tinydot[gray dot]}g$} (br);
    \draw[->, dashed] (br) to node[right] {$h_{\tinydot[gray dot]}k$} (rd);
    \draw[->] (t) to node[above] {$c_B$} (tr);
    \draw[->] (b) to node[below] {$c_C$} (br);
    \draw[->] ([yshift=1.5pt]tl.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{M} \hor \mathid_{N}$} ([yshift=1.5pt]t.west);
    \draw[->] ([yshift=-1.5pt]tl.east) to node[below] {$\mathid_{M} \hor \mathbf{N}_{\tinydot[black dot]}$} ([yshift=-1.5pt]t.west);
    \draw[->] ([yshift=1.5pt]bl.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{K} \hor \mathid_{L}$} ([yshift=1.5pt]b.west);
    \draw[->] ([yshift=-1.5pt]bl.east) to node[below] {$\mathid_{K} \hor \mathbf{L}_{\tinydot[black dot]}$} ([yshift=-1.5pt]b.west);
    \draw (bl) to  (-.3,-.35);
    \node at (-.3,-.5) {$h \hor j \hor k$};
    \draw[->] (-.3,-.65) to  (ld);
    \draw[->] (b) to node[right] {$h \hor k$} (md);
   % \draw[->, dashed] (tr) to node[right] {$\rho_M \tinydot[gray dot] \rho_N$} (rd);
    \draw[->] (md) to node[above] {$c_D$} (rd);
    \draw[->] ([yshift=1.5pt]ld.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{P} \hor \mathid_{Q}$} ([yshift=1.5pt]md.west);
    \draw[->] ([yshift=-1.5pt]ld.east) to node[below] {$\mathid_{P}  \hor \mathbf{Q}_{\tinydot[black dot]}$} ([yshift=-1.5pt]md.west);
%    \draw[->, dashed] (br) to [in=90, out=90] {$\hat{\xi}^{-1}$} (rd);
  \end{pic}  
   \begin{pic}[xscale=2.3, yscale=1.5, thin]
    \node (tl) at (-.3,1) {$M \hor B \hor N$};
    \node (ld) at (-.3,-1) {$P \hor D \hor Q$};
    \node (t) at (1,1) {$M \hor N$};
    \node (md) at (1,-1) {$P \hor Q$};
    \node (tr) at (1.7,1) {${M}_{\tinydot[gray dot]} {N}$};
    \node (rd) at (1.7,-1) {${M}_{\tinydot[gray dot]} {N}$};
    \draw (tl) to  (-.3,0.25);
    \draw[->] (-.3,-0.25) to  (ld);
    \node at (-.3,0.125) {$(k \ver f) \hor (j \ver i)$};
    \node at (-.3,-.125) {$\hor (k \ver g)$};
    \draw (t) to  (1,0.3);
    \draw[->] (1,0.1) to  (md);
    \node at (1,0.2) {$(h \ver f) \hor (k \ver g)$};
    \draw[dashed] (tr) to (1.7,-0.1);
    \node at (1.7,-.2) {$(h \ver f)_{\tinydot[gray dot]}(k \ver g)$};
    \draw[->, dashed] (1.7,-0.3) to (rd); 
    \draw[->] (t) to node[above] {$c_B$} (tr);
    \draw[->] ([yshift=1.5pt]tl.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{M} \hor \mathid_{N}$} ([yshift=1.5pt]t.west);
    \draw[->] ([yshift=-1.5pt]tl.east) to node[below] {$\mathid_{M} \hor \mathbf{N}_{\tinydot[black dot]}$} ([yshift=-1.5pt]t.west);
    \draw[->] (md) to node[above] {$c_D$} (rd);
    \draw[->] ([yshift=1.5pt]ld.east) to node[above] {${}_{\tinydot[white dot]}\mathbf{P} \hor \mathid_{Q}$} ([yshift=1.5pt]md.west);
    \draw[->] ([yshift=-1.5pt]ld.east) to node[below] {$\mathid_{P}  \hor \mathbf{Q}_{\tinydot[black dot]}$} ([yshift=-1.5pt]md.west);
  \end{pic}
 \end{equation}

The {\bf associator} ${\bf a}: ({\bf M_1} \ominus {\bf M_2}) \ominus {\bf M_3} \rightarrow {\bf M_1} \ominus ({\bf M_2} \ominus {\bf M_3})$ is an the extended algebra homomorphism of the form $(\mathid, a, \mathid)$. Let $\pi_1$ and $\pi_2$ be two different coequalisers of the maps depicted below. Then $a_{M_1,M_2,M_3}$ is defined as the unique isomorphism between their images.
Similarly we derive the component $a_{N_1,N_2,N_3}$. Naturality of $a$ follows from the rightmost square of the diagram, which commutes because all other sub diagrams commute. 

\begin{tikzpicture}[xscale=5,yscale=2.5]
 \node (tl) at (0,1) {$M_1 \hor B \hor M_2 \hor C \hor M_3$};
 \node (bl) at (0,0) {$N_1 \hor D \hor N_2 \hor E \hor N_3$};
  \node (tm) at (1,1) {$M_1 \hor M_2 \hor M_3$};
 \node (bm) at (1,0) {$N_1 \hor N_2 \hor N_3$};
\draw[->] ([yshift=1.5pt] tl.east) to node[above] {$_{\tinydot [gray dot]}{\bf M_1} \hor {}_{\tinydot[gray dot]}{\bf M_2} \hor \mathid_{M_3}$} ([yshift=1.5pt] tm.west);
\draw[->] ([yshift=-1.5pt] tl.east) to node[below] {$\mathid_{M_1} \hor {\bf M_2}_{\tinydot[gray dot]} \hor  {\bf M_3}_{\tinydot[gray dot]}$} ([yshift=-1.5pt] tm.west);
\draw[->] ([yshift=1.5pt] bl.east) to node[above] {$_{\tinydot [gray dot]}{\bf N_1} \hor {}_{\tinydot[gray dot]}{\bf N_2} \hor \mathid_{N_3}$} ([yshift=1.5pt] bm.west);
\draw[->] ([yshift=-1.5pt] bl.east) to node[below] {$\mathid_{N_1} \hor {\bf N_2}_{\tinydot[gray dot]} \hor  {\bf N_3}_{\tinydot[gray dot]}$} ([yshift=-1.5pt] bm.west);
 \node (r1) at (2,1.25) {$({M_1}_{\tinydot[gray dot]} {M_2})_{\tinydot[gray dot]} {M_3}$};
 \node (r2) at (1.6,0.75) {${M_1}_{\tinydot[gray dot]} ({M_2}_{\tinydot[gray dot]} M_3)$};
  \node (r3) at (2,0.25) {$({N_1}_{\tinydot[gray dot]} {N_2})_{\tinydot[gray dot]} N_3$};
 \node (r4) at (1.6,-0.25) {${N_1}_{\tinydot[gray dot]} ({N_2}_{\tinydot[gray dot]} N_3)$};
 \draw[->] (tm) to node[above] {$\pi_1$} (r1.west);
 \draw[->] (tm) to node[below] {$\pi_2$} (r2);
  \draw[->] (bm) to node[above] {$\phi_1$} (r3.west);
 \draw[->] (bm) to node[below] {$\phi_2$} (r4);
  \draw[->, dashed] (r1) to node[left] {$a_{M_1,M_2,M_3}$} (r2);
 \draw[->, dashed] (r3) to node[right] {$a_{N_1,N_2,N_3}$} (r4);
  \draw[->, dashed] (r1) to node[right] {$(f_1 \tinydot[gray dot] f_2) \tinydot[gray dot] f_3$} (r3);
 \draw[->, dashed, cross] (r2) to node[left, yshift=14pt] {$f_1 \tinydot[gray dot] (f_2 \tinydot[gray dot] f_3)$} (r4);
 \draw (tl) to (0,0.6) node[below]{$f_1 \hor f_B \hor f_2 \hor f_C \hor f_3$};
  \draw[->] (0,0.4) to (bl);
 \draw[->] (tm) to node[left] {$f_1 \hor f_2 \hor f_3$} (bm); 
\end{tikzpicture}

The coequalisers $\pi_1$ and $\pi_2$ correspond to the compositions of coequalisers below. 

\begin{equation}
\pi_1 :=
\begin{aligned}
\begin{tikzpicture}[scale=0.75]
\node at (0.75,1.25) {$({M_1}_{\tinydot[gray dot]} {M_2})_{\tinydot[gray dot]} {M_3}$};
\draw (0,0) -- (0,0.5) -- (1.5, 0.5) -- (1.5,0) -- (0,0);
\node at (0.75,0.25) [] {$\tilde{c}_B$};
\draw (0.75,0.5) to  (0.75,1);
\draw (0.3,0) -- (0.3,-1.5)node[left]{$M_1$};
\draw  (1.1,0) to node[right]{${M_2}_{\tinydot[gray dot]}M_3$} (1.1,-0.5);
\draw (0.6,-1) -- (0.6,-0.5) -- (1.65, -0.5) -- (1.65,-1) -- (0.6,-1);
\node at (1,-0.75) [] {$c_C$};
\draw (0.8,-1) to (0.8,-1.5)node[right,xshift=-3pt]{$M_2$}; 
\draw (1.45,-1) -- (1.45,-1.5)node[right]{$M_3$};
\end{tikzpicture}
\end{aligned}
\hspace{.5cm}
\pi_2:=
\begin{aligned}
\begin{tikzpicture}[xscale=-0.75, yscale=0.75]
\node at (0.75,1.25) {${M_1}_{\tinydot[gray dot]} ({M_2}_{\tinydot[gray dot]} {M_3})$};
\draw (0,0) -- (0,0.5) -- (1.5, 0.5) -- (1.5,0) -- (0,0);
\node at (0.75,0.25) [] {$\tilde{c}_C$};
\draw (0.75,0.5) -- (0.75,1);
\draw (0.3,0) -- (0.3,-1.5)node [right]{$M_3$};
\draw  (1.1,0) to node[left]{${M_1}_{\tinydot[gray dot]}M_2$} (1.1,-0.5);
\draw (0.6,-1) -- (0.6,-0.5) -- (1.65, -0.5) -- (1.65,-1) -- (0.6,-1);
\node at (1,-0.75) [] {$c_B$};
\draw (0.8,-1) to (0.8,-1.5)node [left,xshift=3pt]{$M_2$}; 
\draw (1.45,-1) to (1.45,-1.5)node[left]{$M_1$};
\end{tikzpicture}
\end{aligned}
\end{equation}

The equations below express the fact that $\pi_1$ is a cocone of $_{\tinydot [gray dot]}{\bf M_1} \hor {}_{\tinydot[gray dot]}{\bf M_2} \hor \mathid_{M_3}$ and $\mathid_{M_1} \hor {\bf M_2}_{\tinydot[gray dot]} \hor  {\bf M_3}_{\tinydot[gray dot]}$.

\begin{equation}
\begin{aligned}
\begin{tikzpicture}[xscale=0.8,yscale=0.7]
\node at (0.75,1.25) {$({M_1}_{\tinydot[gray dot]} {M_2})_{\tinydot[gray dot]} {M_3}$};
\draw (0,0) -- (0,0.5) -- (1.5, 0.5) -- (1.5,0) -- (0,0);
\node at (0.75,0.25) [] {$\tilde{c}_B$};
\draw (0.75,0.5) -- (0.75,1);
\draw (0.3,0) to[in=90,out=-90] (-0.1,-1.5);
\draw  (1.1,0) -- (1.1,-0.5);
\draw (0.6,-1) -- (0.6,-0.5) -- (1.65, -0.5) -- (1.65,-1) -- (0.6,-1);
\node at (1.1,-0.75) [] {$c_C$};
\draw (0.8,-1) to (0.8,-1.5); 
\draw (1.45,-1) to[in=90,out=-90] (1.85,-3);
\draw (-0.5,-2) -- (0.3, -2) -- (0.3, -1.5) -- (-0.5,-1.5) -- (-0.5,-2);
\node at (-0.1, -1.75) {$\bf M_1$};
\draw (0.4,-2) -- (1.2,-2) -- (1.2,-1.5) -- (0.4,-1.5) -- (0.4,-2);
\draw (-0.4,-2) to (-0.4,-2.25) node[gray dot]{};
\draw (-0.1,-2) -- (-0.1,-3);
\draw (0.2,-2) -- (0.2,-3);
\draw (0.5,-2) to (0.5,-2.25) node[gray dot]{};
\draw (0.8,-2) to (0.8,-3);
\draw (1.1,-2) to[in=90,out=-90] (1.3,-3);
\node at (0.8,-1.75) {$\bf M_2$};
\node at (-0.1,-3.25) [] {$M_1$};
\node at (0.3,-3.25) [] {$B$};
\node at (0.8,-3.25) [] {$M_2$};
\node at (1.3,-3.25) [] {$C$};
\node at (1.85,-3.25) [] {$M_3$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[xscale=1.2,yscale=0.7]
\node at (0.75,1.25) {$({M_1}_{\tinydot[gray dot]} {M_2})_{\tinydot[gray dot]} {M_3}$};
\draw (0,0) -- (0,0.5) -- (1.5, 0.5) -- (1.5,0) -- (0,0);
\node at (0.75,0.25) [] {$\tilde{c}_B$};
\draw (0.75,0.5) -- (0.75,1);
\draw (0.3,0) to[in=90, out=-90] (0.1,-3.5);
\draw  (1.1,0) -- (1.1,-0.5);
\draw (0.5,-1) -- (0.5,-0.5) -- (1.7, -0.5) -- (1.7,-1) -- (0.5,-1);
\node at (1.1,-0.75) [] {$\bf {M_2}_{\tinydot[gray dot]}M_3$};
\draw (0.6,-1) to[in=90,out=-90] (0.5,-3.5); 
\draw (1.1,-1) -- (1.1,-1.5);
\draw (1.6,-1) to (1.6,-1.25) node[gray dot] {};
\draw (0.7,-2) -- (1.7,-2) -- (1.7,-1.5) -- (0.7,-1.5) -- (0.7,-2);
\node at (1.1,-1.75) {$c_C$};
\draw (0.9,-2) -- (0.9,-3.5);
\draw (1.5,-2) -- (1.5,-2.5);
\draw (1.1,-3) -- (1.9,-3) -- (1.9,-2.5) -- (1.1,-2.5) -- (1.1,-3);
\node at (1.5,-2.75) {$\bf M_3$};
\draw (1.2,-3) -- (1.2,-3.5);
\draw (1.5,-3) -- (1.5,-3.5);
\draw (1.8,-3) to (1.8,-3.25) node[gray dot]{};
\node at (0.1,-3.75) [] {$M_1$};
\node at (0.5,-3.75) [] {$B$};
\node at (0.9,-3.75) [] {$M_2$};
\node at (1.2,-3.75) [] {$C$};
\node at (1.5,-3.75) [] {$M_3$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[xscale=1.2,yscale=0.7]
\node at (0.75,1.25) {$({M_1}_{\tinydot[gray dot]} {M_2})_{\tinydot[gray dot]} {M_3}$};
\draw (0,0) -- (0,0.5) -- (1.5, 0.5) -- (1.5,0) -- (0,0);
\node at (0.75,0.25) [] {$\tilde{c}_B$};
\draw (0.75,0.5) -- (0.75,1);
\draw (0.2,0) to[in=90, out=-90] (-0.2,-3.5);
\draw  (1.1,0) -- (1.1,-0.5);
\draw (0.5,-1) -- (0.5,-0.5) -- (1.7, -0.5) -- (1.7,-1) -- (0.5,-1);
\node at (1.1,-0.75) [] {$c_C$};
\draw (0.6,-1) -- (0.6,-1.5); 
\draw (1.6,-1) -- (1.6,-1.5);
\draw (0.2,-2) -- (1,-2) -- (1,-1.5) -- (0.2,-1.5) -- (0.2,-2);
\node at (0.6,-1.75) {$\bf M_2$};
\draw (0.3,-2) to [in=90,out=-90] (0.2,-3.5);
\draw (0.6,-2) -- (0.6,-3.5);
\draw (0.9,-2) to (0.9,-2.25) node[gray dot] {};
\draw (1.2,-2) -- (2,-2) -- (2,-1.5) -- (1.2,-1.5) -- (1.2,-2);
\node at (1.6,-1.75) {$\bf M_3$};
\draw (1.3,-2) to (1.3,-2.25) node[gray dot] {};
\draw (1.6,-2) -- (1.6,-2.5);
\draw (1.9,-2) to (1.9,-2.25) node[gray dot] {};
\draw (1.1,-3) -- (1.9,-3) -- (1.9,-2.5) -- (1.1,-2.5) -- (1.1,-3);
\node at (1.5,-2.75) {$\bf M_3$};
\draw (1.2,-3) to[in=90,out=-90] (1.1,-3.5);
\draw (1.5,-3) -- (1.5,-3.5);
\draw (1.8,-3) to (1.8,-3.25) node[gray dot]{};
\node at (-0.2,-3.75) [] {$M_1$};
\node at (0.2,-3.75) [] {$B$};
\node at (0.6,-3.75) [] {$M_2$};
\node at (1.1,-3.75) [] {$C$};
\node at (1.5,-3.75) [] {$M_3$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[xscale=1.2,yscale=0.7]
\node at (0.75,1.25) {$({M_1}_{\tinydot[gray dot]} {M_2})_{\tinydot[gray dot]} {M_3}$};
\draw (0,0) -- (0,0.5) -- (1.5, 0.5) -- (1.5,0) -- (0,0);
\node at (0.75,0.25) [] {$\tilde{c}_B$};
\draw (0.75,0.5) -- (0.75,1);
\draw (0.2,0) to[in=90, out=-90] (-0.2,-3);
\draw  (1.1,0) -- (1.1,-0.5);
\draw (0.5,-1) -- (0.5,-0.5) -- (1.7, -0.5) -- (1.7,-1) -- (0.5,-1);
\node at (1.1,-0.75) [] {$c_C$};
\draw (0.6,-1) -- (0.6,-1.5); 
\draw (1.6,-1) -- (1.6,-1.5);
\draw (0.2,-2) -- (1,-2) -- (1,-1.5) -- (0.2,-1.5) -- (0.2,-2);
\node at (0.6,-1.75) {$\bf M_2$};
\draw (0.3,-2) to [in=90,out=-90] (0.2,-3);
\draw (0.6,-2) -- (0.6,-3);
\draw (0.9,-2) to (0.9,-2.25) node[gray dot] {};
\draw (1.2,-2) -- (2,-2) -- (2,-1.5) -- (1.2,-1.5) -- (1.2,-2);
\node at (1.6,-1.75) {$\bf M_3$};
\draw (1.3,-2) to [in=90, out=-90] (1.2,-3) {};
\draw (1.6,-2) -- (1.6,-3);
\draw (1.9,-2) to (1.9,-2.25) node[gray dot] {};
\node at (-0.2,-3.25) [] {$M_1$};
\node at (0.2,-3.25) [] {$B$};
\node at (0.6,-3.25) [] {$M_2$};
\node at (1.2,-3.25) [] {$C$};
\node at (1.6,-3.25) [] {$M_3$};
\end{tikzpicture}
\end{aligned}
\end{equation}

The first equality holds because $\tilde{c}_B$ and $c_C$ are cocones; the second equality holds by definition of ${\bf {M_2}_{\tinydot [gray dot]}M_3}$; and the third holds by the unit law for modules.
The last step for showing that $\pi_1$ is a coequaliser, is to prove that if we have another cocone $f$, then $f$ factorises through $\pi_1$. Plugging in the unit for $B$ gives us that $f \ver (_{\tinydot [gray dot]}{\bf M_1}_{\tinydot[gray dot]} \hor {}_{\tinydot[gray dot]}{\bf M_2} \hor \mathid_{M_3}) = f \ver ( \mathid_{M_1} \hor {}_{\tinydot[gray dot]}{\bf M_2}_{\tinydot[gray dot]} \hor  {\bf M_3}_{\tinydot[gray dot]})$, so by the unit law for modules, $f$ is a cocone of $\mathid_{M_1} \hor {}_{\tinydot[gray dot]}{\bf M_2} \hor \mathid_{M_3}$ and $\mathid_{M_1} \hor \mathid_{M_2}\hor {\bf M_3}_{\tinydot[gray dot]}$. Similarly, $f$ is a cocone of $_{\tinydot[gray dot]}{\bf M_1} \hor \mathid_{M_2} \hor \mathid_{M_3}$ and $\mathid_{M_1} \hor {\bf M_2}_{\tinydot[gray dot]} \hor \mathid_{M_3}$.   

%The two equalities below hold by assumption that $f$ is a cocone of $_{\tinydot [gray dot]}{\bf M_1} \otimes {}_{\tinydot[gray dot]}{\bf M_2} \otimes \mathid_{M_3}$ and $\mathid_{M_1} \otimes {\bf M_2}_{\tinydot[gray dot]} \otimes  {\bf M_3}_{\tinydot[gray dot]}$:

%\begin{equation}
%\begin{aligned}
%\begin{tikzpicture}[scale=0.8]
%\draw (2,2.5) -- (2,3);
%\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- %(0.8,2);
%\node at (2,2.25) {$f$};
%\draw (1,2) -- (1,1.5);
%\draw (2,2) -- (2,1.5);
%\draw (3,2) -- (3,0.5);
%\draw (0.6,1) -- (1.4,1) -- (1.4,1.5) -- (0.6,1.5) -- (0.6,1);
%\node at (1,1.25) {$\bf M_1$};
%\draw (1.6,1) -- (2.4,1) -- (2.4,1.5) -- (1.6,1.5) -- (1.6,1);
%\node at (2,1.25) {$\bf M_2$};
%\draw (0.7,1) to (0.7,0.75) node[gray dot] {};
%\draw (1,1) -- (1,0.5);
%\draw (1.3,1) to (1.3,0.75) node[gray dot] {};
%\node at (1,0.25) {$M_1$};
%\draw (1.7,1) to (1.7,0.75) node[gray dot] {};
%\draw (2,1) -- (2,0.5);
%\draw (2.3,1) to [in=90,out=-90] (2.4,0.5);
%\node at (2,0.25) {$M_2$};
%\node at (2.4,.25) {$C$};
%\node at (3,0.25) {$M_3$};
%\end{tikzpicture}
%\end{aligned}
%=
%\begin{aligned}
%\begin{tikzpicture}[scale=0.8]
%\draw (2,2.5) -- (2,3);
%\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- %(0.8,2);
%\node at (2,2.25) {$f$};
%\draw (1,2) -- (1,0.5);
%\draw (2,2) -- (2,1.5);
%\draw (3,2) -- (3,1.5);
%\draw (1.6,1) -- (2.4,1) -- (2.4,1.5) -- (1.6,1.5) -- %(1.6,1);
%\node at (2,1.25) {$\bf M_2$};
%\draw (2.6,1) -- (3.4,1) -- (3.4,1.5) -- (2.6,1.5) -- %(2.6,1);
%\node at (3,1.25) {$\bf M_3$};
%\draw (1.7,1) to (1.7,0.75) node[gray dot] {};
%\draw (2,1) -- (2,0.5);
%\draw (2.3,1) to (2.3,0.75) node[gray dot] {};
%\node at (1,0.25) {$M_1$};
%\draw (2.7,1) to [in=90,out=-90] (2.6,0.5);
%\draw (3,1) -- (3,0.5);
%\draw (3.3,1) to (3.3,0.75) node[gray dot] {};
%\node at (2,0.25) {$M_2$};
%\node at (2.6,.25) {$C$};
%\node at (3,0.25) {$M_3$};
%\end{tikzpicture}
%\end{aligned}
%\quad \quad \quad
%\begin{aligned}
%\begin{tikzpicture}[scale=0.8]
%\draw (2,2.5) -- (2,3);
%\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- %(0.8,2);
%\node at (2,2.25) {$f$};
%\draw (1,2) -- (1,1.5);
%\draw (2,2) -- (2,1.5);
%\draw (3,2) -- (3,0.5);
%\draw (0.6,1) -- (1.4,1) -- (1.4,1.5) -- (0.6,1.5) -- %(0.6,1);
%\node at (1,1.25) {$\bf M_1$};
%\draw (1.6,1) -- (2.4,1) -- (2.4,1.5) -- (1.6,1.5) -- %(1.6,1);
%\node at (2,1.25) {$\bf M_2$};
%\draw (0.7,1) to (0.7,0.75) node[gray dot] {};
%\draw (1,1) -- (1,0.5);
%\draw (1.3,1) to[in=90,out=-90] (1.4,0.5) ;
%\node at (1,0.25) {$M_1$};
%\draw (1.7,1) to (1.7,0.75) node[gray dot] {};
%\draw (2,1) -- (2,0.5);
%\draw (2.3,1) to (2.3,0.75) node[gray dot] {};
%\node at (2,0.25) {$M_2$};
%\node at (1.4,.25) {$B$};
%\node at (3,0.25) {$M_3$};
%\end{tikzpicture}
%\end{aligned}
%=
%\begin{aligned}
%\begin{tikzpicture}[scale=0.8]
%\draw (2,2.5) -- (2,3);
%\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- %(0.8,2);
%\node at (2,2.25) {$f$};
%\draw (1,2) -- (1,0.5);
%\draw (2,2) -- (2,1.5);
%\draw (3,2) -- (3,1.5);
%\draw (1.6,1) -- (2.4,1) -- (2.4,1.5) -- (1.6,1.5) -- %(1.6,1);
%\node at (2,1.25) {$\bf M_2$};
%\draw (2.6,1) -- (3.4,1) -- (3.4,1.5) -- (2.6,1.5) -- %(2.6,1);
%\node at (3,1.25) {$\bf M_3$};
%\draw (1.7,1) to [in=90, out=-90] (1.6,0.5);
%\draw (2,1) -- (2,0.5);
%\draw (2.3,1) to (2.3,0.75) node[gray dot] {};
%\node at (1,0.25) {$M_1$};
%\draw (2.7,1) to (2.7,0.75)node[gray dot]{};
%\draw (3,1) -- (3,0.5);
%\draw (3.3,1) to (3.3,0.75) node[gray dot] {};
%\node at (2,0.25) {$M_2$};
%\node at (1.6,.25) {$B$};
%\node at (3,0.25) {$M_3$};
%\end{tikzpicture}
%\end{aligned}
%\end{equation}

%By the identity rule for modules, we deduce that $f$ is a cocone of $\mathid_{M_1} \otimes {}_{\tinydot[gray dot]}{\bf M_2} \otimes \mathid_{M_3}$ and $\mathid_{M_1} \otimes \mathid_{M_2}  \otimes {\bf M_3}_{\tinydot[gray dot]}$ and of $_{\tinydot [gray dot]}{\bf M_1} \otimes \mathid_{M_2} \otimes \mathid_{M_3}$ and $\mathid_{M_1} \otimes { \bf M_2}_{\tinydot [gray dot]} \otimes \mathid_{M_3}$

The first statement implies that $f$ factorises through $c_C$; Therefore, there exists a morphism $f'$, such that $f = f' \ver c_C$. From the second statement we deduce that $f'$ factorises through $\tilde{c}_B$, which finishes our proof. This follows from the equations below, and the fact that $\mathid \hor c_C$ is epic, since horizontal composition preserves coequalisers. 
\begin{equation}
\begin{aligned}
\begin{tikzpicture}[yscale=0.78, xscale=0.7]
\draw (2,2.5) -- (2,3);
\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- (0.8,2);
\node at (2,2.25) {$f'$};
\draw (1,2) -- (1,1.5);
\draw (2.5,2) -- (2.5,0.5);
\draw (0.6,1) -- (1.4,1) -- (1.4,1.5) -- (0.6,1.5) -- (0.6,1);
\node at (1,1.25) {$\bf M_1$};
\draw (1.8,0) -- (3.2,0) -- (3.2,0.5) -- (1.8,0.5) -- (1.8,0);
\node at (2.5,0.25) {$c_C$};
\draw (0.7,1) to (0.7,0.75) node[gray dot] {};
\draw (1,1) to (1,-0.5);
\draw (1.3,1) to [in=90,out=-90] (1.5,-0.5);
\node at (1,-0.75) {$M_1$};
\node at (1.5,-0.75) {$B$};
\draw (2,0) -- (2,-0.5);
\draw (3,0) -- (3,-0.5);
\node at (2,-0.75) {$M_2$};
\node at (3,-0.75) {$M_3$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[yscale=0.78, xscale=0.7]
\draw (2,2.5) -- (2,3);
\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- (0.8,2);
\node at (2,2.25) {$f$};
\draw (1,2) -- (1,1.5);
\draw (2,2) -- (2,-0.5);
\draw (3,2) -- (3,-0.5);
\draw (0.6,1) -- (1.4,1) -- (1.4,1.5) -- (0.6,1.5) -- (0.6,1);
\node at (1,1.25) {$\bf M_1$};
\draw (0.7,1) to (0.7,0.75) node[gray dot] {};
\draw (1,1) to (1,-0.5);
\draw (1.3,1) to [in=90,out=-90](1.5,-0.5);
\node at (1,-0.75) {$M_1$};
\node at (1.5,-0.75) {$B$};
\node at (2,-0.75) {$M_2$};
\node at (3,-0.75) {$M_3$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[yscale=0.78, xscale=0.7]
\draw (2,2.5) -- (2,3);
\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- (0.8,2);
\node at (2,2.25) {$f$};
\draw (1,2) -- (1,-0.5);
\draw (2,2) -- (2,1.5);
\draw (3,2) -- (3,1.5);
\draw (1.6,1) -- (2.4,1) -- (2.4,1.5) -- (1.6,1.5) -- (1.6,1);
\node at (2,1.25) {$\bf M_2$};
\draw (2.6,1) -- (3.4,1) -- (3.4,1.5) -- (2.6,1.5) -- (2.6,1);
\node at (3,1.25) {$\bf M_3$};
\draw (1.7,1) to [in=90,out=-90](1.5,-0.5);
\draw (2,1) -- (2,-0.5);
\draw (2.3,1) to (2.3,0.75) node[gray dot] {};
\node at (1,-0.75) {$M_1$};
\draw (2.7,1) to (2.7,0.75)node[gray dot]{};
\draw (3,1) -- (3,-0.5);
\draw (3.3,1) to (3.3,0.75) node[gray dot] {};
\node at (1.5,-0.75) {$B$};
\node at (2,-0.75) {$M_2$};
\node at (3,-0.75) {$M_3$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[yscale=0.78, xscale=0.7]
\draw (2,2.5) -- (2,3);
\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- (0.8,2);
\node at (2,2.25) {$f'$};
\draw (1,2) -- (1,-0.5);
\draw (2.5,2) -- (2.5,1.5);
\draw (1.8,1.5) -- (3.2,1.5) -- (3.2,1) -- (1.8,1) -- (1.8,1.5);
\node at (2.5,1.25){$c_C$};
\draw (2,1) -- (2,0.5);
\draw (3,1) -- (3,0.5);
\draw (1.6,0) -- (2.4,0) -- (2.4,0.5) -- (1.6,0.5) -- (1.6,0);
\node at (2,0.25) {$\bf M_2$};
\draw (2.6,0) -- (3.4,0) -- (3.4,0.5) -- (2.6,0.5) -- (2.6,0);
\node at (3,0.25) {$\bf M_3$};
\draw (1.7,0) to [in=90,out=-90] (1.5,-0.5);
\draw (2,0) -- (2,-0.5);
\draw (2.3,0) to (2.3,-0.25) node[gray dot] {};
\node at (1,-0.75) {$M_1$};
\draw (2.7,0) to (2.7,-0.25)node[gray dot]{};
\draw (3,1) -- (3,-0.5);
\draw (3.3,0) to (3.3,-0.25) node[gray dot] {};
\draw (2,0) -- (2,-0.5);
\draw (3,0) -- (3,-0.5);
\node at (1.5,-0.75) {$B$};
\node at (2,-0.75) {$M_2$};
\node at (3,-0.75) {$M_3$};
\end{tikzpicture}
\end{aligned}
=
\begin{aligned}
\begin{tikzpicture}[yscale=0.78, xscale=0.7]
\draw (2,2.5) -- (2,3);
\draw (0.8,2) -- (3.2,2) -- (3.2,2.5) -- (0.8,2.5) -- (0.8,2);
\node at (2,2.25) {$f'$};
\draw (1,2) -- (1,-0.5);
\draw (2.5,2) -- (2.5,1.5);
\draw (1.5,1.5) -- (3.5,1.5) -- (3.5,1) -- (1.5,1) -- (1.5,1.5);
\node at (2.5,1.25) {${\bf M_2}_{\tinydot[gray dot]}{\bf M_3}$};
\draw (2.5,1) -- (2.5,0.5);
\draw (1.6,1) to [in=90,out=-90] (1.5,-0.5);
\draw (3.4,1) to (3.4,0.5); 
\node at (3.4,0.5) {$\tinydot[gray dot]$};
\draw (2,0) to (2,-0.5);
\draw (3,0) to (3,-0.5);
\draw (1.8, 0.5) -- (3.2,0.5) -- (3.2,0) -- (1.8,0) -- (1.8,0.5);
\node at (2.5,0.25) {$c_C$};
\node at (1.5,-0.75) {$B$};
\node at (1,-0.75) {$M_1$};
\node at (2,-0.75) {$M_2$};
\node at (3,-0.75) {$M_3$};
\end{tikzpicture}
\end{aligned}
\end{equation}
The first equality is obtained by interchanging $c_C$ and ${\bf M_1} \hor \mathid$, the second holds because $f$ is a cocone of $_{\tinydot [gray dot]}{\bf M_1} \hor \mathid_{M_2} \hor \mathid_{M_3}$ and $\mathid_{M_1} \hor { \bf M_2}_{\tinydot [gray dot]} \hor \mathid_{M_3}$, the third since $f= f' \ver (\mathid \hor c_C)$, and the fourth by definition of ${\bf M_2}_{\tinydot[gray dot]}{\bf M_3}$. This means that there exists a morphism $f''$ such that $f= f' \ver (\mathid \hor c_C) = f'' \ver \tilde{c}_B \ver (\mathid \hor c_C)$, hence $f$ factorizes through $\pi_1$. A similar argument shows that $\pi_2$ is a coequaliser as well. 

The components of the {\bf left unitor} $l_{\bf M}: U_A \ominus {\bf M} \rightarrow {\bf M}$ are given by $(\mathid, l_{M}, \mathid)$, where $ l_{M}$ is defined as follows: By the module laws, ${\bf M}_{\tinydot[gray dot]}: A \hor M \rightarrow M$ is a coequaliser of the maps $_{\tinydot[gray dot]}{\bf A} \hor \mathid_{M}$ and $\mathid_{A} \hor {\bf M}_{\tinydot[gray dot]}$. The canonical isomorphisms between ${\bf M}$ and ${\bf A}_{\tinydot[gray dot]}{\bf M}$ is the middle component of $l_{\bf M}$, and naturality of $l$ follows from commutativity of the diagram below. We can define $r$, and prove its naturality, in a similar way.
    
\begin{tikzpicture}[xscale=4,yscale=2]
 \node (tl) at (0,1) {$A \hor A \hor M$};
 \node (bl) at (0,0) {$B \hor B \hor N$};
  \node (tm) at (1,1) {$A \hor M$};
 \node (bm) at (1,0) {$B \hor N$};
\draw[->] ([yshift=1.5pt] tl.east) to node[above] {${}_{\tinydot[gray dot]}U_{A} \hor \mathid_M$} ([yshift=1.5pt] tm.west);
\draw[->] ([yshift=-1.5pt] tl.east) to node[below] {$\mathid_{A} \hor {\bf M}_{\tinydot[gray dot]}$} ([yshift=-1.5pt] tm.west);
\draw[->] ([yshift=1.5pt] bl.east) to node[above] {$_{\tinydot[gray dot]}U_A \hor \mathid_N$} ([yshift=1.5pt] bm.west);
\draw[->] ([yshift=-1.5pt] bl.east) to node[below] {$\mathid_{B} \hor {N}_{\tinydot[gray dot]}$} ([yshift=-1.5pt] bm.west);
 \node (r1) at (2,1.25) {$A_{\tinydot[gray dot]} M$};
 \node (r2) at (1.6,0.75) {$M$};
  \node (r3) at (2,0.25) {$B_{\tinydot[gray dot]} N$};
 \node (r4) at (1.6,-0.25) {$N$};
 \draw[->] (tm) to node[above] {$c_M$} (r1.west);
 \draw[->] (tm) to node[below] {${\bf M}_{\tinydot[gray dot]}$} (r2);
  \draw[->] (bm) to node[above] {$c_N$} (r3.west);
 \draw[->] (bm) to node[below] {${\bf N}_{\tinydot[gray dot]}$} (r4);
  \draw[->, dashed] (r1) to node[left] {$l_M$} (r2);
 \draw[->, dashed] (r3) to node[right] {$l_N$} (r4);
  \draw[->, dashed] (r1) to node[right] {$f \tinydot[gray dot] g$} (r3);
 \draw[->, dashed, cross] (r2) to node[left, yshift=10pt] {$g$} (r4);
 \draw[->] (tl) to node[left] {$f \hor f \hor g$} (bl);
 \draw[->] (tm) to node[left] {$f \hor g$} (bm);
\end{tikzpicture}
\end{proof}


\subsection{The braided monoidal structure of $\Alg$}\label{sec:brmonDalg}

In this section we will prove that $\Alg$ is a symmetric monoidal double category

\begin{prop}\label{lem:algsymmon}
Let {\bf B} be a (braided/symmetric) monoidal category, the double category $\Alg({\cat B})$ of algebras, bimodules and bimodule homomorphisms in {\bf B} is (braided/symmetric) monoidal
\end{prop}

\begin{proof}

We have seen that $\D_0$ and $\D_1$ are (braided/symmetric) monoidal. Clearly, $S$ and $T$ are strict monoidal functors preserving the associativity and unit constraints, and $U_I$ is the monoidal unit of $D_1$, when $I$ is the monoidal unit of $D_0$.

Unfolding definitions shows that the globular isomorphism $\fu$ from $U \circ \tens$ to $\tens \circ (U \times U)$ is the identity. We define the exchange law, ${\bf \fx}$, between the functors $\ominus$ and $\tens$ as $(\mathid, \xi, \mathid)$, where $\xi$ is the unique morphism completing the commuting diagram below.
In this diagram, $c$, $c_M$, and $c_N$ are the coequalisers defining  $({M_1} \hor {N_1})_{\tinydot[gray dot]}({M_2} \hor {N_2})$, ${M_1}_{\tinydot[gray dot]} M_2$, and ${N_1}_{\tinydot[gray dot]} N_2$, respectively. By a similar argument given while defining the associator ${\bf a}$ for the double category, one can show that $c_M \hor c_N$ is the coequaliser of the lower two parallel maps in the diagram. The two leftmost vertical morphisms are natural isomorphisms witnessing the exchange law between the tensor product and horizontal composition. The middle morphism plays a role in the rest of this proof, for convenience we will give it the name $\hat{\sigma}$.

\begin{equation}\label{def:xi}
  \begin{tikzpicture}[xscale=5, yscale=2, thin]
    \node (tl) at (-.3,1) {$(M_1 \tens M_2) \hor (B_1 \tens B_2) \hor (N_1 \tens N_2)$};
    \node (bl) at (-.3,0) {$(M_1 \hor B_1 \hor N_1) \tens (M_2 \hor B_2 \hor N_2)$};
    \node (t) at (1,1) {$(M_1 \tens M_2) \hor (N_1 \tens N_2)$};
    \node (b) at (1,0) {$(M_1 \hor N_1) \tens (M_2 \hor N_2)$};
    \node (tr) at (1.7,1) {$({M_1} \tens {N_1}) \tinydot[gray dot] ({M_2} \tens {N_2})$};
    \node (br) at (1.7,0) {$({M_1} \tinydot[gray dot] {M_2}) \tens ({N_1} \tinydot[gray dot] {N_2})$};
    \draw[->] (tl) to node[left] {$\iso$} (bl);
    \draw[->] (t) to node[right] {$\iso \hat{\sigma} $} (b);
    \draw[->, dashed] (tr) to node[right] {$\iso {\xi} $} (br);
    \draw[->] (t) to node[above] {c} (tr);
    \draw[->] (b) to node[below] {$c_M \tens c_N$} (br);
    \draw[->] ([yshift=1.5pt]tl.east) to node[above] {${}_{\tinydot[white dot]}(\mathbf{M_1} \tens \mathbf{M_2}) \hor \mathid_{N_1 \tens N_2}$} ([yshift=1.5pt]t.west);
    \draw[->] ([yshift=-1.5pt]tl.east) to node[below] {$\mathid_{M_1 \tens M_2} \hor (\mathbf{N_1} \tens \mathbf{N_2})_{\tinydot[black dot]}$} ([yshift=-1.5pt]t.west);
    \draw[->] ([yshift=1.5pt]bl.east) to node[above] {$
    ({}_{\tinydot[white dot]}\mathbf{M_1} \hor \mathid_{N_1}) \tens ({}_{\tinydot[white dot]}\mathbf{M_2} \hor \mathid_{N_2})$} ([yshift=1.5pt]b.west);
    \draw[->] ([yshift=-1.5pt]bl.east) to node[below] {$(\mathid_{M_1} \hor \mathbf{N_1}_{\tinydot[black dot]}) \tens (\mathid_{M_2} \hor \mathbf{N_2}_{\tinydot[black dot]})$} ([yshift=-1.5pt]b.west);
  \end{tikzpicture}
 \end{equation}


What is left to prove is that the diagrams given in points (iv),(v),(vi), and (ix) of Definition ~\ref{def:symmondoub} commute. Because $\fu$ and $\fx$ are globular, it suffices to verify commutativity of the diagrams only for the middle components of the extended module homomorphisms.

The first equation of (iv) corresponds to the front square of the diagram below. The unlabelled arrows represent the coequalisers defining their target object.
The bottom square and the upper right square commute by the definition of $\xi$. The square at the back commutes  by coherence of the bicategory ${\cat B}$ and the pseudofunctor $\tens$. The upper left and lower right square commute by definition of ${\bf a}$. The lower left and the top square commute by definition of $\tinydot[gray dot]$ and $\xi$.
It follows that the front square must commute as well.
\begin{equation}
\begin{tikzpicture}[xscale=3.2, yscale=2]
%lowersquare
\node (b1) at (0,0) [] {$(M_1 \tens N_1) \hor ((M_2 \hor M_3) \tens (N_2 \hor N_3))$};
\node (b2) at (2,0) [] {$(M_1 \hor (M_2 \hor M_3) \tens (N_1 \hor (N_2 \hor N_3))$};
\node (b3) at (1,-0.5) [] {$(M_1 \tens {N_1})_{\tinydot[gray dot]} (({M_2}_{\tinydot[gray dot]} M_3) \tens ({N_2}_{\tinydot[gray dot]} N_3))$};
\node (b4) at (3,-0.5) [] {$({M_1}_{\tinydot[gray dot]} ({M_2}_{\tinydot[gray dot]} M_3 )) \tens ({N_1}_{\tinydot[gray dot]} ({N_2}_{\tinydot[gray dot]} N_3))$}; 
\draw[->] (b1) to node[above, xshift=7pt] {$\hat{\sigma}$} (b2);
\draw[->] (b3) to node[above] {$\xi$} (b4);
\draw[->] (b1) to node[above] {} (b3); 
\draw[->] (b2) to node[above] {} (b4);
%middlesquare
\node (m1) at (0,1.5) [] {$(M_1 \tens N_1) \hor ((M_2 \tens N_2)) \hor (M_3 \tens N_3))$};
\node (m2) at (2,1.5) [] {$((M_1 \hor M_2) \hor M_3) \tens ((N_1 \hor N_2) \hor N_3)$};
\node (m3) at (1,1) [] {$(M_1 \tens {N_1})_{\tinydot[gray dot]} ((M_2 \tens {N_2})_{\tinydot[gray dot]} (M_3 \tens N_3))$};
\node (m4) at (3,1) [] {$({M_1}_{\tinydot[gray dot]} {M_2})_{\tinydot[gray dot]} {M_3}) \tens (({N_1}_{\tinydot[gray dot]}N_2)_{\tinydot[gray dot]} N_3)$};
\draw[->] (m1) to node[above] {} (m3); 
\draw[->] (m2) to node[above] {} (m4);
%lowervertical
\draw[->] (m1) to node[left] {$\mathid \hor \hat{\sigma}$} (b1); 
\draw[->] (m2) to node[left] {$\alpha \tens \alpha$} (b2);
\draw[->, cross] (m3) to node[left, yshift=8pt] {$\mathid \tinydot[gray dot] \xi$} (b3); 
\draw[->] (m4) to node[left] {$a \tens a$} (b4);
%uppersquare
\node (u1) at (0,3) [] {$((M_1 \tens N_1) \hor (M_2 \tens N_2)) \hor (M_3 \tens N_3)$};
\node (u2) at (2,3) [] {$((M_1 \hor M_2) \tens (N_1 \hor N_2)) \hor (M_3 \tens N_3)$};
\node (u3) at (1,2.5) [] {$((M_1 \tens N_1)_{\tinydot[gray dot]}(M_2 \tens N_2))_{\tinydot[gray dot]}(M_3 \tens N_3)$};
\node (u4) at (3,2.5) [] {$(({M_1}_{\tinydot[gray dot]} M_2) \tens ({N_1}_{\tinydot[gray dot]} N_2))_{\tinydot[gray dot]} (M_3 \tens N_3)$};
\draw[->] (u1) to node[left] {$\alpha$} (m1); 
\draw[->] (u2) to node[left] {$\hat{\sigma}$} (m2);
\draw[->, cross] (u3) to node[left] {$a$} (m3); 
\draw[->] (u4) to node[left] {$\xi$} (m4);
\draw[->, cross] (u3) to node[above, xshift=8pt] {$\xi_{\tinydot[gray dot]} \mathid$} (u4); 
\draw[->] (u1) to node[above] {$\hat{\sigma} \hor \mathid$} (u2);
\draw[->] (u1) to node[below] {} (u3); 
\draw[->, cross] (u2) to node[above] {} (u4);
\end{tikzpicture}
\end{equation}

All other equations concerning $\xi$ are proven in the same way. These are the second and third equation of (iv), the first equation of (v), the first and the third equation of (vi), and the first equation of (ix).
It is easy to see that equations concerning $\fu$ hold, keeping in mind that $\fu$ is the identity, and $U_{\alpha_{A,B,C}} = \alpha_{U_A,U_B,U_C}$, $U(\rho_A) = \rho_{U_A}$, $U(\lambda_A) = \lambda_{U_A}$, and $\sigma_{U_A,U_B} = U(\sigma_{A,B})$.
These remaining equations are the second equation of (v), the second and the fourth equation of (vi), and the second equation of (ix).
\end{proof}

\subsection{Companions and conjoints in $\Alg$}\label{sec:fibDalg}
Finally, we will prove that $\Alg(\cat B$) is fibrant. this is the last step we need to take to show that we can lift $\Alg({\cat B})$ to obtain the bicategory ${\cA}lg({\cat B})$, which preserves any braided monoidal structure.

\begin{lem}\label{lem:algfib}
The double category $\Alg({\cat B})$ is fibrant.
\end{lem}

\begin{proof}
Let $f$ be a morphism of ${\lD_1}$. The companion of $f$ is defined by the following data: 

\begin{equation}\label{eq:companion}
\hat{f}:= 
\begin{aligned}
 \begin{tikzpicture}[scale=0.6] 
\draw (0.5,-0.5)node[below]{$A$} -- (0.5, -0.2);
\draw (0.2,-0.2) -- (0.8,-0.2) -- (0.8,0.7) -- (0.2,0.7) -- (0.2,-0.2);
\draw (0.5,0.7) to[out=90,in=160] (1.2,1.2) node[gray dot] {};
\draw (1.2,-0.5) node[below]{$B$} to (1.2,1.2);
\draw (1.9,0.7) to[out=90, in=20] (1.2,1.2){};
\draw (1.9,0.7)  to (1.9,-0.5)node [below]{$B$};
\draw (1.2,1.9) -- (1.2,1.2){};
\node at (0.5,0.25)[] {$f$};
\node at (1.2,2.1)[]{$B$};
\end{tikzpicture}
\end{aligned}
\quad \quad \eta_{\hat{f}} := (id_A, f, f)
\quad \quad \epsilon_{\hat{f}} := (f, \mathid_B, \mathid_B)
\end{equation}

The first equation of ~\ref{eq:compeqn} holds because $\epsilon_{\hat{f}} \circ \eta_{\hat{f}} = (f,f,f) = U_f$. The left-hand-side of the second equation corresponds to $\eta_{\hat{f}} \ominus \epsilon_{\hat{f}}= (id_A, f\tinydot[gray dot] \mathid_B, \mathid_B)$, where $f\tinydot[gray dot] \mathid_B: {U_A}_{\tinydot[gray dot]} \hat{f} \rightarrow \hat{f}_{\tinydot[gray dot]}U_B$ is the unique map that makes back of the diagram below commute.  We need to show that this equals $1_{\hat{f}} = (\mathid_A, \mathid_B, \mathid_B)$.

\begin{tikzpicture}[xscale=4,yscale=2]
 \node (tl) at (0,1) {$A \hor A \hor B$};
 \node (bl) at (0,0) {$B \hor B \hor B$};
  \node (tm) at (1,1) {$A \hor B$};
 \node (bm) at (1,0) {$B \hor B$};
\draw[->] ([yshift=1.5pt] tl.east) to node[above] {${}_{\tinydot[white dot]}U_A \hor \mathid_B$} ([yshift=1.5pt] tm.west);
\draw[->] ([yshift=-1.5pt] tl.east) to node[below] {$\mathid_{A} \hor \hat{f}_{\tinydot[gray dot]}$} ([yshift=-1.5pt] tm.west);
\draw[->] ([yshift=1.5pt] bl.east) to node[above] {$_{\tinydot[white dot]}\hat{f} \hor \mathid_B$} ([yshift=1.5pt] bm.west);
\draw[->] ([yshift=-1.5pt] bl.east) to node[below] {$\mathid_{B} \hor {U_B}_{\tinydot[gray dot]}$} ([yshift=-1.5pt] bm.west);
 \node (r1) at (2,1.25) {$A_{\tinydot[gray dot]} B$};
 \node (r2) at (1.6,0.75) {$B$};
  \node (r3) at (2,0.25) {$B_{\tinydot[gray dot]} B$};
 \node (r4) at (1.6,-0.25) {$B$};
 \draw[->] (tm) to node[above] {$c_A$} (r1.west);
 \draw[->] (tm) to node[below] {$\hat{f}_{\tinydot[gray dot]}$} (r2);
  \draw[->] (bm) to node[above,xshift=-4pt] {$c_B$} (r3.west);
 \draw[->] (bm) to node[below] {$_{\tinydot[white dot]}\hat{f}$} (r4);
  \draw[->, dashed] (r1) to node[left] {$l_{\hat{f}}$} (r2);
 \draw[->, dashed] (r3) to node[right] {$r_{\hat{f}}$} (r4);
  \draw[->, dashed] (r1) to node[right] {$f \tinydot[gray dot] \mathid_B$} (r3);
 \draw[->, dashed, cross] (r2) to node[right,yshift=7pt] {$\mathid_B$} (r4);
 \draw[->] (tl) to node[left] {$f \hor f \hor \mathid_B$} (bl);
 \draw[->] (tm) to node[left] {$f \hor \mathid_B$} (bm);
\end{tikzpicture}

In this diagram, $c_A$ and $c_B$ are the coequalisers defining ${U_A}_{\tinydot[gray dot]} \hat{f}$ and $\hat{f}_{\tinydot[gray dot]}U_B$, respectively.
It is easy to check that $\hat{f}_{\tinydot[gray dot]}$ and $_{\tinydot[white dot]}{\hat{f}}$ are coequalisers as well. The morphisms $B$, $l_{\hat{f}}$ and $r_{\hat{f}}$ are the unique morphisms that make all diagrams commute. If we assume the double category to be strict, it follows that $f \tinydot[gray dot] \mathid_B = \mathid_B$, and thus $\eta_{\hat{f}} \ominus \epsilon_{\hat{f}} = 1_{\hat{f}}$.

This simultaneously proves that $f$ has a conjoint, because $\Alg({\bf C}^{h* op}) \cong$ $\Alg({\cat C})$.
\end{proof}

\begin{eg}
When we take the category $\mathcal{A}B$ of Abelian groups and group homomorphisms as our symmetric monoidal category, we obtain the double category $\cMod$ of rings, ring homomorphisms, bimodules and bimodule homomorphisms. As a consequence of Lemma's ~\ref{lem:algdouble}, ~\ref{lem:algsymmon}, and ~\ref{lem:algfib}, and Theorem ~\ref{thm:trifunctor2}, the horizontal bicategory $\cMod$ of $\lMod$ is a symmetric monoidal.
\end{eg}

\begin{thm}\label{thm:eqcomp}
Let {\bf B} be a bicategory. The bicategory $\mathcal{A}lg({\cat B})$ is monoidal whenever {\bf B} is monoidal; it is braided whenever {\bf B} is braided; and it is symmetric whenever {\bf B} is symmetric.
\end{thm}

\begin{proof}
This follows directly from Lemmas \ref{lem:algdouble}, \ref{lem:algsymmon}, \ref{lem:algfib}, and from Theorem ~\ref{thm:trifunctor2}.
\end{proof}

When we consider bicategories with one object, more of the symmetry is preserved than one would expect from Theorem ~\ref{thm:eqcomp}

\begin{prop}\label{prop:oneobject}
Let {\bf B} be a monoidal bicategory with one object. The bicategory $\mathcal{A}lg({\cat B})$ of algebras, bimodules, and bimodule homomorphisms in {\cat B} is braided monoidal. When ${\bf B}$ is braided, then $\mathcal{A}lg({\cat B})$ is symmetric.
\end{prop}

\begin{proof}
A monoidal bicategory with one object corresponds to a braided monoidal category. A braided monoidal bicategory with one object corresponds to a symmetric monoidal category. We can lift this braiding $\sigma$ to a braiding on the double category, illustrated by the picture below. The rest proof is analogous of that of Theorem \ref{thm:eqcomp}, with the only difference that in the diagrams the tensor product is no longer distinguishable from horizontal composition.

\begin{equation}
\begin{tikzpicture} 
\draw (1.5,0) -- (1.5,0.5) -- (2.5,0.5) -- (2.5,0) -- (1.5,0);
\draw (0,0) -- (0,0.5) -- (1,0.5) -- (1,0) -- (0,0);
\node at (0.5,0.25) [] {${\bf M}$};
\node at (2,0.25) [] {${\bf N}$};
\draw (0.2,0) to[out=-90, in=90] (-1,-1);
\draw (0.5,0) to[out=-90, in=90] (0.5,-1);
\draw[cross] (0.8,0) to[out=-90, in=90] (3,-1);
\draw (1.7,0) to[out=-90, in=90] (-0.5,-1);
\draw (2,0) to[out=-90, in=90] (2,-1);
\draw (2.2,0) to[out=-90, in=90] (3.5,-1);
\draw (0.5,1) to (0.5,0.5);
\draw (2, 1) to (2, 0.5);
\node at (-1,-1.2) [] {A};
\node at (0.5,-1.2) [] {M};
\node at (3,-1.2) [] {B};
\node at (-0.5,-1.2) [] {C};
\node at (2,-1.2) [] {N};
\node at (3.5,-1.2) [] {D};
\node at (0.5,1.2) [] {N};
\node at (2,1.2) [] {M};
\end{tikzpicture}
\hspace{10pt}
  \begin{tikzpicture}[scale=1.5]
    \draw (0,0.5) to (0,1)node[above] {};
    \draw[cross] (.6,-.5) node[below]{} to[out=90,in=0] (0,0.5);
    \draw[cross] (0,0.5) to[out=180,in=90] (-.6,-.5)node[below] {};
    \node [white dot, node on layer=main] (m) at (0,.5) {};
    \node[black dot] (m) at (.8,.5) {};
    \draw (m.center) to (.8,1)node[above] {};
    \draw (1.4,-.5) node[below]{} to[out=90,in=0] (m.center);
    \draw (m.center) to[out=180,in=90] (0.2,-.5)node[below] {};
  \end{tikzpicture}
\end{equation}

{\it how to get the crossing?}
\end{proof}

\begin{rmk}\label{comspecfrob}
The bicategory of Frobenius algebras, bimodules and bimodule homomorphisms is symmetric monoidal. This follows from Theorem ~\ref{thm:eqcomp} since Frobenius algebras and algebra homomorphisms form a full symmetric monoidal subcategory of the category of algebras and algebra homomorphisms. The same statement holds for special and commutative Frobenius algebras. 
\end{rmk}

\begin{cor}
The equivariant completion of a bicategory introduced in ~\cite{carquevillerunkel} preserves symmetric, braided, and monoidal structure.
\end{cor}

\begin{proof}
The equivariant completion of a bicategory ${\bf B}$ is the subbicategory of $\mathcal{A}lg({\cat B})$ consisting of special Frobenius algebras, bimodules and bimodule homomorphisms. The result follows from remark \ref{comspecfrob} and Theorem \ref{thm:eqcomp}
\end{proof}

When we restrict to dagger Frobenius algebras and dagger bimodules, we do not obtain a fibrant double category by the method introduced in this paper. The reason is that the bimodule defined in equation ~\ref{eq:companion} as part of the data that forms a companion is not a dagger bimodule. To solve this, we restrict the categories $\mathbb{D}_0$ and $\mathbb{D}_1$ in an appropriate way to ensure that the result still holds.

\begin{prop}\label{prop:dagger}
Let ${\cat B}$ be a bicategory. The bicategory of dagger Frobenius algebras, dagger bimodules and bimodule homomorphisms of ${\cat B}$ is monoidal whenever {\bf B} is monoidal; it is braided whenever {\bf B} is braided; and it is symmetric whenever {\bf B} is symmetric.
\end{prop}

\begin{proof}
We take the category of dagger Frobenius algebras and self conjugate algebra homomorphisms of {\cat B} as $\D_0$. For $\D_1$ we take the category of dagger bimodules and extended bimodule homomorphisms $(f_1,f,f_2)$ {\cat B}, of which $f_1$ and $f_2$ are self conjugate. This ensures that ~\ref{eq:companion} is a dagger bimodule.  These categories are symmetric monoidal subcategories of our original $\D_0$ and $\D_1$, since self-conjugate morphisms are closed under the tensor product and all structure isomorphisms of the monoidal categories are self conjugate. All other steps of the construction hold in the same way as in the general case.  
\end{proof}

\begin{cor}
Let ${\bf C}$ be a symmetric monoidal category. The bicategory $2(CP({\bf C}))$ of ~\cite{heunenvicarywester} is symmetric monoidal.
\end{cor}

\begin{proof}
This follows directly from proposition \ref{prop:dagger} and \ref{prop:oneobject}.
\end{proof}

\begin{rmk}
If ${\bf C}$ is idempotent complete and we restrict to special Frobenius algebras, we can give an explicit definition for the functor $\ominus$, as was observed in ~\cite{heunenvicarywester} and ~\cite{carquevillerunkel}. As a result, part of the structure data becomes trivial.

Let $_A{\bf M}_B$ and $_B{\bf N}_C$ be dagger modules on special Frobenius algebras. The coequaliser which defines their horizontal composition %(definition\ref{def:horcom}), 
is given by the dagger splitting of the dagger idempotent $_{\tinydot[white dot]}{\bf M}_{\tinydot[gray dot]}{\bf N}_{\tinydot[black dot]}$: \begin{equation}\label{eq:frobeniusimage}
    \begin{tikzpicture}[yscale=0.875]
      \draw [use as bounding box, draw=none] (-1.5,-1) rectangle +(3,2);
      \node[morphism, minimum width=10mm] (m) at (-.75,.2) {$\mathbf{M}$};
      \node[morphism, minimum width=10mm] (n) at (.75,.2) {$\mathbf{N}$};
      \draw (m.north) to (-.75,1) node[right] {$M$};
      \draw (n.north) to (.75,1) node[right] {$N$};
      \draw (m.south) to (-.75,-1) node[right] {$M$};
      \draw (n.south) to (.75,-1) node[right] {$N$};
      \draw (m.-135) to[out=-90,in=90] (-1.1,-.6) node[white dot] {};
      \draw (n.-45) to[out=-90,in=90] (1.1,-.6) node[black dot] {};
      \draw (m.-45) to[out=-90,in=150] (0,-.4) node[gray dot] {} to[out=30,in=-90] (n.-135);
      \draw (0,-.5) to (0,-.75) node[gray dot] {};
    \end{tikzpicture}
  \end{equation},
  
  The module ${\bf M_{\tinydot[gray dot]}N}$ can be given explicitly as the dagger module below, where $c$ is the dagger splitting of the coequaliser.
  
  \begin{equation}\label{eq:bimodule-tensor}
  \begin{pic}[yscale=0.875]
    \node[morphism, minimum width=10mm] (mn) at (0,0) {$\mathbf{M} \;\;\; \mathbf{N}$};
    \node[gray dot] at (0.05,0) {};
    \draw (mn.north) to (0,1.8) node[right] {$M_{\tinydot[gray dot]} N$};
    \draw (mn.south) to (0,-2) node[right] {$M_{\tinydot[gray dot]}N$};
    \draw (mn.-45) to[out=-90,in=90] (1,-2) node[right] {$E$};
    \draw (mn.-135) to[out=-90,in=90] (-1,-2) node[right] {$C$};
  \end{pic}
  \qquad := \qquad
  \begin{pic}[yscale=0.875]
      \node[morphism] (i) at (0,-1.3) {$c^\dag$};
      \node[morphism] (id) at (0,1.2) {$c$};
      \node[morphism, minimum width=10mm] (m) at (-.75,.2) {$\mathbf{M}$};
      \node[morphism, minimum width=10mm] (n) at (.75,.2) {$\mathbf{N}$};
      \draw (m.north) to[out=90,in=-90] (id.-135); 
      \draw (n.north) to[out=90,in=-90] (id.-45);
      \draw (m.south) to[out=-90,in=90] (i.135);
      \draw (n.south) to[out=-90,in=90] (i.45);
      \draw (m.-45) to[out=-90,in=150] (0,-.4) node[gray dot] {} to[out=30,in=-90] (n.-135);
      \draw (0,-.5) to (0,-.75) node[gray dot] {};
      \draw (m.-135) to[out=-90,in=90] (-1.25,-2) node[right] {$C$};
      \draw (n.-45) to[out=-90,in=90] (1.25,-2) node[right] {$E$};
      \draw (id.north) to (0,1.8) node[right] {$M_{\tinydot[gray dot]}N$};
      \draw (i.south) to (0,-2) node[right] {$M_{\tinydot[gray dot]}N$};
  \end{pic}
\end{equation}

 The natural isomorphisms $l: U_A \ominus {\bf M} \rightarrow {\bf M}$ and $r: {\bf M} \ominus U_B \rightarrow {\bf M}$, are given by the identity morphisms. This is because ${\bf M}_{\tinydot[gray dot]}^{\dagger}$ and $_{\tinydot[white dot]}{\bf M}^{\dagger}$ are the dagger splittings of $_{\tinydot[white dot]}{U_A}_{\tinydot[white dot]}{\bf M}_{\tinydot[gray dot]}$ and $_{\tinydot[white dot]}{\bf M}_{\tinydot[gray dot]}{U_B}_{\tinydot[gray dot]}$, respectively. It follows that these are the coequalisers defining $A_{\tinydot[white dot]}M$ and $M_{ \tinydot[gray dot]}B$.
  But $M$ is the image of both $_{\tinydot[white dot]}{\bf M}$ and ${\bf M}_{\tinydot[gray dot]}$. 
  It follows by definition that $A_{\tinydot[white dot]}M = M$, and ${U_A} \ominus {\bf M} = {\bf M}$, as well as $M_{\tinydot[gray dot]}B = M$, and ${\bf M} \ominus {\bf U_B} = {\bf M}$.
  \end{rmk} 

 
\bibliographystyle{alpha}
\bibliography{smbicat}

\end{document}
